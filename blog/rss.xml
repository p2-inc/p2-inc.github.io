<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>Managed Keycloak Hosting and Enterprise Keycloak Support Blog</title>
        <link>https://phasetwo.io/blog/</link>
        <description>Managed Keycloak Hosting and Enterprise Keycloak Support Blog</description>
        <lastBuildDate>Wed, 04 Feb 2026 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Cluster Observability and Logs]]></title>
            <link>https://phasetwo.io/blog/cluster-observability-and-logs/</link>
            <guid>https://phasetwo.io/blog/cluster-observability-and-logs/</guid>
            <pubDate>Wed, 04 Feb 2026 00:00:00 GMT</pubDate>
            <description><![CDATA[Phase Two now includes built-in observability for dedicated clusters, starting with log downloads via the self-service dashboard.]]></description>
            <content:encoded><![CDATA[<p>We’re excited to announce built-in observability for dedicated clusters, starting with <strong>log downloads</strong> in the Phase Two dashboard.</p>
<p>Access to logs is essential for monitoring health, diagnosing incidents, and understanding performance. With this initial release, you can filter logs by time range and download them as a zip file for offline analysis. This helps teams quickly pinpoint issues and keep their services running smoothly.</p>
<p>Next up: <strong>live log streaming</strong> and <strong>exports to external systems</strong>, giving you more flexibility for centralized log management and analysis.</p>
<p>Learn more in the <a href="https://phasetwo.io/docs/self-service/observability/" target="_blank" rel="noopener noreferrer" class="">Observability and Logs documentation</a>.</p>
<p>Ready to try it? Log in to the <a href="https://dash.phasetwo.io/" target="_blank" rel="noopener noreferrer" class="">Phase Two Dash</a> and view logs for your cluster. This feature is included with all <strong>dedicated cluster plans</strong>. Questions? Reach us at <a href="mailto:support@phasetwo.io" target="_blank" rel="noopener noreferrer" class="">support@phasetwo.io</a>.</p>]]></content:encoded>
            <author>support@phasetwo.io (Phase Two)</author>
            <category>phase_two</category>
            <category>hosting</category>
            <category>open_source</category>
            <category>keycloak</category>
            <category>observability</category>
            <category>logs</category>
        </item>
        <item>
            <title><![CDATA[Cockroach Labs features Phase Two's Managed Keycloak Hosting]]></title>
            <link>https://phasetwo.io/blog/cockroach-labs-features-phasetwo-managed-keycloak-hosting/</link>
            <guid>https://phasetwo.io/blog/cockroach-labs-features-phasetwo-managed-keycloak-hosting/</guid>
            <pubDate>Wed, 14 Jan 2026 00:00:00 GMT</pubDate>
            <description><![CDATA[Cockroach Labs highlights Phase Two's managed Keycloak hosting platform in their latest blog post.]]></description>
            <content:encoded><![CDATA[<p>We’re pleased to share that Cockroach Labs has published a new blog post featuring Phase Two and our managed Keycloak hosting platform.</p>
<p>In <a href="https://www.cockroachlabs.com/blog/deploying-keycloak-on-cockroachdb-with-phase-two/" target="_blank" rel="noopener noreferrer" class=""><em>Deploying Keycloak on CockroachDB with Phase Two: A Complete Guide</em></a>, Cockroach Labs walks through how Phase Two and CockroachDB work together to provide a strong foundation for secure, multi-tenant identity at scale. The post outlines why strong consistency, high availability, and horizontal scalability are critical requirements for modern SaaS identity systems—and how combining managed Keycloak with CockroachDB meets those needs in production environments.</p>
<p>The article also includes an overview of Phase Two’s managed Keycloak offering, highlighting how teams can offload operational complexity such as infrastructure management, upgrades, backups, and high-availability configuration. By pairing this with CockroachDB’s globally distributed SQL database, organizations can deploy enterprise-grade authentication and SSO while maintaining strong consistency and predictable performance.</p>
<p>We appreciate Cockroach Labs’ collaboration and the opportunity to showcase how this complementary stack helps SaaS teams move faster without compromising on reliability or security.</p>
<p>You can read the full post on the Cockroach Labs blog here:
<a href="https://www.cockroachlabs.com/blog/deploying-keycloak-on-cockroachdb-with-phase-two/" target="_blank" rel="noopener noreferrer" class=""><strong>Deploying Keycloak on CockroachDB with Phase Two: A Complete Guide</strong></a></p>]]></content:encoded>
            <author>support@phasetwo.io (Phase Two)</author>
            <category>phase_two</category>
            <category>hosting</category>
            <category>open_source</category>
            <category>keycloak</category>
            <category>cockroachdb</category>
        </item>
        <item>
            <title><![CDATA[Security Capabilities Now Available for Keycloak Clusters]]></title>
            <link>https://phasetwo.io/blog/dedicated-clusters-security-capabilities/</link>
            <guid>https://phasetwo.io/blog/dedicated-clusters-security-capabilities/</guid>
            <pubDate>Mon, 05 Jan 2026 00:00:00 GMT</pubDate>
            <description><![CDATA[Enhance the security of your Keycloak clusters with new features available on the Phase Two Dash.]]></description>
            <content:encoded><![CDATA[<p>At Phase Two, we are committed to providing our customers with the most secure and reliable managed Keycloak hosting platform. As part of this commitment, we are excited to announce the release of new security capabilities for Keycloak clusters available through the Phase Two Dash.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="new-security-features">New Security Features<a href="https://phasetwo.io/blog/dedicated-clusters-security-capabilities/#new-security-features" class="hash-link" aria-label="Direct link to New Security Features" title="Direct link to New Security Features" translate="no">​</a></h2>
<p>We have introduced the first of several new security features that can be easily configured through the Phase Two Dash. These features are designed to enhance the security posture of your Keycloak clusters and provide you with greater control over your authentication environment.</p>
<p>The initial set of security features includes the ability to configure <strong>IP level access</strong> to your Keycloak clusters. There are three types of IP restrictions you can apply:</p>
<ol>
<li class=""><strong>Admin Paths</strong>: Restrict access to the administrative interfaces of your Keycloak instance (e.g., /admin, /auth/admin) to specific IP addresses or ranges. This ensures that only authorized personnel can access sensitive admin functions.</li>
<li class=""><strong>Public Allowed Paths</strong>: Specify IP addresses that are allowed to access public endpoints (e.g., /token). This is useful for limiting access to known clients while blocking all other traffic. Particularly useful for development and staging environments.</li>
<li class=""><strong>Public Blocked Paths</strong>: Block specific IP addresses from accessing public endpoints (e.g., /token). This allows you to prevent known malicious IPs from interacting with your Keycloak instance without affecting legitimate traffic. Or to just block abuse to your application for any reason.</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="how-to-configure-security-features">How to Configure Security Features<a href="https://phasetwo.io/blog/dedicated-clusters-security-capabilities/#how-to-configure-security-features" class="hash-link" aria-label="Direct link to How to Configure Security Features" title="Direct link to How to Configure Security Features" translate="no">​</a></h2>
<p>Visit your cluster's page &gt; Config tab &gt; Restrictions to manage IP restrictions for your Keycloak cluster. You can easily add or remove IP addresses or CIDR ranges for each type of restriction.</p>
<p>Learn more in the <a href="https://phasetwo.io/docs/self-service/restrictions/" target="_blank" rel="noopener noreferrer" class="">Cluster Restrictions documentation</a>.</p>
<hr>
<p>Want to learn more or have feedback? Log in to the <a href="https://dash.phasetwo.io/" target="_blank" rel="noopener noreferrer" class="">Phase Two Dash</a> and try adding your IP restriction now. This feature is included with all <strong>dedicated cluster plans</strong>. For any questions or concerns, please reach out to <a href="mailto:support@phasetwo.io" target="_blank" rel="noopener noreferrer" class="">support@phasetwo.io</a>.</p>]]></content:encoded>
            <author>support@phasetwo.io (Phase Two)</author>
            <category>phase_two</category>
            <category>hosting</category>
            <category>open_source</category>
            <category>keycloak</category>
            <category>security</category>
        </item>
        <item>
            <title><![CDATA[Configure Environment Variables for Dedicated Keycloak Clusters]]></title>
            <link>https://phasetwo.io/blog/dedicated-clusters-environment-variables/</link>
            <guid>https://phasetwo.io/blog/dedicated-clusters-environment-variables/</guid>
            <pubDate>Mon, 29 Dec 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[How to set environment variables for dedicated Keycloak clusters on the Phase Two Dash]]></description>
            <content:encoded><![CDATA[<p>Phase Two has been storming ahead with our managed Keycloak hosting platform, <a href="https://dash.phasetwo.io/" target="_blank" rel="noopener noreferrer" class="">dash.phasetwo.io</a>. As part of our commitment to providing flexible and powerful hosting solutions, we are excited to announce that users can now set environment variables for their dedicated Keycloak clusters directly through the Phase Two Dash.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="why-environment-variables">Why Environment Variables?<a href="https://phasetwo.io/blog/dedicated-clusters-environment-variables/#why-environment-variables" class="hash-link" aria-label="Direct link to Why Environment Variables?" title="Direct link to Why Environment Variables?" translate="no">​</a></h2>
<p>Environment variables are a crucial aspect of configuring and managing applications. They allow you to customize the behavior of your Keycloak instances without modifying the underlying code or configuration files. This is especially important for managing sensitive information such as API keys and other configuration settings. For customers building custom Keycloak extensions or integrating with third-party services, the ability to set environment variables is essential.</p>
<p>With this new feature, you can easily manage your Keycloak cluster's environment variables through a user-friendly interface, streamlining the deployment and configuration process. Updates are applied seamlessly, requiring no downtime for your authentication services.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="how-to-set-environment-variables">How to Set Environment Variables<a href="https://phasetwo.io/blog/dedicated-clusters-environment-variables/#how-to-set-environment-variables" class="hash-link" aria-label="Direct link to How to Set Environment Variables" title="Direct link to How to Set Environment Variables" translate="no">​</a></h2>
<p>Within your cluster, visit your cluster's page &gt; Config tab &gt; Keycloak features. From there, you can add new environment variables or remove existing ones. You have the option to set variables as plaintext or as secrets, ensuring that sensitive information remains secure.</p>
<p>Learn more in the <a href="https://phasetwo.io/docs/self-service/environment-variables/" target="_blank" rel="noopener noreferrer" class="">Environment Variables documentation</a>.</p>
<hr>
<p>Want to learn more or have feedback? Log in to the <a href="https://dash.phasetwo.io/" target="_blank" rel="noopener noreferrer" class="">Phase Two Dash</a> and try adding your first environment variable. This feature is included with all <strong>dedicated cluster plans</strong>. For any questions or concerns, please reach out to <a href="mailto:support@phasetwo.io" target="_blank" rel="noopener noreferrer" class="">support@phasetwo.io</a>.</p>]]></content:encoded>
            <author>support@phasetwo.io (Phase Two)</author>
            <category>phase_two</category>
            <category>hosting</category>
            <category>open_source</category>
            <category>keycloak</category>
        </item>
        <item>
            <title><![CDATA[Auth.it featured on Keycloak Friday Chat]]></title>
            <link>https://phasetwo.io/blog/authit-on-kfc/</link>
            <guid>https://phasetwo.io/blog/authit-on-kfc/</guid>
            <pubDate>Mon, 15 Dec 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[Phase Two's new hosting platform, Auth.it, was featured on Mr. Keycloak's livestream]]></description>
            <content:encoded><![CDATA[<p>Phase Two has recently <a href="https://auth.it/blog/welcome" target="_blank" rel="noopener noreferrer" class="">launched</a> <a href="https://auth.it/" target="_blank" rel="noopener noreferrer" class="">Auth.it</a>, a modern authentication platform built for developers who want the power of Keycloak with the simplicity, polish, and developer experience of modern identity providers like WorkOS, Stytch, and Clerk — all at a fraction of the cost.</p>
<p>Last Friday, Niko Köbler (aka "Mr. Keycloak"), invited us to demonstrate Auth.it and explain how we built it on his livestream, <a href="https://www.n-k.de/2025/12/kfc-keycloak-friday-chat-xmas-edition-authit-phase-two.html" target="_blank" rel="noopener noreferrer" class="">Keycloak Friday Chat</a>. If you're interested in an overview of the new platform, and would like to know the details of how it was implemented as a set of Keycloak extensions, please <a href="https://www.youtube.com/watch?v=a2thzEs35ws" target="_blank" rel="noopener noreferrer" class="">watch the recording of the livestream</a>.</p>]]></content:encoded>
            <author>support@phasetwo.io (Phase Two)</author>
            <category>phase_two</category>
            <category>hosting</category>
            <category>open_source</category>
            <category>keycloak</category>
            <category>authit</category>
        </item>
        <item>
            <title><![CDATA[Run the Keycloak Admin UI Locally (with Phase Two Extensions)]]></title>
            <link>https://phasetwo.io/blog/run-admin-ui/</link>
            <guid>https://phasetwo.io/blog/run-admin-ui/</guid>
            <pubDate>Tue, 14 Oct 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[Set up a fast local development environment for the Keycloak Admin UI and point it at a custom Keycloak image—perfect for iterating on extensions like Keycloak Organizations.]]></description>
            <content:encoded><![CDATA[<p>Developing custom additions to the Keycloak Admin UI can be fiddly and slow. At Phase Two we maintain several <a href="https://github.com/p2-inc#our-extensions-" target="_blank" rel="noopener noreferrer" class="">popular community extensions</a> that must track frequent Keycloak releases. Below is the approach we use to develop and verify Admin UI changes quickly against a running Keycloak image that includes our extensions.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="tldr">TL;DR<a href="https://phasetwo.io/blog/run-admin-ui/#tldr" class="hash-link" aria-label="Direct link to TL;DR" title="Direct link to TL;DR" translate="no">​</a></h2>
<ol>
<li class="">Clone our Keycloak fork and check out the matching Admin UI branch (e.g., <code>26.3.0_orgs_adminui</code>).</li>
<li class="">Replace the default server script with our custom one (details below).</li>
<li class="">Start a Phase Two Keycloak container with the Admin UI in dev mode:</li>
</ol>
<div class="language-bash codeBlockContainer_Y_6F theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_vaQw"><pre tabindex="0" class="prism-code language-bash codeBlock_lLLt thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_svEc"><span class="token-line" style="color:#bfc7d5"><span class="token plain">pnpm start --admin-dev --phasetwo --tag=latest</span><br></span></code></pre></div></div>
<ol start="4">
<li class="">In a second terminal, run the Admin UI dev server:</li>
</ol>
<div class="language-bash codeBlockContainer_Y_6F theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_vaQw"><pre tabindex="0" class="prism-code language-bash codeBlock_lLLt thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_svEc"><span class="token-line" style="color:#bfc7d5"><span class="token plain">pnpm i &amp;&amp; pnpm dev</span><br></span></code></pre></div></div>
<p>Open <a href="http://localhost:8080/" target="_blank" rel="noopener noreferrer" class="">http://localhost:8080</a>. You’ll get auto-refresh and modern DX while the backend runs in Docker.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="why-this-matters">Why this matters<a href="https://phasetwo.io/blog/run-admin-ui/#why-this-matters" class="hash-link" aria-label="Direct link to Why this matters" title="Direct link to Why this matters" translate="no">​</a></h2>
<p>The Admin UI is the control center for Keycloak. Customizing it is powerful, but it’s tightly coupled to the core codebase and evolves quickly. Running the UI in dev mode against <strong>the exact server image</strong> you ship (e.g., Phase Two’s extended image) lets you:</p>
<ul>
<li class="">Catch breaking changes early when Keycloak releases.</li>
<li class="">Iterate on UI changes instantly (no re-building JARs between edits).</li>
<li class="">Validate that your extensions render and behave correctly with real data.</li>
</ul>
<p>Our <a href="https://github.com/p2-inc/keycloak-orgs" target="_blank" rel="noopener noreferrer" class="">Keycloak Organizations</a> extension, for example, adds new sections to the Admin Console. Each release we re-verify and adjust UI components; this workflow makes that practical.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="how-the-stock-setup-works-and-why-we-tweak-it">How the stock setup works (and why we tweak it)<a href="https://phasetwo.io/blog/run-admin-ui/#how-the-stock-setup-works-and-why-we-tweak-it" class="hash-link" aria-label="Direct link to How the stock setup works (and why we tweak it)" title="Direct link to How the stock setup works (and why we tweak it)" translate="no">​</a></h2>
<p>Keycloak’s Admin UI is now a library inside the main repo. You can run it locally against a server, but the stock start script pulls the <strong>nightly</strong> image—great for core dev, not ideal when you need to test against a specific custom image.</p>
<p>To fix that, we use a small custom start script that runs a <strong>Phase Two Keycloak container</strong> (or any image—see below) and wires the Admin UI dev server to it.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="prerequisites">Prerequisites<a href="https://phasetwo.io/blog/run-admin-ui/#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" translate="no">​</a></h2>
<ul>
<li class="">Node 20+</li>
<li class=""><code>pnpm</code> 9+</li>
<li class="">Docker Desktop / Docker 24+</li>
<li class="">Ports <strong>8080</strong> (Keycloak) and <strong>5174</strong> (Admin UI) free</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="step-by-step">Step-by-step<a href="https://phasetwo.io/blog/run-admin-ui/#step-by-step" class="hash-link" aria-label="Direct link to Step-by-step" title="Direct link to Step-by-step" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="1-get-the-right-code">1) Get the right code<a href="https://phasetwo.io/blog/run-admin-ui/#1-get-the-right-code" class="hash-link" aria-label="Direct link to 1) Get the right code" title="Direct link to 1) Get the right code" translate="no">​</a></h3>
<ul>
<li class="">Clone our fork and check out the branch that matches your Keycloak target (we don’t publish a branch for every upstream release):</li>
</ul>
<div class="language-bash codeBlockContainer_Y_6F theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_vaQw"><pre tabindex="0" class="prism-code language-bash codeBlock_lLLt thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_svEc"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># example</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git clone https://github.com/p2-inc/keycloak.git</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd keycloak</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">git checkout 26.3.0_orgs_adminui</span><br></span></code></pre></div></div>
<ul>
<li class="">Admin UI lives under <code>js/apps/admin-ui/</code>. The embedded server project lives under <code>js/apps/keycloak-server/</code>.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="2-swap-in-the-custom-start-script">2) Swap in the custom start script<a href="https://phasetwo.io/blog/run-admin-ui/#2-swap-in-the-custom-start-script" class="hash-link" aria-label="Direct link to 2) Swap in the custom start script" title="Direct link to 2) Swap in the custom start script" translate="no">​</a></h3>
<p>Copy the contents of <code>js/apps/admin-ui/src/phaseII/start-server-custom.js</code> into <code>js/apps/keycloak-server/scripts/start-server.js</code> <strong>replacing its contents</strong>.</p>
<blockquote>
<p>The custom script adds flags like <code>--phasetwo</code> and <code>--tag</code> and starts <code>quay.io/phasetwo/phasetwo-keycloak:&lt;tag&gt;</code> via Docker with the right dev env vars.</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="3-if-needed-align-the-theme-output-name">3) (If needed) Align the theme output name<a href="https://phasetwo.io/blog/run-admin-ui/#3-if-needed-align-the-theme-output-name" class="hash-link" aria-label="Direct link to 3) (If needed) Align the theme output name" title="Direct link to 3) (If needed) Align the theme output name" translate="no">​</a></h3>
<p>Our Admin UI build emits a theme named <code>phasetwo.v2</code>. If your environment expects <code>keycloak.v2</code>, either:</p>
<ul>
<li class="">Duplicate the folder <code>theme/phasetwo.v2</code> and name it <code>keycloak.v2</code>, <strong>or</strong></li>
<li class="">Update <code>vite.config.ts</code> to output to <code>phasetwo.v2</code> and keep the server pointed at that name.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="4-start-the-server-and-the-ui">4) Start the server and the UI<a href="https://phasetwo.io/blog/run-admin-ui/#4-start-the-server-and-the-ui" class="hash-link" aria-label="Direct link to 4) Start the server and the UI" title="Direct link to 4) Start the server and the UI" translate="no">​</a></h3>
<ul>
<li class="">Start the server container + wire the UI dev endpoints:</li>
</ul>
<div class="language-bash codeBlockContainer_Y_6F theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_vaQw"><pre tabindex="0" class="prism-code language-bash codeBlock_lLLt thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_svEc"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd js/apps/keycloak-server</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pnpm start --admin-dev --phasetwo --tag=latest</span><br></span></code></pre></div></div>
<ul>
<li class="">In another terminal, start the Admin UI dev server:</li>
</ul>
<div class="language-bash codeBlockContainer_Y_6F theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_vaQw"><pre tabindex="0" class="prism-code language-bash codeBlock_lLLt thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_svEc"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd ../admin-ui</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pnpm i</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pnpm dev</span><br></span></code></pre></div></div>
<p>Now open <a href="http://localhost:8080/" target="_blank" rel="noopener noreferrer" class="">http://localhost:8080</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="script-flags">Script flags<a href="https://phasetwo.io/blog/run-admin-ui/#script-flags" class="hash-link" aria-label="Direct link to Script flags" title="Direct link to Script flags" translate="no">​</a></h2>
<table><thead><tr><th>Flag</th><th>Type</th><th>What it does</th></tr></thead><tbody><tr><td><code>--local</code></td><td>boolean</td><td>Use a local Quarkus dist (<code>keycloak-999.0.0-SNAPSHOT.tar.gz</code>) instead of Docker.</td></tr><tr><td><code>--account-dev</code></td><td>boolean</td><td>Points Account app to <code>http://localhost:5173</code> for dev.</td></tr><tr><td><code>--admin-dev</code></td><td>boolean</td><td>Points Admin app to <code>http://localhost:5174</code> for dev (use this tutorial).</td></tr><tr><td><code>--phasetwo</code></td><td>boolean</td><td>Run <code>quay.io/phasetwo/phasetwo-keycloak</code> in Docker with dev-friendly flags.</td></tr><tr><td><code>--tag=&lt;tag&gt;</code></td><td>string</td><td>Image tag to run (defaults to <code>latest</code>).</td></tr></tbody></table>
<blockquote>
<p>Under the hood we enable features required by our extensions: <code>login:v2, account:v3, admin-fine-grained-authz:v2, transient-users, organization, oid4vc-vci, declarative-ui, quick-theme</code>.</p>
</blockquote>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="troubleshooting">Troubleshooting<a href="https://phasetwo.io/blog/run-admin-ui/#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting" translate="no">​</a></h2>
<ul>
<li class=""><strong>Port 8080 already in use</strong> – Stop other Keycloak/containers or change the published port.</li>
<li class=""><strong>White screen / 404s in the Admin UI</strong> – Make sure <code>--admin-dev</code> is set and the dev server is running on <code>5174</code>.</li>
<li class=""><strong>Missing strings/components</strong> – Verify you’re on the matching Admin UI branch for your Keycloak version.</li>
<li class=""><strong>Theme not loading</strong> – Ensure the output theme name (<code>phasetwo.v2</code> vs <code>keycloak.v2</code>) matches what the server expects.</li>
<li class=""><strong>Cannot pull image</strong> – Confirm Docker can access <code>quay.io</code> and that the tag exists.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="conclusion">Conclusion<a href="https://phasetwo.io/blog/run-admin-ui/#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" translate="no">​</a></h2>
<p>This workflow keeps the Admin UI dev loop fast while staying faithful to the image you deploy. Although we demonstrate with Phase Two’s image, the same pattern works with any Keycloak distribution. If this saved you time, drop us a star ⭐️ on <a href="https://github.com/p2-inc" target="_blank" rel="noopener noreferrer" class="">GitHub</a>.</p>
<hr>
<p>Want to learn more? Log in to the <a href="https://dash.phasetwo.io/" target="_blank" rel="noopener noreferrer" class="">Phase Two Dash</a> and try uploading your first resource today. This feature is included with all <strong>dedicated cluster plans</strong>. For questions, reach out to <a href="mailto:support@phasetwo.io" target="_blank" rel="noopener noreferrer" class="">support@phasetwo.io</a>.</p>]]></content:encoded>
            <author>support@phasetwo.io (Phase Two)</author>
            <category>phase_two</category>
            <category>hosting</category>
            <category>open_source</category>
            <category>keycloak</category>
            <category>admin-ui</category>
            <category>docker</category>
            <category>extensions</category>
            <category>dev-environment</category>
            <category>pnpm</category>
        </item>
        <item>
            <title><![CDATA[Phase Two Releases Self Service Resource Management]]></title>
            <link>https://phasetwo.io/blog/self-service-resource-management/</link>
            <guid>https://phasetwo.io/blog/self-service-resource-management/</guid>
            <pubDate>Mon, 22 Sep 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[Phase Two now offers self-service resource management for dedicated clusters, allowing customers to easily add and remove resources through our dashboard.]]></description>
            <content:encoded><![CDATA[<p>We’re excited to announce the release of <strong>Self-Service Resource Management</strong> in the Phase Two Dash. This new capability empowers customers running <strong>dedicated Keycloak clusters</strong> to directly upload and manage their own resources—such as custom themes and extensions—without waiting for Phase Two intervention.</p>
<div class="theme-admonition theme-admonition-info admonition_q1yr alert alert--info"><div class="admonitionHeading_XcfJ"><span class="admonitionIcon_zGmV"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_gGeU"><p><strong>Available for Dedicated Clusters Only</strong><br>
<!-- -->Self-Service Resource Management is an exclusive feature for Phase Two customers with dedicated Keycloak clusters. Shared or multi-tenant environments do not include this capability. Upgrade to a dedicated cluster plan to take advantage of this feature.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="why-this-matters">Why this matters<a href="https://phasetwo.io/blog/self-service-resource-management/#why-this-matters" class="hash-link" aria-label="Direct link to Why this matters" title="Direct link to Why this matters" translate="no">​</a></h2>
<p>Traditionally, managing custom Keycloak resources in Kubernetes is complex, time-consuming, and error-prone. It often requires deep knowledge of deployment pipelines, containerization, and manual version tracking. With Self-Service Resource Management, Phase Two eliminates those hurdles by giving you a streamlined interface in the Dash to manage your resources safely and reliably.</p>
<p>Because this feature is only available for <strong>dedicated clusters</strong>, customers benefit from the highest level of flexibility, security, and control over their Keycloak environments.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="key-features">Key Features<a href="https://phasetwo.io/blog/self-service-resource-management/#key-features" class="hash-link" aria-label="Direct link to Key Features" title="Direct link to Key Features" translate="no">​</a></h2>
<ul>
<li class="">
<p><strong>Direct uploads</strong><br>
<!-- -->Upload <code>.jar</code> files (themes or extensions) directly through the dashboard, tied to your dedicated cluster.</p>
</li>
<li class="">
<p><strong>Versioning support</strong><br>
<!-- -->Create and manage resource versions. You can pin versions to specific Keycloak builds, which is especially useful for testing compatibility with future major Keycloak releases.</p>
</li>
<li class="">
<p><strong>Cluster-safe updates</strong><br>
<!-- -->Phase Two automatically manages cluster restarts to ensure resources are applied without risking downtime or instability.</p>
</li>
<li class="">
<p><strong>Faster release cycles</strong><br>
<!-- -->Reduce dependency on Phase Two deployment reviews. Customers can move quickly, automate feature rollouts, and test updates on their own timeline.</p>
</li>
<li class="">
<p><strong>Simplified workflows</strong><br>
<!-- -->Avoid the overhead of Kubernetes resource management, CI/CD pipeline adjustments, and manual rollbacks. Resource management is as simple as point-and-click.</p>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="what-this-means-for-customers">What this means for customers<a href="https://phasetwo.io/blog/self-service-resource-management/#what-this-means-for-customers" class="hash-link" aria-label="Direct link to What this means for customers" title="Direct link to What this means for customers" translate="no">​</a></h2>
<p>This feature brings enterprise-grade flexibility and speed to teams that rely on custom Keycloak deployments. Whether you’re testing a new extension for an upcoming Keycloak version or rolling out an updated theme across environments, you can now do it in minutes—not days. And with Phase Two’s guardrails in place, you still benefit from the reliability and security of our managed hosting platform.</p>
<hr>
<p>Want to learn more? Log in to the <a href="https://dash.phasetwo.io/" target="_blank" rel="noopener noreferrer" class="">Phase Two Dash</a> and try uploading your first resource today. This feature is included with all <strong>dedicated cluster plans</strong>. For any questions or concerns, please reach out to <a href="mailto:support@phasetwo.io" target="_blank" rel="noopener noreferrer" class="">support@phasetwo.io</a>.</p>]]></content:encoded>
            <author>support@phasetwo.io (Phase Two)</author>
            <category>phase_two</category>
            <category>hosting</category>
            <category>self-service</category>
            <category>resources</category>
            <category>keycloak</category>
            <category>extensions</category>
            <category>themes</category>
            <category>dedicated-clusters</category>
        </item>
        <item>
            <title><![CDATA[Phase Two Achieves SOC 2 Type II Compliance]]></title>
            <link>https://phasetwo.io/blog/soc-2-type-II-compliance/</link>
            <guid>https://phasetwo.io/blog/soc-2-type-II-compliance/</guid>
            <pubDate>Wed, 17 Sep 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[Phase Two has successfully completed a SOC 2 Type II audit, validating that our security and availability controls operated effectively over the audit period.]]></description>
            <content:encoded><![CDATA[<p>Phase Two is excited to share that we have successfully completed a <strong>SOC 2 Type II</strong> audit. This independently validates that our security and availability controls were not just designed well, but <strong>operated effectively over time</strong>.</p>
<p>Learn more and request report access at our Trust Center: <strong><a href="https://trust.phasetwo.io/" target="_blank" rel="noopener noreferrer" class="">trust.phasetwo.io</a></strong>.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="what-is-soc-2-type-ii">What is SOC 2 Type II?<a href="https://phasetwo.io/blog/soc-2-type-II-compliance/#what-is-soc-2-type-ii" class="hash-link" aria-label="Direct link to What is SOC 2 Type II?" title="Direct link to What is SOC 2 Type II?" translate="no">​</a></h2>
<p>SOC 2 (System and Organization Controls 2) is an attestation standard for service organizations covering five Trust Services Criteria: <strong>security, availability, processing integrity, confidentiality, and privacy</strong>. A <strong>Type II</strong> report evaluates the <strong>operating effectiveness</strong> of controls <strong>across an audit period</strong>, rather than at a single point in time (Type I).</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="why-this-matters-to-customers">Why this matters to customers<a href="https://phasetwo.io/blog/soc-2-type-II-compliance/#why-this-matters-to-customers" class="hash-link" aria-label="Direct link to Why this matters to customers" title="Direct link to Why this matters to customers" translate="no">​</a></h2>
<ul>
<li class=""><strong>Operational assurance:</strong> Independent attestation that access control, change management, monitoring, incident response, and data protection controls <strong>worked throughout the evaluation period</strong>.</li>
<li class=""><strong>Faster vendor reviews:</strong> A current SOC 2 Type II report reduces back‑and‑forth during security assessments and procurement.</li>
<li class=""><strong>Lower risk, higher resilience:</strong> Tested controls help prevent incidents and improve recovery, supporting higher availability and reliability.</li>
<li class=""><strong>Transparent accountability:</strong> The auditor’s report provides objective evidence of our security posture and ongoing commitments.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="how-this-validates-phase-twos-approach">How this validates Phase Two’s approach<a href="https://phasetwo.io/blog/soc-2-type-II-compliance/#how-this-validates-phase-twos-approach" class="hash-link" aria-label="Direct link to How this validates Phase Two’s approach" title="Direct link to How this validates Phase Two’s approach" translate="no">​</a></h2>
<p>Our platform and operations are engineered for <strong>secure‑by‑default deployments</strong>, <strong>repeatable releases and change control</strong>, <strong>continuous monitoring</strong>, and <strong>documented incident response</strong>. The SOC 2 Type II result demonstrates these controls function in production—not just on paper.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="whats-covered-in-the-report">What’s covered in the report<a href="https://phasetwo.io/blog/soc-2-type-II-compliance/#whats-covered-in-the-report" class="hash-link" aria-label="Direct link to What’s covered in the report" title="Direct link to What’s covered in the report" translate="no">​</a></h2>
<p>While each report is tailored to the service and period, customers can expect details on:</p>
<ul>
<li class="">In‑scope systems and boundaries</li>
<li class="">Control objectives and mapped Trust Services Criteria (with tests of operating effectiveness)</li>
<li class="">Auditor’s testing procedures and results</li>
<li class="">Complementary user entity controls (CUECs) relevant to your environment</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="accessing-the-report">Accessing the report<a href="https://phasetwo.io/blog/soc-2-type-II-compliance/#accessing-the-report" class="hash-link" aria-label="Direct link to Accessing the report" title="Direct link to Accessing the report" translate="no">​</a></h2>
<p>Phase Two makes the SOC 2 Type II report available to customers and qualified prospects <strong>under NDA</strong> via our Trust Center. If you need access for a vendor review, please submit a request at <strong><a href="https://trust.phasetwo.io/" target="_blank" rel="noopener noreferrer" class="">trust.phasetwo.io</a></strong> or email <strong><a href="mailto:sales@phasetwo.io" target="_blank" rel="noopener noreferrer" class="">sales@phasetwo.io</a></strong>.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="whats-next">What’s next<a href="https://phasetwo.io/blog/soc-2-type-II-compliance/#whats-next" class="hash-link" aria-label="Direct link to What’s next" title="Direct link to What’s next" translate="no">​</a></h2>
<p>Compliance is continuous. We’ll keep strengthening automation, observability, and control effectiveness, and maintain ongoing attestation to reflect our customers’ evolving needs and the changing threat landscape.</p>
<p>We are actively pursuing ISO 27001 certification to further demonstrate our commitment to information security management.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="what-this-means-for-you">What this means for you<a href="https://phasetwo.io/blog/soc-2-type-II-compliance/#what-this-means-for-you" class="hash-link" aria-label="Direct link to What this means for you" title="Direct link to What this means for you" translate="no">​</a></h2>
<ul>
<li class=""><strong>Stronger trust:</strong> Independent validation you can include in your own compliance artifacts.</li>
<li class=""><strong>Faster assessments:</strong> Streamlined security questionnaires and procurement cycles.</li>
<li class=""><strong>Operational confidence:</strong> Controls that demonstrably reduce operational risk and improve incident response.</li>
</ul>
<p>Phase Two’s <strong><a class="" href="https://phasetwo.io/hosting/">hosting</a></strong> product supports organizations across healthcare, CDN and security, retail, and more—delivering predictable, enterprise‑grade identity and access management.</p>
<blockquote>
<p><strong>Need the report or have questions?</strong> Contact <strong><a href="mailto:sales@phasetwo.io" target="_blank" rel="noopener noreferrer" class="">sales@phasetwo.io</a></strong> or visit <strong><a href="https://trust.phasetwo.io/" target="_blank" rel="noopener noreferrer" class="">trust.phasetwo.io</a></strong>.</p>
</blockquote>]]></content:encoded>
            <author>support@phasetwo.io (Phase Two)</author>
            <category>phase_two</category>
            <category>security</category>
            <category>hosting</category>
            <category>soc-2</category>
        </item>
        <item>
            <title><![CDATA[Custom domains on Phase Two Paid Plans]]></title>
            <link>https://phasetwo.io/blog/custom-domains/</link>
            <guid>https://phasetwo.io/blog/custom-domains/</guid>
            <pubDate>Wed, 03 Sep 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[Phase Two is happy to announce that custom domains can now be configured via self-serve right in the Dashboard. This feature is only available on paid plans.]]></description>
            <content:encoded><![CDATA[<p>Phase Two is happy to announce that custom domains can now be configured via self-serve right in the <a href="https://dash.phasetwo.com/" target="_blank" rel="noopener noreferrer" class="">Dashboard</a>. This feature is only available on paid plans.</p>
<p>Custom domains are a key piece of branding and trust for your users. By using your own domain, you can ensure that your users see a familiar URL when interacting with your Keycloak instance.</p>
<p>Read more about how to set up custom domains in our <a class="" href="https://phasetwo.io/docs/self-service/custom-domains/">Custom Domains documentation</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="custom-domains-overview">Custom Domains Overview<a href="https://phasetwo.io/blog/custom-domains/#custom-domains-overview" class="hash-link" aria-label="Direct link to Custom Domains Overview" title="Direct link to Custom Domains Overview" translate="no">​</a></h2>
<p>Up until this point, custom domains were offered, but had to be setup and managed by Phase Two support. Now, you can configure and manage your own custom domains directly from the Dashboard. This allows for multiple custom domains to be used as required.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="why-use-custom-domains">Why Use Custom Domains?<a href="https://phasetwo.io/blog/custom-domains/#why-use-custom-domains" class="hash-link" aria-label="Direct link to Why Use Custom Domains?" title="Direct link to Why Use Custom Domains?" translate="no">​</a></h2>
<p>Using a custom domain for your Keycloak instance provides several benefits:</p>
<ol>
<li class=""><strong>Branding</strong>: A custom domain allows you to maintain consistent branding across your applications and services. This helps reinforce your brand identity and provides a seamless experience for your users.</li>
<li class=""><strong>Trust</strong>: Users are more likely to trust a familiar domain. By using your
own domain, you can increase user confidence and reduce the likelihood of phishing attacks.</li>
<li class=""><strong>SSL/TLS</strong>: Phase Two provides free SSL/TLS certificates for your custom domains, ensuring that all communications are secure and encrypted.</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="whats-next">What's next?<a href="https://phasetwo.io/blog/custom-domains/#whats-next" class="hash-link" aria-label="Direct link to What's next?" title="Direct link to What's next?" translate="no">​</a></h2>
<p>Phase Two has many exciting features planned for the future. Stay tuned for more updates and improvements to our platform.</p>]]></content:encoded>
            <author>support@phasetwo.io (Phase Two)</author>
            <category>phase_two</category>
            <category>keycloak</category>
            <category>domains</category>
            <category>ssl</category>
            <category>certificates</category>
            <category>custom_domains</category>
        </item>
        <item>
            <title><![CDATA[Shadcn Keycloak Theme Starter with Tailwind CSS]]></title>
            <link>https://phasetwo.io/blog/shadcn-keycloak-theme/</link>
            <guid>https://phasetwo.io/blog/shadcn-keycloak-theme/</guid>
            <pubDate>Mon, 11 Aug 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[Get the theme: Shadcn Keycloak Theme Starter]]></description>
            <content:encoded><![CDATA[<p>Get the theme: <a href="https://github.com/p2-inc/keycloakify-starter-shadcn" target="_blank" rel="noopener noreferrer" class="">Shadcn Keycloak Theme Starter</a></p>
<p>A <a href="https://ui.shadcn.com/" target="_blank" rel="noopener noreferrer" class="">shadcn</a> theme starter for Keycloak using <a href="https://www.tailwindcss.com/" target="_blank" rel="noopener noreferrer" class="">Tailwind CSS</a> and <a href="https://www.radix-ui.com/" target="_blank" rel="noopener noreferrer" class="">Radix UI</a> components. This starter provides a foundation for building a custom, component-based Keycloak theme.</p>
<p>Phase Two are <a class="" href="https://phasetwo.io/blog/phasetwo-keycloakify-partnership/">sponsors</a> of <a href="https://www.keycloakify.dev/" target="_blank" rel="noopener noreferrer" class="">Keycloakify</a> as we are deeply convinced by this project's value.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="the-shadcn-keycloak-theme-starter">The Shadcn Keycloak Theme Starter<a href="https://phasetwo.io/blog/shadcn-keycloak-theme/#the-shadcn-keycloak-theme-starter" class="hash-link" aria-label="Direct link to The Shadcn Keycloak Theme Starter" title="Direct link to The Shadcn Keycloak Theme Starter" translate="no">​</a></h2>
<p>We chose to use <a href="https://ui.shadcn.com/" target="_blank" rel="noopener noreferrer" class="">shadcn</a> as the component library for this starter because it provides a set of modern, accessible, and customizable components that can be easily integrated into Keycloakify themes. shadcn is built on top of <a href="https://tailwindcss.com/" target="_blank" rel="noopener noreferrer" class="">Tailwind CSS</a> and <a href="https://www.radix-ui.com/" target="_blank" rel="noopener noreferrer" class="">Radix UI</a>, which makes it a great fit for building custom Keycloak themes.</p>
<p>The starter provides a basic structure for building Keycloak themes using shadcn components, including:</p>
<ul>
<li class=""><strong>Initial Setup</strong>: A basic Keycloakify project setup with shadcn and Tailwind CSS configured.</li>
<li class=""><strong>Login Page</strong>: A customized login page using shadcn components.</li>
<li class=""><strong>Baseline Components</strong>: A set of reusable shadcn components that can be used throughout the theme.</li>
<li class=""><strong>Baseline Ejections</strong>: Minimum set of pages ejected to get you started with customizing the login.</li>
</ul>
<p>Since shadcn ejects components into the project, you can customize them (or replace) as needed. This makes it quick and easy to introduce styles or components.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="options-for-customizing-keycloak-ui">Options for Customizing Keycloak UI<a href="https://phasetwo.io/blog/shadcn-keycloak-theme/#options-for-customizing-keycloak-ui" class="hash-link" aria-label="Direct link to Options for Customizing Keycloak UI" title="Direct link to Options for Customizing Keycloak UI" translate="no">​</a></h2>
<ol>
<li class=""><strong>FTL Templates</strong>: Keycloak's default theming system using FreeMarker templates. This is the traditional way to customize Keycloak's UI, but it can be cumbersome and lacks modern component-based design. Phase Two provides a <a class="" href="https://phasetwo.io/docs/getting-started/customizing-ui/">simple CSS customization guide</a> for basic styling changes to avoid having to go into FTL templates.</li>
<li class=""><strong>CSS Customization</strong>: You can override the default CSS styles to change the appearance of Keycloak's UI. This is a simple way to apply custom styles, but it doesn't provide the flexibility of a component-based approach. Phase Two provides a <a class="" href="https://phasetwo.io/docs/getting-started/customizing-ui/">simple CSS customization guide</a> for basic styling changes to base themes.</li>
<li class=""><strong>Keycloakify</strong>: A modern theming solution that allows you to build Keycloak themes using React components. It provides a more flexible and maintainable way to customize Keycloak's UI, leveraging the power of React and modern web development practices.</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="built-in-keycloak-themes">Built-in Keycloak Themes<a href="https://phasetwo.io/blog/shadcn-keycloak-theme/#built-in-keycloak-themes" class="hash-link" aria-label="Direct link to Built-in Keycloak Themes" title="Direct link to Built-in Keycloak Themes" translate="no">​</a></h2>
<p>The built-in Keycloak themes are built using not just FTL templates, but use <a href="https://www.patternfly.org/" target="_blank" rel="noopener noreferrer" class="">PatternFly</a> as a design library. PatternFly provides a set of components and styles that are used to build the Keycloak UI. However, it can be difficult to customize these components to fit your specific design needs. The semantics and structure is not always clear, and the CSS can be difficult to override. Components use variables without consistency and getting that right can be a challenge, leaving you wondering if you covered all your use cases.</p>
<p>In addition, there is no easy way to "preview" all variations of the pages. Keycloakify provides a built-in Storybook preview for all page variations.</p>
<p>If you follow the official <a href="https://www.keycloak.org/ui-customization/themes" target="_blank" rel="noopener noreferrer" class="">Guides for theme ui-customization</a> you will quickly find that the dev experience is an after-thought. There is only one sentence about development: "During development you can copy the theme to the themes directory,...". Knowing how the theme inherits from the base, how to override styles, add components, what data is available, or preview a page, is not documented or easy.</p>
<p>As Keycloak releases new versions, the themes are not guaranteed to be compatible. This means that you will have to review and possibly update your custom theme with each Keycloak release, which can be a significant effort.</p>
<p>Lastly, adjusting the Account UI or the Emails, is documented to the extent of changing message templates. As something almost every Keycloak user needs, this leaves a major hole in the theming experience.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="where-keycloakify-fits-in">Where Keycloakify Fits In<a href="https://phasetwo.io/blog/shadcn-keycloak-theme/#where-keycloakify-fits-in" class="hash-link" aria-label="Direct link to Where Keycloakify Fits In" title="Direct link to Where Keycloakify Fits In" translate="no">​</a></h2>
<p><a href="https://www.keycloakify.dev/" target="_blank" rel="noopener noreferrer" class="">Keycloakify</a> is a theming solution that allows you a couple methods, CSS or custom components, of configuration to customize the three main areas of Keycloak:</p>
<ol>
<li class=""><strong>Login Pages</strong></li>
<li class=""><strong>Account UI</strong></li>
<li class=""><strong>Emails</strong></li>
</ol>
<p>It is backwards compatible so that as new Keycloak versions are released, you can continue to use your custom theme without having to worry about breaking changes. It also provides a built-in Storybook preview for all page variations, making it easy to see how your customizations will look in different scenarios.</p>
<p>Of the two methods that Keycloakify provides, we see that almost in all cases, the custom components method ends up being used. Dealing with PatternFly's CSS is difficult and error prone. That being said, Keycloakify requires some initial configuration to do custom component development: adding libraries, ejecting pages, etc. For this reason, we are taking a baseline starter and sharing it with the community in the hopes that it will help save people time in getting started with Keycloakify.</p>
<p>Also, we know that eventually there will be development to remove the need for this starter, but until then, we hope this will help you get started with Keycloakify and building custom themes for Keycloak.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="summary">Summary<a href="https://phasetwo.io/blog/shadcn-keycloak-theme/#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" translate="no">​</a></h2>
<p>We look forward to seeing how the community uses this starter to build custom themes for Keycloak. If you have any questions or feedback, please feel free to file an issue on the <a href="https://github.com/p2-inc/keycloakify-starter-shadcn" target="_blank" rel="noopener noreferrer" class="">GitHub repository</a> or <a class="" href="https://phasetwo.io/contact/">reach out</a>.</p>]]></content:encoded>
            <author>support@phasetwo.io (Phase Two)</author>
            <category>phase_two</category>
            <category>keycloak</category>
            <category>theme</category>
            <category>shadcn</category>
            <category>tailwind</category>
        </item>
        <item>
            <title><![CDATA[Phase Two Recognized as Official CockroachDB Partner]]></title>
            <link>https://phasetwo.io/blog/phasetwo-cockroachdb-partnership/</link>
            <guid>https://phasetwo.io/blog/phasetwo-cockroachdb-partnership/</guid>
            <pubDate>Wed, 06 Aug 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[<div]]></description>
            <content:encoded><![CDATA[<div style="display:flex;align-items:center;gap:10px;margin-bottom:20px"><img src="https://phasetwo.io/blog/crdb_partnership/crdb.webp" alt="CockroachDB logo" style="box-shadow:none"><span>+</span><img src="https://phasetwo.io/img/logo-phasetwo.png" style="box-shadow:none" alt="Phase Two Logo"></div>
<p><a href="https://phasetwo.io/" target="_blank" rel="noopener noreferrer" class="">Phase Two</a> is thrilled to announce that we have been recognized as an <strong>official partner</strong> of <a href="https://www.cockroachlabs.com/partners/locator/" target="_blank" rel="noopener noreferrer" class="">CockroachDB</a>. This partnership marks a significant milestone in our commitment to providing robust, scalable, and high-performance database solutions for our the Keycloak community and our customers.</p>
<p>Phase Two originally built our <a href="https://github.com/p2-inc?q=crdb&amp;type=all&amp;language=&amp;sort=#our-docker-images" target="_blank" rel="noopener noreferrer" class="">CockroachDB integration</a> for <a href="https://quay.io/repository/phasetwo/keycloak-crdb" target="_blank" rel="noopener noreferrer" class="">Keycloak</a> over two years ago, and since then we have been working closely with the CockroachDB team to ensure that our integration is optimized for performance and reliability. Our customers have seen significant improvements in database performance, scalability, and a overall cost savings by using CockroachDB with Keycloak.</p>
<p>Our commitment to CockroachDB is built on years of using the <a href="https://www.cockroachlabs.com/" target="_blank" rel="noopener noreferrer" class="">Cockroach Cloud</a> to power all of our dedicated <a href="https://phasetwo.io/product/hosting" target="_blank" rel="noopener noreferrer" class="">hosting</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="what-is-cockroachdb">What is CockroachDB?<a href="https://phasetwo.io/blog/phasetwo-cockroachdb-partnership/#what-is-cockroachdb" class="hash-link" aria-label="Direct link to What is CockroachDB?" title="Direct link to What is CockroachDB?" translate="no">​</a></h2>
<p><a href="https://www.cockroachlabs.com/" target="_blank" rel="noopener noreferrer" class="">CockroachDB</a> is a cloud-native, distributed SQL database designed for high availability, scalability, and resilience. It provides a single, unified database platform that can handle large volumes of data across multiple geographic locations while ensuring strong consistency and fault tolerance. CockroachDB is built on a distributed architecture that allows it to scale horizontally, making it an ideal choice for applications that require high performance and reliability. Payments systems, IAM, logistics, user accounts, and more — are powered by CockroachDB. Mission-critical applications rely on CockroachDB to deliver consistent performance and availability, scaling to meet demand and transaction heavy workloads.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="why-keycloak-and-cockroachdb">Why Keycloak and CockroachDB?<a href="https://phasetwo.io/blog/phasetwo-cockroachdb-partnership/#why-keycloak-and-cockroachdb" class="hash-link" aria-label="Direct link to Why Keycloak and CockroachDB?" title="Direct link to Why Keycloak and CockroachDB?" translate="no">​</a></h2>
<p>Keycloak is a powerful open-source identity and access management solution that provides authentication and authorization services for applications and services. It is designed to be flexible, extensible, and easy to use, making it a popular choice for organizations looking to implement secure user management.</p>
<p>When combined with CockroachDB, Keycloak benefits from the following:</p>
<ul>
<li class=""><strong>Scalability</strong>: CockroachDB's distributed architecture allows Keycloak to scale horizontally, handling large volumes of user data and authentication requests without compromising performance.</li>
<li class=""><strong>Heavy Transaction Support</strong>: CockroachDB is designed to handle high transaction volumes, making it suitable for Keycloak deployments support millions of users and high-frequency authentication requests.</li>
<li class=""><strong>High Availability</strong>: CockroachDB's fault-tolerant design ensures that Keycloak remains available even in the event of hardware failures or network issues, providing a reliable user experience.</li>
<li class=""><strong>Strong Consistency</strong>: CockroachDB's distributed SQL capabilities ensure that Keycloak can maintain strong consistency across multiple nodes, preventing data inconsistencies and ensuring accurate user management.</li>
<li class=""><strong>Cost Efficiency</strong>: CockroachDB's ability to scale horizontally means that organizations can optimize their infrastructure costs while still meeting the demands of their Keycloak deployments.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="real-world-latency-performance">Real-World Latency Performance<a href="https://phasetwo.io/blog/phasetwo-cockroachdb-partnership/#real-world-latency-performance" class="hash-link" aria-label="Direct link to Real-World Latency Performance" title="Direct link to Real-World Latency Performance" translate="no">​</a></h3>
<p>One of the key performance indicators we monitor in our production environments is query latency — a critical factor for identity systems like Keycloak, where responsiveness directly impacts user experience.</p>
<p>Over the past month (July 2025), our Keycloak deployments running on CockroachDB have consistently demonstrated impressive latency metrics:</p>
<ul>
<li class=""><strong>P99 Latency</strong> (99th percentile) consistently remained <strong>below 10ms</strong>, even during traffic spikes.</li>
<li class=""><strong>P90 Latency</strong> (90th percentile) hovered well under 5ms across the board.</li>
<li class=""><strong>Spikes</strong>: Occasional spikes up to 70ms (but usually below 35ms) for P99 and 15ms for P90 were observed lasting 5-60 mins with quick recovery afterward.</li>
</ul>
<p>These low-latency metrics are a testament to the <strong>combined performance of CockroachDB’s distributed SQL engine</strong> and our infrastructure tuning, ensuring fast and reliable authentication and authorization at scale.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="phase-twos-commitment-to-cockroachdb">Phase Two's Commitment to CockroachDB<a href="https://phasetwo.io/blog/phasetwo-cockroachdb-partnership/#phase-twos-commitment-to-cockroachdb" class="hash-link" aria-label="Direct link to Phase Two's Commitment to CockroachDB" title="Direct link to Phase Two's Commitment to CockroachDB" translate="no">​</a></h2>
<p>As the original builders and continued maintainers of the Keycloak CockroachDB integration, Phase Two is committed to supporting the integration and ensuring that it meets the evolving needs of our customers. Our partnership with CockroachDB is a cementing of that commitment, and we are excited to work together to deliver the best possible experience for our users.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="what-this-means-for-our-customers">What This Means for Our Customers<a href="https://phasetwo.io/blog/phasetwo-cockroachdb-partnership/#what-this-means-for-our-customers" class="hash-link" aria-label="Direct link to What This Means for Our Customers" title="Direct link to What This Means for Our Customers" translate="no">​</a></h3>
<p>For customers already leveraging CockroachDB in their applications, this partnership ensures even deeper integration and support for running Keycloak on the same trusted, resilient database platform. You can expect streamlined operations, improved compatibility, and direct access to expertise from both the Phase Two and CockroachDB teams.</p>
<p>For those new to CockroachDB or considering it for the first time, our partnership means you can confidently adopt a modern, distributed database solution for your Keycloak deployments. Phase Two will guide you through best practices, migration strategies, and ongoing support to help you realize the benefits of CockroachDB’s scalability, reliability, and performance.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="customer-success-story---grocery-store-chain">Customer Success Story - Grocery Store Chain<a href="https://phasetwo.io/blog/phasetwo-cockroachdb-partnership/#customer-success-story---grocery-store-chain" class="hash-link" aria-label="Direct link to Customer Success Story - Grocery Store Chain" title="Direct link to Customer Success Story - Grocery Store Chain" translate="no">​</a></h3>
<blockquote>
<p>A customer of Phase Two, a <strong>major US grocery store chain</strong>, had zero experience with CockroachDB before partnering with us. They were running on legacy Oracle systems and were looking for a modern, scalable, cloud solution. Leveraging our CRDB integration, we were able to migrate their Ping implementation to Keycloak with CockroachDB, resulting in a major cost reduction and improved performance. Their system is now running smoothly with millions of users and transactions. Those Friday coupon releases are now a breeze!</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="customer-success-story---global-leader-in-rail-technology">Customer Success Story - Global Leader in Rail Technology<a href="https://phasetwo.io/blog/phasetwo-cockroachdb-partnership/#customer-success-story---global-leader-in-rail-technology" class="hash-link" aria-label="Direct link to Customer Success Story - Global Leader in Rail Technology" title="Direct link to Customer Success Story - Global Leader in Rail Technology" translate="no">​</a></h3>
<blockquote>
<p>A global leader in rail technology partnered with Phase Two to modernize their identity infrastructure. With operations spanning continents and complex security requirements, they needed a scalable and resilient solution. Using our enhanced Keycloak distribution with native CockroachDB support, they migrated from their legacy system to a platform built for high availability and global scale. Today, their identity layer supports users across critical transportation systems—delivering performance, reliability, and peace of mind, even at full throttle.</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="customer-success-story---global-automobile-and-tire-supplier">Customer Success Story - Global Automobile and Tire Supplier<a href="https://phasetwo.io/blog/phasetwo-cockroachdb-partnership/#customer-success-story---global-automobile-and-tire-supplier" class="hash-link" aria-label="Direct link to Customer Success Story - Global Automobile and Tire Supplier" title="Direct link to Customer Success Story - Global Automobile and Tire Supplier" translate="no">​</a></h3>
<blockquote>
<p>What started as a open-source user of our CRDB integration, a <strong>global automobile and tire supplier</strong>, has now become a key customer of Phase Two. They started with using our CRDB integration for their Keycloak deployments and have since involved Phase Two in their enterprise Keycloak deployments. Working together, Phase Two has helped to optimize and scale their Keycloak + CockroachDB deployments. We have been able to streamline their deployment processes, integrate or upgrade custom SPI's (or migrate to more effective ones), and integrate use of the Phase Two <a class="" href="https://phasetwo.io/product/organizations/">Organization's extension</a> to better manage their Keycloak users within their system. As a result of the CRDB partnership, we were able to optimize specific Keycloak queries and the CRDB dialect to improve performance within both systems, which would not have been possible without the close collaboration with CockroachDB.</p>
</blockquote>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="ready-to-power-your-keycloak-deployment-with-cockroachdb">Ready to Power Your Keycloak Deployment with CockroachDB?<a href="https://phasetwo.io/blog/phasetwo-cockroachdb-partnership/#ready-to-power-your-keycloak-deployment-with-cockroachdb" class="hash-link" aria-label="Direct link to Ready to Power Your Keycloak Deployment with CockroachDB?" title="Direct link to Ready to Power Your Keycloak Deployment with CockroachDB?" translate="no">​</a></h2>
<p><a href="https://phasetwo.io/contact" target="_blank" rel="noopener noreferrer" class="">Contact us</a> to learn how Phase Two can help you implement a scalable, resilient, and high-performing identity infrastructure with CockroachDB and Keycloak.</p>
<p>Or test it out for yourself at <a href="https://dash.phasetwo.io/" target="_blank" rel="noopener noreferrer" class="">dash.phasetwo.io</a> where you can deploy Keycloak with CockroachDB in minutes.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="frequently-asked-questions-faq">Frequently Asked Questions (FAQ)<a href="https://phasetwo.io/blog/phasetwo-cockroachdb-partnership/#frequently-asked-questions-faq" class="hash-link" aria-label="Direct link to Frequently Asked Questions (FAQ)" title="Direct link to Frequently Asked Questions (FAQ)" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="what-is-the-advantage-of-using-cockroachdb-with-keycloak">What is the advantage of using CockroachDB with Keycloak?<a href="https://phasetwo.io/blog/phasetwo-cockroachdb-partnership/#what-is-the-advantage-of-using-cockroachdb-with-keycloak" class="hash-link" aria-label="Direct link to What is the advantage of using CockroachDB with Keycloak?" title="Direct link to What is the advantage of using CockroachDB with Keycloak?" translate="no">​</a></h3>
<p>Using CockroachDB with Keycloak improves horizontal scalability, high availability, and ensures strong consistency for identity data across distributed systems.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="can-i-migrate-an-existing-keycloak-deployment-to-cockroachdb">Can I migrate an existing Keycloak deployment to CockroachDB?<a href="https://phasetwo.io/blog/phasetwo-cockroachdb-partnership/#can-i-migrate-an-existing-keycloak-deployment-to-cockroachdb" class="hash-link" aria-label="Direct link to Can I migrate an existing Keycloak deployment to CockroachDB?" title="Direct link to Can I migrate an existing Keycloak deployment to CockroachDB?" translate="no">​</a></h3>
<p>Yes. Phase Two provides migration tools and support for transitioning your Keycloak deployment to CockroachDB.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="is-cockroachdb-a-drop-in-replacement-for-postgresql-in-keycloak">Is CockroachDB a drop-in replacement for PostgreSQL in Keycloak?<a href="https://phasetwo.io/blog/phasetwo-cockroachdb-partnership/#is-cockroachdb-a-drop-in-replacement-for-postgresql-in-keycloak" class="hash-link" aria-label="Direct link to Is CockroachDB a drop-in replacement for PostgreSQL in Keycloak?" title="Direct link to Is CockroachDB a drop-in replacement for PostgreSQL in Keycloak?" translate="no">​</a></h3>
<p>Yes. CockroachDB with Phase Two's integration, it can serve as a drop-in replacement in most Keycloak deployments default PostgreSQL implementation.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="does-phase-two-offer-support-for-running-keycloak-on-cockroachdb">Does Phase Two offer support for running Keycloak on CockroachDB?<a href="https://phasetwo.io/blog/phasetwo-cockroachdb-partnership/#does-phase-two-offer-support-for-running-keycloak-on-cockroachdb" class="hash-link" aria-label="Direct link to Does Phase Two offer support for running Keycloak on CockroachDB?" title="Direct link to Does Phase Two offer support for running Keycloak on CockroachDB?" translate="no">​</a></h3>
<p>Yes. As official CockroachDB partners, Phase Two offers enterprise-grade support, consulting, and managed services for Keycloak + CockroachDB.</p>]]></content:encoded>
            <author>support@phasetwo.io (Phase Two)</author>
            <category>phase_two</category>
            <category>keycloak</category>
            <category>cockroachdb</category>
            <category>partnership</category>
            <category>database</category>
            <category>performance</category>
        </item>
        <item>
            <title><![CDATA[User Events in Keycloak: Best Practices, Management, and Purging]]></title>
            <link>https://phasetwo.io/blog/user-events-in-keycloak/</link>
            <guid>https://phasetwo.io/blog/user-events-in-keycloak/</guid>
            <pubDate>Fri, 01 Aug 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[Keycloak tracks various "user events" to provide auditing and monitoring capabilities related to user activities within a realm. These events capture actions performed by users, such as authentication attempts, account management operations, and more.]]></description>
            <content:encoded><![CDATA[<p>Keycloak tracks various "user events" to provide auditing and monitoring capabilities related to user activities within a realm. These events capture actions performed by users, such as authentication attempts, account management operations, and more.</p>
<p>When these events have been tracked and not purged for a long period, for high traffic installations, trying to change the retention period can lead to a massive performance problem with your installation. We will walk you through what to consider and how to safely purge these events.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="what-are-keycloak-user-events">What are Keycloak User Events?<a href="https://phasetwo.io/blog/user-events-in-keycloak/#what-are-keycloak-user-events" class="hash-link" aria-label="Direct link to What are Keycloak User Events?" title="Direct link to What are Keycloak User Events?" translate="no">​</a></h2>
<p>Keycloak user events are records of significant actions taken by users within a realm. These events can include (but are not limited to):</p>
<ul>
<li class=""><strong>Login attempts</strong>: Successful and failed login attempts.</li>
<li class=""><strong>Account management</strong>: Actions like password changes, profile updates, and account deletions.</li>
<li class=""><strong>Session management</strong>: Events related to session creation, termination, and expiration. Including token refreshes.</li>
</ul>
<p>For more about event metric observability, see the <a href="https://www.keycloak.org/docs/latest/server_admin/#configuring-auditing-to-track-events" target="_blank" rel="noopener noreferrer" class="">Keycloak documentation on events</a>.</p>
<p>Also, we're speaking about user events, but admin events are also tracked in Keycloak. These are actions taken by administrators, such as creating or deleting users, managing roles, and configuring realms. Similar principles apply to admin events.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="why-track-user-events">Why Track User Events?<a href="https://phasetwo.io/blog/user-events-in-keycloak/#why-track-user-events" class="hash-link" aria-label="Direct link to Why Track User Events?" title="Direct link to Why Track User Events?" translate="no">​</a></h2>
<p>Tracking user events can be useful for several reasons:</p>
<ul>
<li class=""><strong>Monitoring</strong>: Understanding user behavior and system performance by tracking number of logins, failed attempts, token refreshes, etc.</li>
<li class=""><strong>Exporting</strong>: Exporting user events to external systems for further analysis or reporting. This can include creating dashboards or alerts based on user activity.</li>
<li class=""><strong>Auditing</strong>: Maintaining a record of user actions for compliance and security purposes.</li>
</ul>
<p>One item of note, if you are running a Keycloak cluster, user events need to be collected from all instances to get a per cluster view.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="how-long-should-user-events-be-retained">How Long Should User Events Be Retained?<a href="https://phasetwo.io/blog/user-events-in-keycloak/#how-long-should-user-events-be-retained" class="hash-link" aria-label="Direct link to How Long Should User Events Be Retained?" title="Direct link to How Long Should User Events Be Retained?" translate="no">​</a></h2>
<p>The configuration for user event retention is set in the Keycloak admin console under the <code>Realm Settings &gt; Events &gt; User events settings</code>. Make sure that "Save events" is toggled to "On" and then in the expiration section, you can set the retention period for user events.</p>
<p>We recommend setting a reasonable retention period based on your application's needs. For example, you might choose to retain user events for 30 days, 90 days, or longer, depending on your compliance requirements and the volume of user activity. If you have a lot of user activity, you may want to set a shorter retention period to avoid performance issues.</p>
<p>Keycloak will save these events in the database, and if you have a high volume of user activity, this can lead to a large number of records over time. This can impact the performance of your Keycloak instance, especially when querying or managing these events. Exporting events on a periodic basis to back up or use in external systems not only helps with performance but also allows you to keep a historical record of user activity.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="how-to-purge-user-events">How to Purge User Events<a href="https://phasetwo.io/blog/user-events-in-keycloak/#how-to-purge-user-events" class="hash-link" aria-label="Direct link to How to Purge User Events" title="Direct link to How to Purge User Events" translate="no">​</a></h2>
<p>There are two ways to purge user events in Keycloak in the Admin UI:</p>
<ol>
<li class="">Hit a big red button in the admin console that says "Clear user events".</li>
<li class="">Change the retention period to a shorter time frame, which will automatically purge events older than the new retention period.</li>
</ol>
<p>The thing is, those options are much to easy to hit and lead to unintended consequences. Clicking a button or changing a setting can lead to a large number of events being purged at once, which can cause performance issues or even downtime in your Keycloak instance. This effectively locks up the database and can lead to massive latency issues for you and your users.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="considerations-before-purging-user-events">Considerations Before Purging User Events<a href="https://phasetwo.io/blog/user-events-in-keycloak/#considerations-before-purging-user-events" class="hash-link" aria-label="Direct link to Considerations Before Purging User Events" title="Direct link to Considerations Before Purging User Events" translate="no">​</a></h2>
<p>Before purging user events, consider the following:</p>
<ol>
<li class=""><strong>How many events are currently stored?</strong> If you have a large number of events, purging them can take some time and may impact performance during the operation.</li>
<li class=""><strong>What is the current retention period?</strong> If you have a long retention period set, you may want to consider shortening it before purging to avoid performance issues in the future.</li>
<li class=""><strong>What is the impact on auditing and monitoring?</strong> Purging user events will remove historical data, so consider how this will affect your ability to monitor user activity and maintain compliance.</li>
<li class=""><strong>Backup your data</strong>: If you need to keep a record of user events for compliance or auditing purposes, consider exporting the events to an external system before purging them. This way, you can retain a historical record of user activity without impacting the performance of your Keycloak instance.</li>
</ol>
<p>With that in mind, the Admin UI provides some really safe and unguarded ways to just "push a button" and introduce almost immediate performance issues.</p>
<p>So what should you do?</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="safe-steps-to-purge-user-events">Safe Steps to Purge User Events<a href="https://phasetwo.io/blog/user-events-in-keycloak/#safe-steps-to-purge-user-events" class="hash-link" aria-label="Direct link to Safe Steps to Purge User Events" title="Direct link to Safe Steps to Purge User Events" translate="no">​</a></h2>
<p>If you have a large number of user events and need to purge them safely, the only real way to do this is to create a manual script that will purge the events in small batches. This way, you can avoid locking up the database and causing performance issues.</p>
<p>Another option is to slowly pull in the retention period over time. For example, if you have a retention period of 365 days, you can change it to 180 days and then wait a few days before changing it to 90 days. This will allow Keycloak to purge events in smaller batches and hopefully avoid performance issues.</p>
<p>In addition, to avoid Admin UI click-ops oopsies, ensure that users with access to the Admin UI do not have permissions to <code>manage-events</code>. This will prevent them from accidentally purging user events through the UI.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="keep-event-lifetime-low-send-to-a-3rd-party-system">Keep Event Lifetime Low, Send to a 3rd Party System<a href="https://phasetwo.io/blog/user-events-in-keycloak/#keep-event-lifetime-low-send-to-a-3rd-party-system" class="hash-link" aria-label="Direct link to Keep Event Lifetime Low, Send to a 3rd Party System" title="Direct link to Keep Event Lifetime Low, Send to a 3rd Party System" translate="no">​</a></h2>
<p>One other option to consider is to keep the event lifetime low and send the events to a third-party system for long-term storage and analysis. This can be done by configuring Keycloak to export user events to an external system, such as a logging service or a data warehouse. Doing the actual configuration though, is not native to Keycloak and requires an extension.</p>
<p>Using the Phase Two <a href="https://github.com/p2-inc/keycloak-events" target="_blank" rel="noopener noreferrer" class="">Events Extension</a>, this can be accomplished rather easily. By adding configuration to the <code>EventListenerProvider</code> it is possible to send the events to a specified URI (and optionally sign with keyed-HMAC). The extension provides a handful of options including webhooks and retry logic with exponential backoff.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="conclusion">Conclusion<a href="https://phasetwo.io/blog/user-events-in-keycloak/#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" translate="no">​</a></h2>
<p>Purging user events in Keycloak is an important task to maintain performance and manageability, especially for high-traffic installations. By understanding the implications of user event retention and following safe practices for purging, you can ensure that your Keycloak instance remains responsive and efficient.</p>
<p>If you have any questions or need assistance with purging user events, feel free to reach out to the Phase Two support team at <a href="mailto:support@phasetwo.io" target="_blank" rel="noopener noreferrer" class="">support@phasetwo.io</a>. We’re here to help you manage your Keycloak resources effectively and ensure your deployment runs smoothly.</p>]]></content:encoded>
            <author>support@phasetwo.io (Phase Two)</author>
            <category>phase_two</category>
            <category>keycloak</category>
            <category>user_events</category>
            <category>admin_events</category>
            <category>database</category>
            <category>performance</category>
        </item>
        <item>
            <title><![CDATA[Phase Two Launches New Dashboard for Keycloak Resource Management]]></title>
            <link>https://phasetwo.io/blog/dashboard-launch/</link>
            <guid>https://phasetwo.io/blog/dashboard-launch/</guid>
            <pubDate>Thu, 24 Jul 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[As of today, we’re thrilled to announce the launch of the new Phase Two Dashboard — a fully redesigned application for managing your Keycloak resources. This update goes far beyond a fresh coat of paint. We've rebuilt the experience from the ground up, introducing new capabilities, streamlined workflows, and deep infrastructure enhancements based directly on customer feedback. We've learned that the version of Keycloak we provide, enhanced by the Phase Two library of extensions, solves for the 95% Saas use-case and this release will allow our users to better take advantage of those features. Some features are available today and others will be made available in the next few weeks.]]></description>
            <content:encoded><![CDATA[<p>As of today, we’re thrilled to announce the launch of the <strong>new Phase Two Dashboard</strong> — a fully redesigned application for managing your Keycloak resources. This update goes far beyond a fresh coat of paint. We've rebuilt the experience from the ground up, introducing new capabilities, streamlined workflows, and deep infrastructure enhancements based directly on customer feedback. We've learned that the version of Keycloak we provide, enhanced by the Phase Two library of <a href="https://github.com/p2-inc" target="_blank" rel="noopener noreferrer" class="">extensions</a>, solves for the 95% Saas use-case and this release will allow our users to better take advantage of those features. Some features are available today and others will be made available in the next few weeks.</p>
<p>👉 <a href="https://dash.phasetwo.io/" target="_blank" rel="noopener noreferrer" class="">Try it now</a></p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="a-ground-up-redesign">A Ground-Up Redesign<a href="https://phasetwo.io/blog/dashboard-launch/#a-ground-up-redesign" class="hash-link" aria-label="Direct link to A Ground-Up Redesign" title="Direct link to A Ground-Up Redesign" translate="no">​</a></h2>
<p>This isn’t just a UI refresh — it's a completely <strong>rearchitected application</strong>. We’ve rethought every aspect of how users interact with Phase Two services to make managing Keycloak more intuitive, responsive, and capable. Whether you’re deploying your first realm, spinning up your first cluster or scaling to serve thousands of users, the new dashboard is built to support you and your needs.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="shaped-by-real-world-use-cases">Shaped by Real-World Use Cases<a href="https://phasetwo.io/blog/dashboard-launch/#shaped-by-real-world-use-cases" class="hash-link" aria-label="Direct link to Shaped by Real-World Use Cases" title="Direct link to Shaped by Real-World Use Cases" translate="no">​</a></h2>
<p>The first version of our dashboard got the job done, but it was intentionally minimal. Since then, we’ve worked closely with our customers to understand what matters most. From enterprise SSO setups to custom themes and extensions — this release is a direct result of your input.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="a-powerful-new-ui">A Powerful New UI<a href="https://phasetwo.io/blog/dashboard-launch/#a-powerful-new-ui" class="hash-link" aria-label="Direct link to A Powerful New UI" title="Direct link to A Powerful New UI" translate="no">​</a></h2>
<p>We’ve introduced a new, modern interface that’s faster, easier to navigate, and more scalable for the workflows you rely on. The redesigned UI improves visibility into your deployments and streamlines common tasks like adding users, managing themes, and scaling infrastructure.</p>
<p>Plus with this new UI, Dark mode is now a reality.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="custom-themes-and-extensions-now-self-serve">Custom Themes and Extensions: Now Self-Serve<a href="https://phasetwo.io/blog/dashboard-launch/#custom-themes-and-extensions-now-self-serve" class="hash-link" aria-label="Direct link to Custom Themes and Extensions: Now Self-Serve" title="Direct link to Custom Themes and Extensions: Now Self-Serve" translate="no">​</a></h2>
<p>Launching soon, you will be able to <strong>upload and deploy custom Keycloak themes and extensions</strong> directly from the dashboard — no support ticket required. This makes it faster than ever to personalize your deployment or roll out new functionality.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="built-in-observability-and-monitoring">Built-In Observability and Monitoring<a href="https://phasetwo.io/blog/dashboard-launch/#built-in-observability-and-monitoring" class="hash-link" aria-label="Direct link to Built-In Observability and Monitoring" title="Direct link to Built-In Observability and Monitoring" translate="no">​</a></h2>
<p>We’ve expanded observability features to give you deeper insights into your deployments. Track uptime, see logs, and monitor usage directly from your dashboard to ensure smooth, reliable performance. We'll be rolling out access to this over the next couple of weeks.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="custom-domains-cnames">Custom Domains (CNAMEs)<a href="https://phasetwo.io/blog/dashboard-launch/#custom-domains-cnames" class="hash-link" aria-label="Direct link to Custom Domains (CNAMEs)" title="Direct link to Custom Domains (CNAMEs)" translate="no">​</a></h2>
<p>You can now <strong>add and manage your own custom domains</strong> right in the UI. Whether you're branding a login portal or separating environments, it’s never been easier to configure.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="integrated-team-management">Integrated Team Management<a href="https://phasetwo.io/blog/dashboard-launch/#integrated-team-management" class="hash-link" aria-label="Direct link to Integrated Team Management" title="Direct link to Integrated Team Management" translate="no">​</a></h2>
<p>Invite teammates, configure roles, and connect your identity provider — all within the dashboard. Full SSO support is available for securing team access with your existing auth infrastructure.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="cluster-creation-across-regions-and-tiers">Cluster Creation Across Regions and Tiers<a href="https://phasetwo.io/blog/dashboard-launch/#cluster-creation-across-regions-and-tiers" class="hash-link" aria-label="Direct link to Cluster Creation Across Regions and Tiers" title="Direct link to Cluster Creation Across Regions and Tiers" translate="no">​</a></h2>
<p>Create Keycloak clusters with support for different performance and availability tiers. Whether you're running a dev sandbox or a production-grade deployment, the dashboard provides you with the tools you need to do so.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="built-for-the-future">Built for the Future<a href="https://phasetwo.io/blog/dashboard-launch/#built-for-the-future" class="hash-link" aria-label="Direct link to Built for the Future" title="Direct link to Built for the Future" translate="no">​</a></h2>
<p>This release lays the foundation for rapid iteration. We’ve made it easier than ever to add new features, so expect regular updates as we continue to grow and improve the platform.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="wed-love-your-feedback">We'd Love Your Feedback<a href="https://phasetwo.io/blog/dashboard-launch/#wed-love-your-feedback" class="hash-link" aria-label="Direct link to We'd Love Your Feedback" title="Direct link to We'd Love Your Feedback" translate="no">​</a></h2>
<p>Your input got us here, and it’s what will keep making this platform better. Let us know what’s working and what’s not by emailing us at <a href="mailto:support@phasetwo.io" target="_blank" rel="noopener noreferrer" class="">support@phasetwo.io</a>.</p>
<hr>
<p><strong>Explore the new dashboard → <a href="https://dash.phasetwo.io/" target="_blank" rel="noopener noreferrer" class="">dash.phasetwo.io</a></strong></p>]]></content:encoded>
            <author>support@phasetwo.io (Phase Two)</author>
            <category>phase_two</category>
            <category>open_source</category>
            <category>dashboard</category>
            <category>manage</category>
        </item>
        <item>
            <title><![CDATA[Phase Two Achieves SOC 2 Type 1 Compliance]]></title>
            <link>https://phasetwo.io/blog/soc-2-type-1-compliance/</link>
            <guid>https://phasetwo.io/blog/soc-2-type-1-compliance/</guid>
            <pubDate>Thu, 19 Jun 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[We are excited to announce that Phase Two has achieved SOC 2 Type 1 compliance! This milestone demonstrates our ongoing commitment to security, availability, and the protection of our customers’ data.]]></description>
            <content:encoded><![CDATA[<p>We are excited to announce that Phase Two has achieved SOC 2 Type 1 compliance! This milestone demonstrates our ongoing commitment to security, availability, and the protection of our customers’ data.</p>
<p>Learn more at <a href="https://trust.phasetwo.io/" target="_blank" rel="noopener noreferrer" class="">trust.phasetwo.io</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="what-is-soc-2-type-1-compliance">What is SOC 2 Type 1 Compliance?<a href="https://phasetwo.io/blog/soc-2-type-1-compliance/#what-is-soc-2-type-1-compliance" class="hash-link" aria-label="Direct link to What is SOC 2 Type 1 Compliance?" title="Direct link to What is SOC 2 Type 1 Compliance?" translate="no">​</a></h2>
<p>SOC 2 (System and Organization Controls 2) is an industry-standard framework for managing and securing customer data based on five trust service criteria: security, availability, processing integrity, confidentiality, and privacy. Type 1 compliance verifies that we have the right controls and processes in place as of a specific date.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="why-is-soc-2-compliance-important">Why is SOC 2 Compliance Important?<a href="https://phasetwo.io/blog/soc-2-type-1-compliance/#why-is-soc-2-compliance-important" class="hash-link" aria-label="Direct link to Why is SOC 2 Compliance Important?" title="Direct link to Why is SOC 2 Compliance Important?" translate="no">​</a></h2>
<ul>
<li class=""><strong>Independent Validation:</strong> SOC 2 compliance provides third-party assurance that our security practices meet rigorous industry standards.</li>
<li class=""><strong>Customer Trust:</strong> Our customers can be confident that their data is handled securely and responsibly.</li>
<li class=""><strong>Risk Mitigation:</strong> Strong controls help reduce the risk of data breaches and operational disruptions.</li>
<li class=""><strong>Competitive Advantage:</strong> SOC 2 compliance sets us apart as a trusted provider in the identity and access management space.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="whats-next">What’s Next?<a href="https://phasetwo.io/blog/soc-2-type-1-compliance/#whats-next" class="hash-link" aria-label="Direct link to What’s Next?" title="Direct link to What’s Next?" translate="no">​</a></h2>
<p>We are already working toward SOC 2 Type 2 compliance, which evaluates the operational effectiveness of our controls over time. We expect to achieve Type 2 compliance within the next 90 days (mandatory audit period).</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="what-does-this-mean-for-our-customers">What Does This Mean for Our Customers?<a href="https://phasetwo.io/blog/soc-2-type-1-compliance/#what-does-this-mean-for-our-customers" class="hash-link" aria-label="Direct link to What Does This Mean for Our Customers?" title="Direct link to What Does This Mean for Our Customers?" translate="no">​</a></h2>
<ul>
<li class=""><strong>Peace of Mind:</strong> You can trust that your data is protected by robust, independently-audited controls.</li>
<li class=""><strong>Transparency:</strong> We are committed to maintaining high standards and keeping you informed about our security posture.</li>
<li class=""><strong>Continuous Improvement:</strong> Achieving and maintaining SOC 2 compliance is part of our ongoing dedication to security and operational excellence.</li>
</ul>
<p>Phase Two's <a class="" href="https://phasetwo.io/hosting/">hosting</a> product has continued to attract customers in many different industries from Healthcare, CDN and Security, Grocers, and more. As part of our commitment to growth, SOC 2 is a big step in being able to adhere to standards that are evaluated by third parties.</p>
<p>Thank you for trusting Phase Two with your business. We look forward to continuing to serve you with the highest standards of security and reliability.</p>
<p>If you would like to know more about our services and products, please email ✉️ <a href="mailto:sales@phasetwo.io" target="_blank" rel="noopener noreferrer" class="">sales@phasetwo.io</a>.</p>]]></content:encoded>
            <author>support@phasetwo.io (Phase Two)</author>
            <category>phase_two</category>
            <category>security</category>
            <category>hosting</category>
            <category>soc-2</category>
        </item>
        <item>
            <title><![CDATA[Understanding Multi-Tenancy Options in Keycloak]]></title>
            <link>https://phasetwo.io/blog/multi-tenancy-options-keycloak/</link>
            <guid>https://phasetwo.io/blog/multi-tenancy-options-keycloak/</guid>
            <pubDate>Mon, 21 Apr 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[As more companies build SaaS platforms, the need to serve multiple customer groups—or tenants—from a single system becomes critical. In the identity world, this means implementing multi-tenancy within your identity provider.]]></description>
            <content:encoded><![CDATA[<p>As more companies build SaaS platforms, the need to serve multiple customer groups—or tenants—from a single system becomes critical. In the identity world, this means implementing <strong>multi-tenancy</strong> within your identity provider.</p>
<p>In this post, we’ll walk through:</p>
<ul>
<li class="">What multi-tenancy means in Keycloak</li>
<li class="">The drawbacks of using multiple realms for tenants</li>
<li class="">Why organizations are a better, more scalable approach</li>
<li class="">How the Phase Two <a class="" href="https://phasetwo.io/product/organizations/">Organizations</a> extension supports advanced use cases like theming, shared IdPs, and user membership</li>
<li class="">How our implementation differs from (and improves on) the new native Keycloak organizations feature</li>
</ul>
<p>We've written extensively about how to <a class="" href="https://phasetwo.io/blog/multi-tenancy-with-keycloak-organizations/">model multi-tenancy with organizations</a> and how Phase Two's <a class="" href="https://phasetwo.io/blog/phase-two-organizations-shared-idps/">Organizations extension differs from the native implementation</a> being undertaken by the Keycloak team.</p>
<p>All of Phase Two's <a class="" href="https://phasetwo.io/hosting/">hosted</a> environments come standard with all of our <a href="https://github.com/p2-inc#our-extensions-" target="_blank" rel="noopener noreferrer" class="">popular extensions</a> to make it easy to hit the ground running and cover 95% of all IAM use-cases.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="what-is-multi-tenancy">What Is Multi-Tenancy?<a href="https://phasetwo.io/blog/multi-tenancy-options-keycloak/#what-is-multi-tenancy" class="hash-link" aria-label="Direct link to What Is Multi-Tenancy?" title="Direct link to What Is Multi-Tenancy?" translate="no">​</a></h2>
<p>Multi-tenancy is a system architecture where a single instance of software serves multiple logically-separated customers or organizations—each with their own users, permissions, and sometimes custom branding.</p>
<!-- -->
<p>By contrast in a single-tenancy approach, there would need to be a single realm per IAM.</p>
<!-- -->
<p>In Keycloak terms, multi-tenancy means allowing multiple organizations to authenticate users, manage roles, and access apps—<strong>all from a single realm</strong>. In a <strong>single-tenant</strong> architecture, each customer (or tenant) has their own Keycloak realm.</p>
<p>Taking the graph above and changing it to display how Organizations come into play looks as follows. Don't worry if this is confusing at first, we're going to walk through all of it.</p>
<!-- -->
<hr>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="why-multi-realm-doesnt-work">Why Multi-Realm Doesn't Work<a href="https://phasetwo.io/blog/multi-tenancy-options-keycloak/#why-multi-realm-doesnt-work" class="hash-link" aria-label="Direct link to Why Multi-Realm Doesn't Work" title="Direct link to Why Multi-Realm Doesn't Work" translate="no">​</a></h2>
<p>One of Keycloak’s most common multi-tenant patterns is to create <strong>a realm per tenant</strong>. This seems clean at first—but has significant downsides:</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="problems-with-multi-realm">Problems with Multi-Realm:<a href="https://phasetwo.io/blog/multi-tenancy-options-keycloak/#problems-with-multi-realm" class="hash-link" aria-label="Direct link to Problems with Multi-Realm:" title="Direct link to Problems with Multi-Realm:" translate="no">​</a></h3>
<ul>
<li class=""><strong>Performance</strong>: Keycloak performance degrades when you have hundreds of realms</li>
<li class=""><strong>Limited Cross-Tenant Features</strong>: You can’t easily link users or resources across realms</li>
<li class=""><strong>Duplication</strong>: Users with accounts in multiple realms must manage separate logins and passwords</li>
<li class=""><strong>Management Overhead</strong>: Updating roles, theming, and settings across many realms is tedious and error-prone</li>
</ul>
<p>The model simply doesn’t scale when you have 50, 100, or 500 tenants.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="organizations-a-smarter-approach-to-multi-tenancy">Organizations: A Smarter Approach to Multi-Tenancy<a href="https://phasetwo.io/blog/multi-tenancy-options-keycloak/#organizations-a-smarter-approach-to-multi-tenancy" class="hash-link" aria-label="Direct link to Organizations: A Smarter Approach to Multi-Tenancy" title="Direct link to Organizations: A Smarter Approach to Multi-Tenancy" translate="no">​</a></h2>
<p>Phase Two's <a class="" href="https://phasetwo.io/product/organizations/"><strong>Organizations Extension for Keycloak</strong></a> enables true multi-tenancy <strong>within a single realm</strong>—a more scalable and resource-efficient model.</p>
<p>With Organizations, Keycloak gains first-class multi-tenant capabilities:</p>
<ul>
<li class=""><strong>Organizations</strong>: Define isolated tenant groups</li>
<li class=""><strong>Memberships</strong>: Users can belong to one or more orgs</li>
<li class=""><strong>Org Roles</strong>: Assign roles and permissions within each org</li>
<li class=""><strong>Invitations</strong>: Invite users by email (even before they exist)</li>
<li class=""><strong>Domain association</strong>: Automatically map users to orgs by email domain</li>
<li class=""><strong>Active organization context</strong>: Switch between orgs in a single session</li>
</ul>
<p>This lets you maintain secure, segmented access <strong>without managing dozens of realms</strong>.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="theming-per-tenant-client-level-customization">Theming Per Tenant (Client-Level Customization)<a href="https://phasetwo.io/blog/multi-tenancy-options-keycloak/#theming-per-tenant-client-level-customization" class="hash-link" aria-label="Direct link to Theming Per Tenant (Client-Level Customization)" title="Direct link to Theming Per Tenant (Client-Level Customization)" translate="no">​</a></h2>
<p>Need custom branding for each organization? You can theme Keycloak <strong>per client</strong>—and by linking each client to an organization, you effectively get <strong>per-tenant theming</strong>.</p>
<ol>
<li class="">Create a separate client per organization</li>
<li class="">Assign custom theme to each client (via client settings)</li>
<li class="">Use <code>login_theme</code> and <code>account_theme</code> in client metadata</li>
<li class="">Use the Organization ID or client ID in templates to style login pages dynamically</li>
</ol>
<p>This allows each org to have its own login screen—perfect for white-label SaaS.</p>
<p>In order to build out dynamic themes, we highly recommend leveraging <a href="https://keycloakify.com/" target="_blank" rel="noopener noreferrer" class="">Keycloakify</a>, which Phase Two <a class="" href="https://phasetwo.io/blog/phasetwo-keycloakify-partnership/">sponsors</a> and believes heavily in.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="users-in-multiple-organizations">Users in Multiple Organizations<a href="https://phasetwo.io/blog/multi-tenancy-options-keycloak/#users-in-multiple-organizations" class="hash-link" aria-label="Direct link to Users in Multiple Organizations" title="Direct link to Users in Multiple Organizations" translate="no">​</a></h2>
<p>Unlike the multi-realm model (where each user is siloed), the Organizations extension allows <strong>a single user to exist in multiple organizations</strong>:</p>
<ul>
<li class="">One email, one username, one login</li>
<li class="">Organization-specific roles and permissions</li>
<li class="">Ability to switch active org via the <code>/me</code> <a class="" href="https://phasetwo.io/api/get-me/">endpoint</a></li>
</ul>
<p>This is especially powerful for admins, consultants, or vendors who interact with multiple customer orgs.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="assign-identity-providers-to-organizations">Assign Identity Providers to Organizations<a href="https://phasetwo.io/blog/multi-tenancy-options-keycloak/#assign-identity-providers-to-organizations" class="hash-link" aria-label="Direct link to Assign Identity Providers to Organizations" title="Direct link to Assign Identity Providers to Organizations" translate="no">​</a></h2>
<p>Organizations can now <strong>assign the Identity Provider (IdP)</strong> to tenants—ideal for social login or enterprise SSO scenarios like Google Workspace:</p>
<ul>
<li class="">Define a single OIDC IdP (e.g., Google)</li>
<li class="">Map it to the orgs</li>
<li class="">Use email domain matching to assign incoming users to the correct org</li>
</ul>
<p>It’s centralized, scalable, and easier to manage.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="get-started-with-multi-tenant-keycloak">Get Started with Multi-Tenant Keycloak<a href="https://phasetwo.io/blog/multi-tenancy-options-keycloak/#get-started-with-multi-tenant-keycloak" class="hash-link" aria-label="Direct link to Get Started with Multi-Tenant Keycloak" title="Direct link to Get Started with Multi-Tenant Keycloak" translate="no">​</a></h2>
<p>Multi-tenancy doesn’t have to be hard—or fragile.</p>
<p>With Phase Two’s Organizations extension and our managed Keycloak platform, you can:</p>
<ul>
<li class="">Support any number of tenants from a single realm</li>
<li class="">Assign custom branding per org</li>
<li class="">Link IdPs and manage federated users</li>
<li class="">Scale securely, with support from the people who built the system</li>
</ul>
<p>👉 <a href="https://phasetwo.io/product/organizations" target="_blank" rel="noopener noreferrer" class="">Learn more about Organizations →</a><br>
<!-- -->👉 <a href="https://dash.phasetwo.io/" target="_blank" rel="noopener noreferrer" class="">Get Started with Free Managed Keycloak →</a></p>
<p>📩 <a href="mailto:sales@phasetwo.io" target="_blank" rel="noopener noreferrer" class="">Reach out to the team →</a></p>]]></content:encoded>
            <author>support@phasetwo.io (Phase Two)</author>
            <category>phase_two</category>
            <category>open_source</category>
            <category>multi_tenancy</category>
            <category>organizations</category>
            <category>keycloak</category>
        </item>
        <item>
            <title><![CDATA[Web Application Security with Your Keycloak Deployment]]></title>
            <link>https://phasetwo.io/blog/waf-keycloak/</link>
            <guid>https://phasetwo.io/blog/waf-keycloak/</guid>
            <pubDate>Fri, 18 Apr 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[As more companies adopt Keycloak for enterprise identity and access management, security is no longer just a back-end concern. One of the most frequent questions we hear at Phase Two is:]]></description>
            <content:encoded><![CDATA[<p>As more companies adopt Keycloak for enterprise identity and access management, security is no longer just a back-end concern. One of the most frequent questions we hear at Phase Two is:</p>
<p><strong>"Should I put a Web Application Firewall (WAF) in front of Keycloak?"</strong></p>
<p>The short answer? <strong>It depends</strong>—but it's a smart question to ask.</p>
<p>In this post, we'll break down what Keycloak provides out of the box, explore common attack vectors (especially around authentication endpoints), and help you evaluate whether you need to add an external firewall or WAF to your deployment.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="what-security-does-keycloak-provide">What Security Does Keycloak Provide?<a href="https://phasetwo.io/blog/waf-keycloak/#what-security-does-keycloak-provide" class="hash-link" aria-label="Direct link to What Security Does Keycloak Provide?" title="Direct link to What Security Does Keycloak Provide?" translate="no">​</a></h2>
<p>Keycloak includes several built-in protections, especially around <strong>login abuse detection</strong>:</p>
<ul>
<li class=""><strong>Brute Force Detection</strong>: Limit login attempts per user/IP combination</li>
<li class=""><strong>Event Logging</strong>: Track login attempts, errors, and success/failure trends</li>
<li class=""><strong>Account Lockout</strong>: Lock users after repeated failures</li>
<li class=""><strong>Rate Limiting</strong> (indirect via proxies): Supports integration with reverse proxies/load balancers</li>
<li class=""><strong>Session Expiry Controls</strong>: Limits token lifespan and session reuse</li>
</ul>
<p>These help protect against basic abuse patterns like credential stuffing and dictionary attacks—but they aren’t designed to stop <strong>network-level threats</strong> like DDoS or complex bot traffic.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="which-keycloak-endpoints-get-targeted">Which Keycloak Endpoints Get Targeted?<a href="https://phasetwo.io/blog/waf-keycloak/#which-keycloak-endpoints-get-targeted" class="hash-link" aria-label="Direct link to Which Keycloak Endpoints Get Targeted?" title="Direct link to Which Keycloak Endpoints Get Targeted?" translate="no">​</a></h2>
<p>The most vulnerable part of a Keycloak deployment is also its most exposed: the <strong>login page</strong>.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="commonly-targeted-endpoints">Commonly targeted endpoints:<a href="https://phasetwo.io/blog/waf-keycloak/#commonly-targeted-endpoints" class="hash-link" aria-label="Direct link to Commonly targeted endpoints:" title="Direct link to Commonly targeted endpoints:" translate="no">​</a></h3>
<ul>
<li class=""><code>/realms/{realm}/protocol/openid-connect/auth</code></li>
<li class=""><code>/realms/{realm}/protocol/openid-connect/token</code></li>
<li class=""><code>/realms/{realm}/account/</code></li>
<li class=""><code>/realms/{realm}/login-actions/authenticate</code></li>
<li class="">Password reset and registration endpoints</li>
</ul>
<p>These routes are exposed by design. If your login page is available to users around the world, it’s available to bots and attackers too.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="so-when-should-you-consider-a-waf">So, When Should You Consider a WAF?<a href="https://phasetwo.io/blog/waf-keycloak/#so-when-should-you-consider-a-waf" class="hash-link" aria-label="Direct link to So, When Should You Consider a WAF?" title="Direct link to So, When Should You Consider a WAF?" translate="no">​</a></h2>
<p>A WAF can protect your Keycloak deployment from a wide range of threats that Keycloak itself is not built to handle, such as:</p>
<ul>
<li class=""><strong>DDoS attacks</strong> targeting login endpoints</li>
<li class=""><strong>Bot-driven enumeration attacks</strong> (e.g., slow username probing)</li>
<li class=""><strong>IP spoofing or rotation attempts</strong></li>
<li class=""><strong>Malformed request injection or protocol abuse</strong></li>
</ul>
<p>A WAF provides <strong>layer 7 security</strong>, filtering traffic based on behavior, headers, and known attack patterns.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="you-might-consider-a-waf-if">You might consider a WAF if:<a href="https://phasetwo.io/blog/waf-keycloak/#you-might-consider-a-waf-if" class="hash-link" aria-label="Direct link to You might consider a WAF if:" title="Direct link to You might consider a WAF if:" translate="no">​</a></h3>
<ul>
<li class="">You expose Keycloak login pages publicly to thousands/millions of users</li>
<li class="">You run multi-tenant or CIAM deployments</li>
<li class="">You’ve experienced repeated attack attempts (or near misses)</li>
<li class="">You need deeper visibility and mitigation for L7 (application-level) traffic</li>
<li class="">You want geo-blocking, bot detection, or rate limiting with fine control</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="real-world-example-what-a-ddos-can-look-like">Real-World Example: What a DDoS Can Look Like<a href="https://phasetwo.io/blog/waf-keycloak/#real-world-example-what-a-ddos-can-look-like" class="hash-link" aria-label="Direct link to Real-World Example: What a DDoS Can Look Like" title="Direct link to Real-World Example: What a DDoS Can Look Like" translate="no">​</a></h2>
<p>A team running Keycloak recently shared their experience dealing with a <strong>multi-phase login enumeration DDoS attack</strong>:</p>
<ul>
<li class="">Attackers gradually increased pressure, beginning with low-rate enumeration</li>
<li class="">A misconfiguration allowed for excessive open connections that exhausted resources</li>
<li class="">Over time, they escalated to thousands of login requests per minute</li>
<li class="">Sophisticated use of IP rotation made IP bans ineffective</li>
</ul>
<p>Even though no data was breached, the attack overwhelmed infrastructure and required layered mitigation—<strong>including a WAF</strong> to filter malicious patterns without affecting legitimate traffic.</p>
<p>Phase Two has helped customers build resilient defenses to ensure they're ready <em>before</em> attackes like this happens.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="how-to-architect-defenses-around-keycloak">How to Architect Defenses Around Keycloak<a href="https://phasetwo.io/blog/waf-keycloak/#how-to-architect-defenses-around-keycloak" class="hash-link" aria-label="Direct link to How to Architect Defenses Around Keycloak" title="Direct link to How to Architect Defenses Around Keycloak" translate="no">​</a></h2>
<p>Whether or not you use a WAF, we recommend the following layered defense strategy. Using some or all of these can help.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="keycloak-brute-force--session-policies">Keycloak Brute Force &amp; Session Policies<a href="https://phasetwo.io/blog/waf-keycloak/#keycloak-brute-force--session-policies" class="hash-link" aria-label="Direct link to Keycloak Brute Force &amp; Session Policies" title="Direct link to Keycloak Brute Force &amp; Session Policies" translate="no">​</a></h3>
<p>Enable built-in brute force detection, set aggressive session expiration limits, and disable unused endpoints like user registration.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="waf-optional-but-recommended">WAF (Optional but Recommended)<a href="https://phasetwo.io/blog/waf-keycloak/#waf-optional-but-recommended" class="hash-link" aria-label="Direct link to WAF (Optional but Recommended)" title="Direct link to WAF (Optional but Recommended)" translate="no">​</a></h3>
<p>Use a WAF like Cloudflare, AWS WAF, or Fastly to block known bad actors and patterns. Look for features like:</p>
<ul>
<li class="">Rate limiting by path (e.g., <code>/auth</code>)</li>
<li class="">Bot management</li>
<li class="">CAPTCHA or JS challenge enforcement</li>
<li class="">Real-time threat feeds</li>
</ul>
<p>As part of Phase Two's <a class="" href="https://phasetwo.io/hosting/">Enterprise hosting</a> we provide the ability to integrate the WAF of your choosing along with your infrastructure.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="monitoring--anomaly-detection">Monitoring &amp; Anomaly Detection<a href="https://phasetwo.io/blog/waf-keycloak/#monitoring--anomaly-detection" class="hash-link" aria-label="Direct link to Monitoring &amp; Anomaly Detection" title="Direct link to Monitoring &amp; Anomaly Detection" translate="no">​</a></h3>
<p>Log traffic and authentication events. Set up alerts for spikes in failures, long-lived sessions, or abnormal IP geographies. Phase Two's built-in <a class="" href="https://phasetwo.io/hosting/">monitoring</a> is already pre-configured to note changes in traffic and abnormal patterns.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="reverse-proxy">Reverse Proxy<a href="https://phasetwo.io/blog/waf-keycloak/#reverse-proxy" class="hash-link" aria-label="Direct link to Reverse Proxy" title="Direct link to Reverse Proxy" translate="no">​</a></h3>
<p>Use NGINX or Envoy in front of Keycloak to terminate TLS, cache static assets, and enforce basic rate limits.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="so-do-you-need-a-waf">So, Do You Need a WAF?<a href="https://phasetwo.io/blog/waf-keycloak/#so-do-you-need-a-waf" class="hash-link" aria-label="Direct link to So, Do You Need a WAF?" title="Direct link to So, Do You Need a WAF?" translate="no">​</a></h2>
<p>If you're running Keycloak inside a secure corporate network and exposing login only to employees, <strong>maybe not</strong>.</p>
<p>But if you're serving external users—especially at scale—the answer leans strongly toward <strong>yes</strong>.</p>
<p>Even the most robust IAM systems can be overwhelmed by network-level threats they weren’t built to handle. A WAF isn’t a silver bullet—but it’s a strong, smart addition to a well-architected identity stack. Defense-in-depth is truly the only option for full network security of any web property.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="how-phase-two-helps">How Phase Two Helps<a href="https://phasetwo.io/blog/waf-keycloak/#how-phase-two-helps" class="hash-link" aria-label="Direct link to How Phase Two Helps" title="Direct link to How Phase Two Helps" translate="no">​</a></h2>
<p>At <strong>Phase Two</strong>, we specialize in managing and securing Keycloak at scale. Our hosted platform includes:</p>
<ul>
<li class="">Hardened Keycloak configurations</li>
<li class="">Pre-integrated reverse proxy protections</li>
<li class="">Best-practice DDoS and abuse mitigation</li>
<li class="">Optional WAF integrations</li>
<li class="">24/7 observability and response tooling</li>
</ul>
<p>We help teams design IAM infrastructure that’s not just compliant—but resilient.</p>
<hr>
<p><strong>Want to talk WAFs, login security, or DDoS mitigation?</strong></p>
<ul>
<li class="">📩 <a href="mailto:sales@phasetwo.io" target="_blank" rel="noopener noreferrer" class="">Reach out to the team →</a></li>
<li class="">👉 <a href="https://dash.phasetwo.io/" target="_blank" rel="noopener noreferrer" class="">Get Started with Free Managed Keycloak</a></li>
</ul>]]></content:encoded>
            <author>support@phasetwo.io (Phase Two)</author>
            <category>phase_two</category>
            <category>open_source</category>
            <category>web_application_security</category>
            <category>security</category>
        </item>
        <item>
            <title><![CDATA[Webauthn and Passkeys with Keycloak]]></title>
            <link>https://phasetwo.io/blog/webauthn-keycloak/</link>
            <guid>https://phasetwo.io/blog/webauthn-keycloak/</guid>
            <pubDate>Thu, 17 Apr 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[Passwords are on their way out. From phishing to password reuse, they've become one of the weakest links in modern authentication. The solution? Passkeys—a phishing-resistant, user-friendly, and increasingly supported replacement for traditional passwords.]]></description>
            <content:encoded><![CDATA[<p>Passwords are on their way out. From phishing to password reuse, they've become one of the weakest links in modern authentication. The solution? <strong>Passkeys</strong>—a phishing-resistant, user-friendly, and increasingly supported replacement for traditional passwords.</p>
<p>In this post, we’ll break down what passkeys are, how they work, which platforms support them, how they relate to WebAuthn, and how you can integrate them into your Keycloak authentication flows. Finally, we’ll explore some of the real-world considerations and challenges.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="what-are-passkeys">What Are Passkeys?<a href="https://phasetwo.io/blog/webauthn-keycloak/#what-are-passkeys" class="hash-link" aria-label="Direct link to What Are Passkeys?" title="Direct link to What Are Passkeys?" translate="no">​</a></h2>
<p><strong>Passkeys</strong> are a modern alternative to passwords. Built on public-key cryptography, passkeys replace the traditional "something you know" (your password) with "something you have" (your device) and "something you are" (biometrics like a fingerprint or face scan).</p>
<p>Unlike passwords, passkeys:</p>
<ul>
<li class="">Are resistant to phishing and brute-force attacks</li>
<li class="">Can’t be reused across sites</li>
<li class="">Don’t need to be remembered</li>
<li class="">Are stored securely on your device or in a password manager that supports syncing</li>
</ul>
<p>They offer the security of hardware security keys (like YubiKey) but with the convenience of Face ID or Windows Hello.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="how-do-passkeys-work">How Do Passkeys Work?<a href="https://phasetwo.io/blog/webauthn-keycloak/#how-do-passkeys-work" class="hash-link" aria-label="Direct link to How Do Passkeys Work?" title="Direct link to How Do Passkeys Work?" translate="no">​</a></h2>
<p>Passkeys use <strong>public-private key pairs</strong> (<a href="https://en.wikipedia.org/wiki/Public-key_cryptography" target="_blank" rel="noopener noreferrer" class="">link</a>). Here’s how a typical passkey login works:</p>
<ol>
<li class="">A website (relying party) sends a challenge to the user's browser.</li>
<li class="">The user’s device uses a previously stored private key (protected by a biometric or PIN) to sign the challenge.</li>
<li class="">The browser returns the signed challenge to the website.</li>
<li class="">The website uses the stored public key to verify the response and complete authentication.</li>
</ol>
<p>No secrets are ever sent over the wire. This eliminates common password-based vulnerabilities.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="where-are-passkeys-supported">Where Are Passkeys Supported?<a href="https://phasetwo.io/blog/webauthn-keycloak/#where-are-passkeys-supported" class="hash-link" aria-label="Direct link to Where Are Passkeys Supported?" title="Direct link to Where Are Passkeys Supported?" translate="no">​</a></h2>
<p>Passkeys are no longer a concept of the future—they're here, and support is growing fast. To get a quick idea, here are some of the existing systems that offer support.</p>
<table><thead><tr><th>Platform</th><th>Passkey Support</th></tr></thead><tbody><tr><td><strong>Apple</strong></td><td>Face ID / Touch ID via iCloud Keychain (macOS, iOS)</td></tr><tr><td><strong>Google</strong></td><td>Android and Chrome support passkeys via Google Password Manager</td></tr><tr><td><strong>Microsoft</strong></td><td>Windows Hello and Edge support WebAuthn-based passkeys</td></tr><tr><td><strong>Password Managers</strong></td><td>1Password and Dashlane have launched passkey support</td></tr><tr><td><strong>Browsers</strong></td><td>Chrome, Safari, Edge, and Firefox (with varying levels of polish)</td></tr></tbody></table>
<p>Cross-platform syncing is also becoming easier thanks to initiatives like <strong>FIDO2</strong> and <strong>passkey.ro</strong>.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="whats-the-relationship-between-passkeys-and-webauthn">What’s the Relationship Between Passkeys and WebAuthn?<a href="https://phasetwo.io/blog/webauthn-keycloak/#whats-the-relationship-between-passkeys-and-webauthn" class="hash-link" aria-label="Direct link to What’s the Relationship Between Passkeys and WebAuthn?" title="Direct link to What’s the Relationship Between Passkeys and WebAuthn?" translate="no">​</a></h2>
<p><strong>WebAuthn</strong> (Web Authentication API) is the W3C standard that enables passwordless login in web applications. Passkeys are a <strong>user-friendly implementation of WebAuthn credentials</strong>, often synced across devices via a cloud provider (like iCloud or Google Password Manager).</p>
<p>WebAuthn supports two main registration types:</p>
<ul>
<li class=""><strong>Roaming authenticators</strong> like hardware keys (YubiKey)</li>
<li class=""><strong>Platform authenticators</strong> like biometrics on a phone or laptop (e.g., Touch ID, Windows Hello)</li>
</ul>
<p><strong>Passkeys</strong> use platform authenticators and often add cross-device syncing on top. So while WebAuthn is the standard, passkeys are the experience users interact with.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="adding-passkeys-to-keycloak">Adding Passkeys to Keycloak<a href="https://phasetwo.io/blog/webauthn-keycloak/#adding-passkeys-to-keycloak" class="hash-link" aria-label="Direct link to Adding Passkeys to Keycloak" title="Direct link to Adding Passkeys to Keycloak" translate="no">​</a></h2>
<p><strong>Keycloak supports WebAuthn natively</strong>, meaning you can offer passkeys as a sign-in method today—no plugins or external tools required.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="setup-steps">Setup Steps<a href="https://phasetwo.io/blog/webauthn-keycloak/#setup-steps" class="hash-link" aria-label="Direct link to Setup Steps" title="Direct link to Setup Steps" translate="no">​</a></h3>
<p>Test this next section using Phase Two's <a href="https://dash.phasetwo.io/" target="_blank" rel="noopener noreferrer" class="">Free Deployment</a>.</p>
<ol>
<li class=""><strong>Enable user registration</strong> in your realm settings.</li>
<li class="">Under <strong>Authentication → Required Actions</strong>, enable:<!-- -->
<ul>
<li class=""><code>WebAuthn Register</code></li>
<li class=""><code>WebAuthn Register Passwordless</code></li>
</ul>
</li>
<li class="">Create a custom browser login flow:<!-- -->
<ul>
<li class="">Duplicate the built-in browser flow.</li>
<li class="">Remove the <code>Username Password Form</code> step. (optional if you don't want this as an option)</li>
<li class="">Add a <code>Username Form</code> and the <code>WebAuthn Passwordless Authenticator</code> step.</li>
<li class="">Set the WebAuthn step to <code>Required</code>.</li>
</ul>
</li>
<li class="">Bind this new flow as your realm's <strong>browser flow</strong>.</li>
</ol>
<p>With this flow, users will log in using passkeys—no passwords, just their fingerprint, face, or device confirmation.</p>
<blockquote>
<p>✅ <strong>Pro tip:</strong> You can also offer passkeys as a second factor or as an upgrade path after initial password login.</p>
</blockquote>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="challenges-and-considerations">Challenges and Considerations<a href="https://phasetwo.io/blog/webauthn-keycloak/#challenges-and-considerations" class="hash-link" aria-label="Direct link to Challenges and Considerations" title="Direct link to Challenges and Considerations" translate="no">​</a></h2>
<p>Implementing passkeys is powerful, but not without complexity. A few things to keep in mind:</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="device-recovery">Device Recovery<a href="https://phasetwo.io/blog/webauthn-keycloak/#device-recovery" class="hash-link" aria-label="Direct link to Device Recovery" title="Direct link to Device Recovery" translate="no">​</a></h3>
<p>If a user loses their device or wipes their phone, their passkey is lost unless it’s synced to the cloud (e.g., iCloud, Google). Ensure fallback options exist—like email OTP or re-registration.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="cross-platform-compatibility">Cross-Platform Compatibility<a href="https://phasetwo.io/blog/webauthn-keycloak/#cross-platform-compatibility" class="hash-link" aria-label="Direct link to Cross-Platform Compatibility" title="Direct link to Cross-Platform Compatibility" translate="no">​</a></h3>
<p>Passkeys behave differently across OSes and browsers. For example, Windows Hello may not sync with a MacBook’s Touch ID. Testing across platforms is key.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="user-education">User Education<a href="https://phasetwo.io/blog/webauthn-keycloak/#user-education" class="hash-link" aria-label="Direct link to User Education" title="Direct link to User Education" translate="no">​</a></h3>
<p>Passkeys are unfamiliar to many users. Provide clear onboarding, and consider hybrid flows that gradually move users from password-based logins to passkeys.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="deployment-architecture">Deployment Architecture<a href="https://phasetwo.io/blog/webauthn-keycloak/#deployment-architecture" class="hash-link" aria-label="Direct link to Deployment Architecture" title="Direct link to Deployment Architecture" translate="no">​</a></h3>
<p>If your Keycloak deployment involves multiple realms or external IDPs, you'll need to ensure your WebAuthn configuration is consistent across them.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="why-phase-two">Why Phase Two?<a href="https://phasetwo.io/blog/webauthn-keycloak/#why-phase-two" class="hash-link" aria-label="Direct link to Why Phase Two?" title="Direct link to Why Phase Two?" translate="no">​</a></h2>
<p>At <strong>Phase Two</strong>, we offer more than just Keycloak hosting—we help teams <strong>architect for modern identity</strong>.</p>
<p>Need help rolling out passkeys and passwordless login in your apps? We can help you:</p>
<ul>
<li class="">Customize your Keycloak flows for WebAuthn</li>
<li class="">Audit your security settings and fallback options</li>
<li class="">Ensure your deployment scales with your users</li>
<li class="">Keep your Keycloak up-to-date with the latest passkey support</li>
</ul>
<p>Let’s build a secure, passwordless future—together.</p>
<ul>
<li class="">📩 <a href="mailto:sales@phasetwo.io" target="_blank" rel="noopener noreferrer" class="">Reach out to the team →</a></li>
<li class="">👉 <a href="https://dash.phasetwo.io/" target="_blank" rel="noopener noreferrer" class="">Get Started with Free Managed Keycloak</a></li>
</ul>]]></content:encoded>
            <author>support@phasetwo.io (Phase Two)</author>
            <category>phase_two</category>
            <category>open_source</category>
            <category>webauthn</category>
            <category>passkeys</category>
            <category>authentication</category>
        </item>
        <item>
            <title><![CDATA[SAML, Simplified.]]></title>
            <link>https://phasetwo.io/blog/introduction-to-simple-saml/</link>
            <guid>https://phasetwo.io/blog/introduction-to-simple-saml/</guid>
            <pubDate>Thu, 10 Apr 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[SAML has a bit of a reputation. For many developers, it lives in that shadowy corner of the B2B internet where XML still rules and stack traces seem to go on forever. If you've ever had the misfortune of debugging a malformed ``, you know the pain. But here's the thing: it doesn't have to be a nightmare.]]></description>
            <content:encoded><![CDATA[<p>SAML has a bit of a reputation. For many developers, it lives in that shadowy corner of the B2B internet where XML still rules and stack traces seem to go on forever. If you've ever had the misfortune of debugging a malformed <code>&lt;Assertion&gt;</code>, you know the pain. But here's the thing: it doesn't have to be a nightmare.</p>
<p>At Phase Two, we provide <a class="" href="https://phasetwo.io/hosting/">managed hosting</a> and <a class="" href="https://phasetwo.io/support/">enterprise support</a> for <a href="https://www.keycloak.org/" target="_blank" rel="noopener noreferrer" class="">Keycloak</a>, a leading open-source Identity and Access Management platform. And while <a href="https://openid.net/specs/openid-connect-core-1_0-final.html" target="_blank" rel="noopener noreferrer" class="">OIDC</a> has become the default for most modern applications, <a href="https://en.wikipedia.org/wiki/SAML_2.0" target="_blank" rel="noopener noreferrer" class="">SAML</a> is still alive and well—especially in enterprise environments.</p>
<p>This post is a gentle (and opinionated) introduction to what SAML is, how it works, and why it still matters particularly if you're implementing SAML <a class="" href="https://phasetwo.io/product/sso/">SSO</a> in Keycloak.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="what-even-is-saml">What even is SAML?<a href="https://phasetwo.io/blog/introduction-to-simple-saml/#what-even-is-saml" class="hash-link" aria-label="Direct link to What even is SAML?" title="Direct link to What even is SAML?" translate="no">​</a></h3>
<p>SAML — short for Security Assertion Markup Language — is a standardized XML-based protocol used to exchange authentication and authorization data between parties, most commonly between an Identity Provider (IdP) and a Service Provider (SP).</p>
<p>The core idea? Let users log in once (with the IdP) and then access multiple systems (the SPs) without re-authenticating. That's Single Sign-On (SSO), and it's where SAML shines.</p>
<p>To make this concrete, imagine you're using Google Workspace to access your company's internal tools. You open up a tool like Jira (that's the Service Provider — it provides the service you want to use). But instead of logging in directly, you're redirected to Google to sign in — that's your Identity Provider. Google verifies who you are, then sends a message back to Jira saying, “Yes, this is the correct user, and here's some information about them.” The service (Jira) trusts that identity because it already trusts Google. In simple terms: the IdP is who you log in with, the SP is what you're trying to access.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="keycloak-and-saml">Keycloak and SAML<a href="https://phasetwo.io/blog/introduction-to-simple-saml/#keycloak-and-saml" class="hash-link" aria-label="Direct link to Keycloak and SAML" title="Direct link to Keycloak and SAML" translate="no">​</a></h3>
<p>Keycloak supports both sides of the SAML flow. It can act as:</p>
<ul>
<li class="">A <strong>SAML Identity Provider</strong>, enabling users to authenticate in Keycloak and then access SAML-based applications.</li>
<li class="">A <strong>SAML Service Provider</strong>, allowing external IdPs (like Okta, Azure AD, or even legacy ADFS systems) to federate users into Keycloak-managed apps.</li>
</ul>
<p>That flexibility is one of Keycloak's greatest strengths — and also where things can get a bit complex.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="the-saml-triad-user-sp-idp">The SAML Triad: User, SP, IdP<a href="https://phasetwo.io/blog/introduction-to-simple-saml/#the-saml-triad-user-sp-idp" class="hash-link" aria-label="Direct link to The SAML Triad: User, SP, IdP" title="Direct link to The SAML Triad: User, SP, IdP" translate="no">​</a></h3>
<p>Let's simplify things. In a typical Keycloak-based SAML setup, you're dealing with three entities:</p>
<ol>
<li class="">The <strong>User</strong>: someone trying to log in.</li>
<li class="">The <strong>Service Provider (SP)</strong>: your application.</li>
<li class="">The <strong>Identity Provider (IdP)</strong>: Keycloak or another IdP.</li>
</ol>
<p>When Keycloak is the IdP, it authenticates the user and issues a SAML response back to the SP. When Keycloak is the SP, it receives the SAML response and handles session creation internally.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="what-does-a-saml-flow-look-like-in-keycloak">What does a SAML flow look like in Keycloak?<a href="https://phasetwo.io/blog/introduction-to-simple-saml/#what-does-a-saml-flow-look-like-in-keycloak" class="hash-link" aria-label="Direct link to What does a SAML flow look like in Keycloak?" title="Direct link to What does a SAML flow look like in Keycloak?" translate="no">​</a></h3>
<p>Let's say Keycloak is acting as the <strong>SAML Service Provider</strong>. Here's the basic flow:</p>
<ol>
<li class="">A user tries to access your app.</li>
<li class="">The app redirects the user to Keycloak (the SP).</li>
<li class="">Keycloak identifies that the user should log in via SAML (based on their realm or identity provider configuration).</li>
<li class="">Keycloak sends a SAML AuthnRequest to the external IdP (e.g., Okta).</li>
<li class="">The IdP authenticates the user and sends a signed SAML Response back to Keycloak.</li>
<li class="">Keycloak parses the assertion, validates the signature, and creates a user session.</li>
</ol>
<p>From there, the user gets access to the protected application—without having logged in directly with your app or even with Keycloak.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="saml-messages-what-youre-actually-passing-around">SAML messages: what you're actually passing around<a href="https://phasetwo.io/blog/introduction-to-simple-saml/#saml-messages-what-youre-actually-passing-around" class="hash-link" aria-label="Direct link to SAML messages: what you're actually passing around" title="Direct link to SAML messages: what you're actually passing around" translate="no">​</a></h3>
<p>In SAML, two XML messages do most of the heavy lifting:</p>
<ul>
<li class=""><strong>AuthnRequest</strong> (from SP → IdP): "Hey, can you authenticate this user for me?"</li>
<li class=""><strong>Response</strong> (from IdP → SP): "Yes, here's proof that I authenticated them."</li>
</ul>
<p>The Response contains one or more Assertions, which are signed blobs of XML confirming that the user is who they say they are. It might look like gibberish to humans, but to systems like Keycloak, it's gold.</p>
<p>And yes, validating those signatures is as fussy as it sounds. But Keycloak handles most of that for you — so long as your trust relationships are properly configured.</p>
<h4 class="anchor anchorTargetStickyNavbar_ukyt" id="the-saml-request">The SAML Request<a href="https://phasetwo.io/blog/introduction-to-simple-saml/#the-saml-request" class="hash-link" aria-label="Direct link to The SAML Request" title="Direct link to The SAML Request" translate="no">​</a></h4>
<p>Before a user is authenticated, Keycloak (acting as the Service Provider) initiates the SAML flow by sending a SAML AuthnRequest to the configured Identity Provider. This request is typically passed via a browser redirect and contains metadata about who's asking for authentication and when.</p>
<p>Let's look at an example SAML Request</p>
<div class="language-xml codeBlockContainer_Y_6F theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_vaQw"><pre tabindex="0" class="prism-code language-xml codeBlock_lLLt thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_svEc"><span class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">AuthnRequest</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">xmlns</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">urn:oasis:names:tc:SAML:2.0:protocol</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">ID</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">saml_req_42kpl9zyx0qndmlwv5a6t93ne</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">Version</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">2.0</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">IssueInstant</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">2025-04-04T15:00:00Z</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">Issuer</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">xmlns</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">urn:oasis:names:tc:SAML:2.0:assertion</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        https://auth.phasetwo.io/auth/realms/my-tenant/broker/saml-client/endpoint</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">Issuer</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">AuthnRequest</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><br></span></code></pre></div></div>
<p>The Issuer tells the IdP who is requesting authentication. The ID is used to match the incoming response back to this request.</p>
<h4 class="anchor anchorTargetStickyNavbar_ukyt" id="the-saml-response">The SAML Response<a href="https://phasetwo.io/blog/introduction-to-simple-saml/#the-saml-response" class="hash-link" aria-label="Direct link to The SAML Response" title="Direct link to The SAML Response" translate="no">​</a></h4>
<p>When your Keycloak instance is acting as a SAML Service Provider, it will receive a SAML Response from the Identity Provider (IdP) after a user successfully authenticates. This response contains critical information like who the user is, how they authenticated, and whether the response is trusted.</p>
<p>Let's look at an example SAML Response and break down the pieces:</p>
<div class="language-xml codeBlockContainer_Y_6F theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_vaQw"><pre tabindex="0" class="prism-code language-xml codeBlock_lLLt thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_svEc"><span class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">Response</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">IssueInstant</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">2025-04-04T12:00:00Z</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">Version</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">2.0</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">ID</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">_abc12345-6789-4def-90ab-abcdef123456</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">xmlns</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">urn:oasis:names:tc:SAML:2.0:protocol</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name namespace" style="color:rgb(178, 204, 214)">xmlns:</span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">saml</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">urn:oasis:names:tc:SAML:2.0:assertion</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">saml:</span><span class="token tag" style="color:rgb(255, 85, 114)">Issuer</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">https://idp.example.org</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">saml:</span><span class="token tag" style="color:rgb(255, 85, 114)">Issuer</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">Signature</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name namespace" style="color:rgb(178, 204, 214)">xmlns:</span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">ds</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">http://www.w3.org/2000/09/xmldsig#</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">SignedInfo</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">CanonicalizationMethod</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">Algorithm</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">http://www.w3.org/2001/10/xml-exc-c14n#</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">SignatureMethod</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">Algorithm</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">http://www.w3.org/2000/09/xmldsig#rsa-sha256</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">Reference</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">URI</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">#_abc12345-6789-4def-90ab-abcdef123456</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">Transforms</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">Transform</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">Algorithm</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">http://www.w3.org/2000/09/xmldsig#enveloped-signature</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">Transform</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">Algorithm</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">http://www.w3.org/2001/10/xml-exc-c14n#</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">InclusiveNamespaces</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">PrefixList</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">saml ds xs xsi</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">xmlns</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">http://www.w3.org/2001/10/xml-exc-c14n#</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">Transform</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">Transforms</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">DigestMethod</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">Algorithm</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">http://www.w3.org/2000/09/xmldsig#sha256</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">DigestValue</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">XYZ123abc4567890=</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">DigestValue</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">Reference</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">SignedInfo</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">SignatureValue</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            MIIEogIBAAKCAQEA2vGfZPjld7vFq3sGpKUqLbHu0XzX7r8VcU38D1bAgm...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">SignatureValue</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">KeyInfo</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">X509Data</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">X509Certificate</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    MIIC+zCCAeOgAwIBAgIJAKN+FfK01MywMA0GCSqGSIb3DQEBCwUAMBoxGDAW</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    BgNVBAMTD2lkcC5leGFtcGxlLm9yZzAeFw0yNTA0MDEwMDAwMDBaFw0yNjA0MDEw</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    MDAwMDBaMBoxGDAWBgNVBAMTD2lkcC5leGFtcGxlLm9yZzCBnzANBgkqhkiG9w0B</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    AQEFAAOBjQAwgYkCgYEAzRPl2OslkTfI4E4zVFYoxwHavwJ3uPDbGb8y03wvNVYl</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    cCy+YBk6yXfiOlNwYQwcz92XJgYBj6+9oA+2bkfy3hDR9QO5Prcb2XtU6cKkB3vC</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    Z2IUXgsyF7ibOa9hRLo3A7N8Y3RhPG64Q9OcEv0bPPOb/NcAV+UBrQ9rEwUCAwEA</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    AaNQME4wHQYDVR0OBBYEFH8GhkeIDx4MKZFOZkYI2gfnSkQOMB8GA1UdIwQYMBaA</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    FH8GhkeIDx4MKZFOZkYI2gfnSkQOMAwGA1UdEwQFMAMBAf8wDQYJKoZIhvcNAQEL</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    BQADgYEAFM6CvlquE7ZzpFLiJbR4TG0OCpgG4S2kgNR4+a6+6Zsd+wNoUNdPVFcU</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    Y4xLf3pJStIjMNxtQPC8j6WxZ9Hk8M+jfqU1mKPgM4zk9C2FJ9GVz9NNVrphTAjO</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    O6eFcX7zBhf8U4WshjWfHg==</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">X509Certificate</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">X509Data</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">KeyInfo</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag namespace" style="color:rgb(178, 204, 214)">ds:</span><span class="token tag" style="color:rgb(255, 85, 114)">Signature</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">Status</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">StatusCode</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">Value</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">urn:oasis:names:tc:SAML:2.0:status:Success</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">Status</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">Assertion</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">ID</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">_def45678-90ab-4abc-a1b2-cdef56789012</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">IssueInstant</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">2025-04-04T12:00:00Z</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">Version</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">2.0</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">xmlns</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">urn:oasis:names:tc:SAML:2.0:assertion</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">Issuer</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">https://idp.example.org</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">Issuer</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">Subject</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">NameID</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">Format</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                hello@phasetwo.io</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">NameID</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">SubjectConfirmation</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">Method</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">urn:oasis:names:tc:SAML:2.0:cm:bearer</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">Subject</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">Conditions</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">NotBefore</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">2025-04-04T12:00:00Z</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">NotOnOrAfter</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">2025-04-04T12:05:00Z</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">AudienceRestriction</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">Audience</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">https://sp.myapp.com</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">Audience</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">AudienceRestriction</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">Conditions</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">AuthnStatement</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">AuthnInstant</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">2025-04-04T11:59:59Z</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">"</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">AuthnContext</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">AuthnContextClassRef</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">AuthnContextClassRef</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">AuthnContext</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">AuthnStatement</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">Assertion</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">Response</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><br></span></code></pre></div></div>
<ul>
<li class="">The <code>&lt;Assertion&gt;</code> is where claims about the user are made—like their email or login timestamp.</li>
<li class="">The <code>&lt;Signature&gt;</code> helps ensure this data hasn't been tampered with.</li>
<li class="">The <code>&lt;Audience&gt;</code> defines who this message is meant for—your SP.</li>
</ul>
<p>Keycloak does the heavy lifting of verifying signatures, extracting claims, and creating a session. But understanding the anatomy of a SAML Response helps when troubleshooting or configuring trust relationships.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="trust-is-everything">Trust is everything<a href="https://phasetwo.io/blog/introduction-to-simple-saml/#trust-is-everything" class="hash-link" aria-label="Direct link to Trust is everything" title="Direct link to Trust is everything" translate="no">​</a></h3>
<p>For SAML to work securely, the SP and IdP must have a pre-configured trust relationship. That means each side has the other's metadata (usually containing certificates, endpoints, and supported bindings) and knows how to verify signatures.</p>
<p>In Keycloak, setting up a SAML identity provider (or service provider) involves uploading or referencing that metadata and tweaking a few settings. Once configured, Keycloak will:</p>
<ul>
<li class="">Automatically validate incoming assertions</li>
<li class="">Map attributes from the assertion into user claims</li>
<li class="">Create or update user accounts based on SAML attributes</li>
<li class="">Apply realm-wide policies like required roles or groups</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="butwhy-use-saml-in-2025">But...why use SAML in 2025?<a href="https://phasetwo.io/blog/introduction-to-simple-saml/#butwhy-use-saml-in-2025" class="hash-link" aria-label="Direct link to But...why use SAML in 2025?" title="Direct link to But...why use SAML in 2025?" translate="no">​</a></h3>
<p>SAML isn't new, sleek, or trendy. But it's everywhere in large enterprises, government systems, and educational institutions. If you want to work with those organizations—or provide identity federation across organizational boundaries—you'll need to speak SAML.</p>
<p>Even if your app is all-in on OIDC, SAML bridges can help you bring legacy systems into a modern identity framework. That's where Keycloak really shines: it lets you federate multiple identity providers (SAML, OIDC, LDAP, etc.) into a consistent, centralized user management plane.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="why-let-keycloak-handle-saml">Why let keycloak handle SAML?<a href="https://phasetwo.io/blog/introduction-to-simple-saml/#why-let-keycloak-handle-saml" class="hash-link" aria-label="Direct link to Why let keycloak handle SAML?" title="Direct link to Why let keycloak handle SAML?" translate="no">​</a></h3>
<p>Here's the kicker: you don't want to write your own SAML implementation. Parsing, validating, and verifying SAML messages is error-prone and fraught with subtle security pitfalls. With Keycloak (and managed services like <a class="" href="https://phasetwo.io/hosting/">Phase Two</a>), you don't have to.</p>
<p>Keycloak abstracts away the complexity. And at Phase Two, we abstract away the operational burden of <a class="" href="https://phasetwo.io/hosting/">hosting</a> and <a class="" href="https://phasetwo.io/product/identity/">securing</a> Keycloak itself. We provide:</p>
<ul>
<li class="">Production-grade Keycloak hosting</li>
<li class="">Built-in SAML and OIDC support</li>
<li class="">Multi-tenant federation capabilities</li>
<li class="">Automated updates and backups</li>
<li class="">Support from experts who live and breathe auth</li>
</ul>
<p>TL;DR</p>
<ul>
<li class="">SAML is a complex but powerful standard for SSO.</li>
<li class="">Keycloak provides full support for SAML, both as an IdP and SP.</li>
<li class="">Use SAML when you need to integrate with enterprise IdPs or legacy systems.</li>
<li class="">Don't roll your own — let Keycloak (and Phase Two) handle it.</li>
</ul>
<p>Need help configuring SAML in Keycloak? Schedule a consultation today or get in touch at <a href="mailto:sales@phasetwo.io" target="_blank" rel="noopener noreferrer" class="">sales@phasetwo.io</a></p>]]></content:encoded>
            <author>support@phasetwo.io (Phase Two)</author>
            <category>phase_two</category>
            <category>open_source</category>
            <category>saml</category>
            <category>authentication</category>
        </item>
        <item>
            <title><![CDATA[Keycloak SAML Identity Provider (IdP) Initiated Flow with Okta]]></title>
            <link>https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/</link>
            <guid>https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/</guid>
            <pubDate>Tue, 25 Feb 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[IdP Initiated Flow]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="idp-initiated-flow">IdP Initiated Flow<a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#idp-initiated-flow" class="hash-link" aria-label="Direct link to IdP Initiated Flow" title="Direct link to IdP Initiated Flow" translate="no">​</a></h2>
<p>When implementing <a class="" href="https://phasetwo.io/blog/introduction-to-simple-saml/">SAML</a> for the establishment of an Identity Provider, two primary options are available:</p>
<ol>
<li class=""><a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#service-provider-initated-flow" class="">Service Provider</a> (SP) initiated</li>
<li class=""><a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#identity-provider-initated-flow" class="">Identity Provider</a> (IdP) initiated</li>
</ol>
<p>The SP initiated flow is widely recognized by users due to its straightforward configuration, which is merely the exchange of some metadata. In contrast, the IdP-initiated flow is less intuitive and involves an additional step that may not be readily apparent to many users. The purpose of this blog is to elucidate the steps necessary to successfully execute the IdP-initiated flow. We will setup a full <a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#idp-initiated-example-setup" class="">example</a></p>
<p>A fundamental understanding of <a href="https://en.wikipedia.org/wiki/SAML_2.0" target="_blank" rel="noopener noreferrer" class="">SAML 2.0</a> and <a href="https://www.keycloak.org/" target="_blank" rel="noopener noreferrer" class="">Keycloak</a> is required to effectively follow the provided instructions.</p>
<div class="theme-admonition theme-admonition-info admonition_q1yr alert alert--info"><div class="admonitionHeading_XcfJ"><span class="admonitionIcon_zGmV"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_gGeU"><p>If you just want to skip to the code, visit the Phase Two <a href="https://github.com/p2-inc/examples/tree/main/saml2/idp-initiated" target="_blank" rel="noopener noreferrer" class="">IdP-initiated example</a>.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="how-each-flow-works">How Each Flow Works<a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#how-each-flow-works" class="hash-link" aria-label="Direct link to How Each Flow Works" title="Direct link to How Each Flow Works" translate="no">​</a></h2>
<p>The steps for each are similar, but also differen in important ways.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="service-provider-initiated-flow">Service Provider Initiated Flow<a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#service-provider-initiated-flow" class="hash-link" aria-label="Direct link to Service Provider Initiated Flow" title="Direct link to Service Provider Initiated Flow" translate="no">​</a></h3>
<p>From the user's perspective, the SP initiated flow is the most common. The user visits the SP and is redirected to the IdP for authentication. After successful authentication, the IdP sends a SAML assertion back to the SP, which then logs the user in. This looks and feels like, I go to the website, I click Log In button, and the SP sends the browser to the IdP for authentication. The IdP then sends a SAML assertion back to the SP, which logs the user in.</p>
<p>In most cases, this is a more secure method as the request originates with the SP. The IdP is not aware of the SP until the user clicks the login button. This is a more secure method as it prevents replay attacks and other security issues.</p>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="identity-provider-initiated-flow">Identity Provider Initiated Flow<a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#identity-provider-initiated-flow" class="hash-link" aria-label="Direct link to Identity Provider Initiated Flow" title="Direct link to Identity Provider Initiated Flow" translate="no">​</a></h3>
<p>In this case, the thing to know is that the user is already authenticated in the IdP, and the IdP will send a SAML assertion to the SP. The SP will then use this assertion to log the user in.</p>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="components">Components<a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#components" class="hash-link" aria-label="Direct link to Components" title="Direct link to Components" translate="no">​</a></h3>
<p>The components involved in this example will be as follows:</p>
<p><strong>Identity Provider:</strong>
Any identity provider (IdP) that supports SAML 2.0 may be selected. The process begins by accessing the Identity Provider dashboard, where the user is prompted to authenticate. Upon successful authentication, the user may then request a service. For this case, we'll use <a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#idp-initiated-example-setup" class="">Okta</a> as the IdP.</p>
<p><strong>Keycloak SAML 2.0 Identity Provider:</strong>
The Keycloak Identity Provider will be used for identity brokering and will process the SAML Response received from the Identity Provider. It is responsible for operations such as provisioning, signature verification, decryption etc.</p>
<p><strong>Keycloak Realm Client:</strong>
The Keycloak SAML client function is to maintain the authenticated user session within Keycloak. Another function of this generic client is to forward the authenticated user to the Service Provider.</p>
<p><strong>Service Provider:</strong>
The Service Provider refers to the application that the user seeks to access. Once the user has been authenticated in Keycloak, a new SAML Response is generated by the realm client and subsequently consumed by the Service Provider.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="setting-up-a-keycloak-instance">Setting up a Keycloak Instance<a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#setting-up-a-keycloak-instance" class="hash-link" aria-label="Direct link to Setting up a Keycloak Instance" title="Direct link to Setting up a Keycloak Instance" translate="no">​</a></h2>
<p>The quickest way to get a fully-functional deployment of Keycloak is using Phase Two's <a href="https://dash.phasetwo.io/" target="_blank" rel="noopener noreferrer">free tier</a>.</p>
<details class="details_k7w6 alert alert--info details_TPZP" data-collapsed="true"><summary>Instructions</summary><div><div class="collapsibleContent_bB0s"><div class="theme-admonition theme-admonition-tip admonition_q1yr alert alert--success"><div class="admonitionHeading_XcfJ"><span class="admonitionIcon_zGmV"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_gGeU"><p>If you already have a functioning Keycloak instance, you can skip to the next section.</p></div></div>
<p>Rather than trying to set up a "from scratch" instance of Keycloak, we're going to short-circuit that process by leveraging a free <a href="https://phasetwo.io/" target="_blank" rel="noopener noreferrer" class="">Phase Two Starter</a> instance. The Starter provides a free hosted instance of Phase Two's enhanced Keycloak ready for light production use cases.</p>
<ul>
<li class="">
<p>Visit the sign-up <a href="https://dash.phasetwo.io/" target="_blank" rel="noopener noreferrer" class="">page</a>.</p>
</li>
<li class="">
<p>Enter an email, use a Github account, or use an existing Google account to register.</p>
<p><img decoding="async" loading="lazy" alt="Phase Two Register" src="https://phasetwo.io/assets/images/register-c45850867ce85096a398bb0dfab9df4d.png" width="3000" height="1763" class="img_S0mN"></p>
</li>
<li class="">
<p>Follow the register steps. This will include a sign-in link being sent to your email. Use that for password-less login.</p>
<p><img decoding="async" loading="lazy" alt="Phase Two Email Magic Link Register" src="https://phasetwo.io/assets/images/email_link-cefd0e50772e855bbaa5de46bda7f504.png" width="3000" height="857" class="img_S0mN"></p>
</li>
<li class="">
<p>After creating an account, a <a href="https://www.youtube.com/watch?v=ZTFlc-3pG1M" target="_blank" rel="noopener noreferrer" class="">realm</a> is automatically created for you with all of the Phase Two enhancements. You need to create a Deployment in the Shared Phase Two infrastructure in order to gain access to the realm. Without a deployment created, the Create Shared Deployment modal will automatically pop up.</p>
</li>
<li class="">
<p>Create a Shared Deployment by providing a region (pick something close to your existing infrastructure), a name for the deployment, and selecting the default organization that was created for you upon account creation. Hit "Confirm" when ready. Standby while our robots get to work generating your deployment. This can take a few seconds.</p>
<p><img decoding="async" loading="lazy" alt="Phase Two Create Shared Deployment" src="https://phasetwo.io/assets/images/create_shared_deployment-a4fc0584f6318f037cf191e06c9703b8.png" width="3000" height="1541" class="img_S0mN"></p>
</li>
<li class="">
<p>After the deployment is created and active, you can access the Keycloak Admin console by clicking "Open Console" for that deployment. Open it now to see the console.</p>
<p><img decoding="async" loading="lazy" alt="Phase Two Open Console Keycloak Admin UI" src="https://phasetwo.io/assets/images/deployments-e5cb24a81b832bb19e3adf754c133bf1.png" width="3000" height="1311" class="img_S0mN"></p>
</li>
</ul>
<p>At this point, move on to the next step in the tutorial. We'll be coming back to the Admin Console when its time to start connecting our App to the Keycloak instance.</p></div></div></details>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="idp-initiated-example-setup">IdP Initiated Example Setup<a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#idp-initiated-example-setup" class="hash-link" aria-label="Direct link to IdP Initiated Example Setup" title="Direct link to IdP Initiated Example Setup" translate="no">​</a></h2>
<p>To communicate this concept, this example will utilize</p>
<ul>
<li class="">Okta as the Identity Provider (IdP)</li>
<li class="">Keycloak as the Identity Provider (IdP) broker</li>
<li class="">Keycloak as the SAML client</li>
<li class="">A simple Spring Boot application as the Service Provider (SP)</li>
</ul>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="okta">Okta:<a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#okta" class="hash-link" aria-label="Direct link to Okta:" title="Direct link to Okta:" translate="no">​</a></h3>
<p>Login in your Okta tenant and configure a new application.</p>
<p><img decoding="async" loading="lazy" alt="Okta Application Start" src="https://phasetwo.io/assets/images/okta-application-start-dcb3c461ebb5edaa2420e055bb29b920.png" width="1393" height="748" class="img_S0mN"></p>
<p>You will need to specify two things:</p>
<p><code>Single sign-on URL</code>: <a href="http://localhost:8080/realms/test-realm/broker/okta-broker/endpoint/clients/okta-client" target="_blank" rel="noopener noreferrer" class="">http://localhost:8080/realms/test-realm/broker/okta-broker/endpoint/clients/okta-client</a> <br>
<code>Audience URI</code>: <a href="http://localhost:8080/realms/test-realm" target="_blank" rel="noopener noreferrer" class="">http://localhost:8080/realms/test-realm</a></p>
<p><img decoding="async" loading="lazy" alt="Okta Application Setup" src="https://phasetwo.io/assets/images/okta-application-setup-8e11380d39e1e6c9a325035ef9ef4388.png" width="1393" height="748" class="img_S0mN"></p>
<p>The identity provider <code>redirect url</code> differs from what we typically observe in Identity Provider from the Keycloak console. Based on the documentation for <a href="https://www.keycloak.org/docs/latest/server_admin/#idp-initiated-login" target="_blank" rel="noopener noreferrer" class="">IdP Initiated Login</a>, the path <code>{brokerRedirectUrl}/clients/okta-client</code> indicates the <code>client-id</code> that is intended to maintain the service-provider application session. This will make more sense in the following steps.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="saml-20-identity-provider">SAML 2.0 Identity Provider<a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#saml-20-identity-provider" class="hash-link" aria-label="Direct link to SAML 2.0 Identity Provider" title="Direct link to SAML 2.0 Identity Provider" translate="no">​</a></h3>
<p>The SAML identity provider (e.g: <code>okta-broker</code>) from the example above can be created by importing the <code>metadata.xml</code> from the application you just created in Okta. For this example we will provide the alias: <code>okta-broker</code>.</p>
<p>To do this navigate to Identity providers &gt; SAML v2.0. On this page, add the alias of your app (in our case it is <code>okta-broker</code>). Untoggle the "Use entity descriptor" option and select the <code>metadata.xml</code> file you downloaded from Okta. This will validate and auto-populate the correct areas.</p>
<p><img decoding="async" loading="lazy" alt="Identity Provider Setup" src="https://phasetwo.io/assets/images/identity-provider-setup-a5ecb5aad696ad5838454c6f1f47ad4e.png" width="1177" height="537" class="img_S0mN"></p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="service-provider-application">Service Provider Application<a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#service-provider-application" class="hash-link" aria-label="Direct link to Service Provider Application" title="Direct link to Service Provider Application" translate="no">​</a></h2>
<p>We created a simple SpringBoot app which has a <code>ACS</code> endpoint: <code>/login/saml2/sso</code> and a <code>entityId</code>: <code>/saml2/metadata</code> . Find the code for the <a href="https://github.com/p2-inc/examples/tree/main/saml2/idp-initiated" target="_blank" rel="noopener noreferrer" class="">example application</a>. Download and have this running on your local machine.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="keycloak-realm-client">Keycloak Realm Client<a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#keycloak-realm-client" class="hash-link" aria-label="Direct link to Keycloak Realm Client" title="Direct link to Keycloak Realm Client" translate="no">​</a></h3>
<p>We need to create new SAML 2.0 Client in <code>test-realm</code>. This varies from the Identity Provider we just created. This can be done by importing the metadata from the Service Provider application. To get to the right place, go to Clients &gt; Import Client and upload the resource file. To check if the data was successfully imported, check the Assertion Consumer Service POST Binding URL, it should contain the endpoint mentioned above.</p>
<p><img decoding="async" loading="lazy" alt="Generic client advance" src="https://phasetwo.io/assets/images/generic-client-advance-651923735124e7fd4758640adcb5f0a2.png" width="1932" height="1418" class="img_S0mN"></p>
<p>Now we need to return to the documentation: <a href="https://www.keycloak.org/docs/latest/server_admin/#idp-initiated-login" target="_blank" rel="noopener noreferrer" class="">IdP Initiated Login</a>. In order to configure the IdP-initiated flow, a special field needs to be specified <code>IdP-Initiated SSO URL</code>.</p>
<ul>
<li class=""><code>IdP-Initiated SSO URL</code> value of <code>okta-client</code></li>
</ul>
<p><img decoding="async" loading="lazy" alt="Generic client" src="https://phasetwo.io/assets/images/generic-client-2ad559061d08260b7a054a6e199052a6.png" width="1127" height="699" class="img_S0mN"></p>
<p>The field is part of the <code>{brokerRedirectUrl}/clients/okta-client</code> url. As we can see the value is different from that of the <code>clientId</code> of the client we just created.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="testing">Testing<a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#testing" class="hash-link" aria-label="Direct link to Testing" title="Direct link to Testing" translate="no">​</a></h2>
<p>To test this, please visit the Okta end user dashboard and select the application we created in the first step. This is the "tile" setup people are used to accessing an application.</p>
<p><img decoding="async" loading="lazy" alt="Okta flow start" src="https://phasetwo.io/assets/images/okta-init-flow-f5a0e0251ac836ef7c6b2272f5afc8eb.png" width="1393" height="748" class="img_S0mN"></p>
<p>For debugging purposes, you might consider using the <a href="https://support.okta.com/help/s/article/How-to-troubleshoot-with-SAML-Tracer?language=en_US" target="_blank" rel="noopener noreferrer" class="">SAML Tracer</a> browser extension. If you take a moment to check the requests from the flow, you'll notice that it contains only SAMLResponse messages. This is a specific characteristic of the IdP-initiated flow.</p>
<p><img decoding="async" loading="lazy" alt="Okta SAML response" src="https://phasetwo.io/assets/images/okta-saml-response-74014ed4eb76ebc505dabf05910346f0.png" width="818" height="644" class="img_S0mN"> <img decoding="async" loading="lazy" alt="Client SAML response" src="https://phasetwo.io/assets/images/client-saml-response-15d59339a84784e6a104af3c90e797f2.png" width="803" height="644" class="img_S0mN"></p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="what-just-happened">What Just Happened?<a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#what-just-happened" class="hash-link" aria-label="Direct link to What Just Happened?" title="Direct link to What Just Happened?" translate="no">​</a></h2>
<p>We have successfully secured a web application using the SAML protocol and IdP-initiated flow with Okta. Great work!</p>
<p>It is important to consider that the IdP-initiated flow does present certain security concerns, such as the potential for replay attacks, spoofing, or data tampering. To ensure we uphold security, it is essential that we take all necessary precautions, including implementing assertion encryption to protect sensitive data, utilizing signing to mitigate the risk of data tampering, and proper configuration for issuer validation.</p>
<p>However, it is worth noting that there is still a risk that a SAML assertion could be compromised, allowing an attacker to gain access to the service provider as the affected user. While the service provider can recognize and validate the assertion because it was issued by the expected issuer and signed with the correct key, it cannot confirm whether a malicious party was involved in sending it. Given these concerns about the IdP-initiated flow and its vulnerability to certain security threats, there may be circumstances in which we find it necessary to implement it based on our specific context.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="idp-initiated-flow-redirects-to-a-oidc-application">IdP-Initiated Flow Redirects to a OIDC Application<a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#idp-initiated-flow-redirects-to-a-oidc-application" class="hash-link" aria-label="Direct link to IdP-Initiated Flow Redirects to a OIDC Application" title="Direct link to IdP-Initiated Flow Redirects to a OIDC Application" translate="no">​</a></h2>
<p>In the example above we configured the IdP-initiated flow to act as a identity broker and redirect to a client application which consumes SAML. Another interesting use case involves redirecting a user authenticated in the Keycloak realm to an <strong>OIDC client application</strong>.</p>
<p>Although this setup may not function seamlessly out of the box, an illustrative example can be found here: <a href="https://www.lumilinks.com/blog/idp-initiated-login-with-keycloak" target="_blank" rel="noopener noreferrer" class="">IdP Initiated Login with Keycloak</a>.</p>
<p>We will also attempt to create a local setup for this use case. To do this we will follow the exact same steps from the <a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#idp-initiated-example-setup" class="">section</a> above, until we reach the step <a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#service-provider-application" class="">Service Provider Application</a>. From there we will deviate.</p>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="service-provider-application-1">Service Provider Application<a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#service-provider-application-1" class="hash-link" aria-label="Direct link to Service Provider Application" title="Direct link to Service Provider Application" translate="no">​</a></h3>
<p>In this case the service provider application will 'talk' OIDC. As a simple example we can use the realm <code>security-admin-console</code> as the final client since it uses OIDC. A important thing to keep in mind is that for the client we will need to set a <code>Home URL</code>. In our case is the realm provisioned <code>http://localhost:8080/admin/test-realm/console/</code>.</p>
<p><img decoding="async" loading="lazy" alt="Security-admin-console-client" src="https://phasetwo.io/assets/images/security-admin-console-client-42b280c20b25d84b8f34b222dbc3440c.png" width="2803" height="1450" class="img_S0mN"></p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="keycloak-realm-client-1">Keycloak Realm Client<a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#keycloak-realm-client-1" class="hash-link" aria-label="Direct link to Keycloak Realm Client" title="Direct link to Keycloak Realm Client" translate="no">​</a></h3>
<p>We need to create new SAML 2.0 client in <code>test-realm</code>. Same as the configuration above we will set IdP-Initiated SSO URL name: <code>okta-client</code></p>
<p><img decoding="async" loading="lazy" alt="Generic client" src="https://phasetwo.io/assets/images/generic-client-2ad559061d08260b7a054a6e199052a6.png" width="1127" height="699" class="img_S0mN"></p>
<p>Now comes the interesting part. Since the SAML client we created will initialize the user session in Keycloak, we will need a mechanism to attach this session to an OIDC client. We can accomplish this with a simple redirect to the OIDC application. For that, we may consider using the <code>SAML Redirect Binding</code>, which uses a <code>GET</code> request instead of a <code>POST</code> to forward the SAML assertion.</p>
<p>We can associate our client application <code>Home URL</code> with this configuration.</p>
<p><img decoding="async" loading="lazy" alt="Client redirect binding" src="https://phasetwo.io/assets/images/saml-client-redirect-binding-07c2fb3b92b7ea7b73edf70fc1995b35.png" width="2426" height="1282" class="img_S0mN"></p>
<p>Do not forget to turn of the <code>Force POST binding</code> toggle in the SAML client general settings.</p>
<p>After doing all these configs we can proceed with the <a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#testing" class="">Testing</a> phase. What we are going to observe is that Keycloak created a twin session in the <code>security-admin-console</code> client for our user.</p>
<p><img decoding="async" loading="lazy" alt="Twin session oidc client" src="https://phasetwo.io/assets/images/twin-session-oidc-client-fe31844e76570edec870b74c757fe3d4.png" width="2348" height="586" class="img_S0mN"></p>
<p>Behind this configuration stands one magic piece which ensure the flow is going to work, the 'Cookie' authenticator. It ensures that the session for any <code>client</code> we request is first looked up in the Keycloak cookie. If the Authenticator is turned of the flow will no longer work. Our advice is to not rely on this configuration if your application will not allow Keycloak cookies.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="conclusion">Conclusion<a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" translate="no">​</a></h2>
<p>In this post, we explored the setup of an IdP-initiated flow with support for both <a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#idp-initiated-example-setup" class="">SAML</a> and <a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#idp-initiated-flow-redirects-to-a-oidc-application" class="">OIDC</a> applications. We also discussed some of the challenges associated with using the IdP-initiated flow and ways to address them.</p>
<p>We hope this has shed some light on the intricate world of Keycloak configuration and assisted you in finding a solution to your problems.</p>
<p>If you have any questions or would like to discuss this further, please feel free to reach out to us at <a href="mailto:sales@phasetwo.io" target="_blank" rel="noopener noreferrer" class="">sales@phasetwo.io</a>. We are always happy to help and share our knowledge with the community.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="references">References<a href="https://phasetwo.io/blog/keycloak-saml-identity-provider-idp-initiated-flow-with-okta/#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References" translate="no">​</a></h2>
<ul>
<li class=""><a href="https://www.lisenet.com/2020/keycloak-with-okta-idp-initiated-sso-login/" target="_blank" rel="noopener noreferrer" class="">Keycloak with Okta IdP Initiated Login</a></li>
<li class=""><a href="https://www.lumilinks.com/blog/idp-initiated-login-with-keycloak" target="_blank" rel="noopener noreferrer" class="">IdP Initiated Login with Keycloak</a></li>
<li class=""><a href="https://www.keycloak.org/docs/latest/server_admin/#idp-initiated-login" target="_blank" rel="noopener noreferrer" class="">Server Administration Guide</a></li>
<li class=""><a href="https://groups.google.com/g/keycloak-user/c/s_sVxPGLhCs?pli=1" target="_blank" rel="noopener noreferrer" class="">IdP Initiated Login</a></li>
</ul>]]></content:encoded>
            <author>support@phasetwo.io (Phase Two)</author>
            <category>phase_two</category>
            <category>open_source</category>
            <category>okta</category>
            <category>authentication</category>
            <category>authorization</category>
            <category>keycloak</category>
            <category>sso</category>
            <category>idp-initiated</category>
            <category>guide</category>
        </item>
        <item>
            <title><![CDATA[Managed Keycloak Hosting - Picking a Provider]]></title>
            <link>https://phasetwo.io/blog/managed-keycloak-hosting/</link>
            <guid>https://phasetwo.io/blog/managed-keycloak-hosting/</guid>
            <pubDate>Mon, 09 Dec 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[Picking a provider for Managed Keycloak Hosting should be about more that price, it should be about picking a partner to help you and your app succeed.]]></description>
            <content:encoded><![CDATA[<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="why-consider-phase-two-for-your-managed-keycloak-provider">Why consider Phase Two for your Managed Keycloak Provider<a href="https://phasetwo.io/blog/managed-keycloak-hosting/#why-consider-phase-two-for-your-managed-keycloak-provider" class="hash-link" aria-label="Direct link to Why consider Phase Two for your Managed Keycloak Provider" title="Direct link to Why consider Phase Two for your Managed Keycloak Provider" translate="no">​</a></h3>
<p>When it comes to identity and access management, Keycloak has established itself as the go-to open-source solution for authentication, authorization, and user management. However, successfully integrating and maintaining Keycloak requires more than just hosting—it requires expertise. That’s where the difference between Phase Two and other hosting providers becomes clear.</p>
<p>In this post, we’ll explore why Phase Two should be in strong consideration for your Managed Keycloak provider, especially when compared to providers like CloudIAM, Elest.io, and Servana, who focus solely on hosting the standard build of Keycloak.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="the-managed-keycloak-landscape">The Managed Keycloak Landscape<a href="https://phasetwo.io/blog/managed-keycloak-hosting/#the-managed-keycloak-landscape" class="hash-link" aria-label="Direct link to The Managed Keycloak Landscape" title="Direct link to The Managed Keycloak Landscape" translate="no">​</a></h3>
<p>The demand for hosted Keycloak solutions has given rise to providers like <a href="https://www.cloud-iam.com/" target="_blank" rel="noopener noreferrer" class="">Cloud IAM</a>, <a href="https://elest.io/open-source/keycloak" target="_blank" rel="noopener noreferrer" class="">Elest.io</a>, and <a href="https://servanamanaged.com/products/managed-keycloak-service/" target="_blank" rel="noopener noreferrer" class="">Servana</a>. These companies offer hosting services for the standard version of Keycloak, typically focusing only on infrastructure and uptime.</p>
<p>However, while these providers excel in devops, they lack the specialized Keycloak development expertise to go beyond hosting. This is where their limitations become apparent, as businesses often require customization, extensibility, and advanced support for their identity systems.</p>
<p>At Phase Two we started as Keycloak experts first. A large portion of our business is focused on <a class="" href="https://phasetwo.io/support/">Support</a> of large Enterprises and helping them be successful with complex Keycloak deployments.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="why-phase-two-stands-out">Why Phase Two Stands Out<a href="https://phasetwo.io/blog/managed-keycloak-hosting/#why-phase-two-stands-out" class="hash-link" aria-label="Direct link to Why Phase Two Stands Out" title="Direct link to Why Phase Two Stands Out" translate="no">​</a></h3>
<p>At Phase Two, we do more than host Keycloak—we help you get the most out of it. Here’s how we differentiate ourselves:</p>
<ol>
<li class=""><strong>Keycloak Development Expertise and Community Maintainers</strong></li>
</ol>
<p>Unlike generic hosting providers, Phase Two is a team of Keycloak <a href="https://phasetwo.io/blog/keycloak-extensions-presentation/" target="_blank" rel="noopener noreferrer" class="">experts</a>. We actively develop advanced features and extensions that enhance Keycloak’s capabilities. For instance, our <a class="" href="https://phasetwo.io/product/organizations/">Organizations Extension</a> allows <a class="" href="https://phasetwo.io/blog/multi-tenancy-with-keycloak-organizations/">multi-tenant</a> support out of the box, a feature not available in the standard Keycloak build.</p>
<p>This level of expertise ensures that your Keycloak deployment isn’t just functional, it’s optimized and future-proofed for your unique needs.</p>
<p>In addition, while these providers may suggest you can customize something, the reality is once you enter the realm of needing to add an extension for migration, organizations, theming or more, you will need more control.</p>
<p>We are active contributors to the Keycloak Project for bugs and features.</p>
<ol start="2">
<li class=""><strong>Beyond Hosting – Full-Service Management</strong></li>
</ol>
<p>Phase Two provides comprehensive management of your Keycloak deployment. From custom configurations, region deployments, to integration with your existing systems, we tailor every deployment to fit your requirements.</p>
<p>With Phase Two, you’re not just getting a host, you’re gaining a partner who actively ensures your identity solution is robust, scalable, and secure.</p>
<p>On the other end of the email are real people, if you have a problem and reach out, we're there to quickly respond.</p>
<ol start="3">
<li class=""><strong>Focus on Extensibility</strong></li>
</ol>
<p>Many businesses need to extend Keycloak to meet specific requirements, such as custom authentication flows or integrations with third-party systems. At Phase Two, we specialize in making Keycloak extensible, helping you unlock its full potential.</p>
<p>In contrast, standard hosting providers can only offer “out-of-the-box” Keycloak functionality, leaving you to navigate complex customizations alone.</p>
<p>For instance, we are the original implementers and continued maintainers of <a class="" href="https://phasetwo.io/blog/keycloak-on-cockroachdb/">CockroachDB build</a>, which is a fantastic database for distributed SQL.</p>
<ol start="4">
<li class=""><strong>Enterprise-Grade Support and Reliability</strong></li>
</ol>
<p>We understand that uptime is critical, but we also know that businesses need proactive support. At Phase Two, we provide:</p>
<ul>
<li class="">Continuous monitoring and optimization.</li>
<li class="">Regular security patches and updates.</li>
<li class="">Expert guidance to handle complex challenges.</li>
<li class="">Guidance for logging and eventing to a SIEM of your choice.</li>
</ul>
<p>With Phase Two, we ensure your infrastructure is not only operational but also resilient and efficient.</p>
<ol start="5">
<li class=""><strong>Managed Upgrades and Compatibility</strong></li>
</ol>
<p>Keycloak updates can introduce breaking changes, especially for custom deployments. Phase Two takes the headache out of upgrades, ensuring that your deployment remains stable and compatible.</p>
<p>This seamless upgrade process is something you won’t find with standard-hosting solutions, but you'll find that you'll need rather quickly. We coordinate with your team to make sure you're ready and help verify upgrades.</p>
<p>If downtime is required (some previous version required this), we work to keep this down to minutes and make sure you're app is back up fast.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="choosing-a-partner-that-understands-your-needs">Choosing a Partner That Understands Your Needs<a href="https://phasetwo.io/blog/managed-keycloak-hosting/#choosing-a-partner-that-understands-your-needs" class="hash-link" aria-label="Direct link to Choosing a Partner That Understands Your Needs" title="Direct link to Choosing a Partner That Understands Your Needs" translate="no">​</a></h3>
<p>Managed Keycloak isn’t just about hosting, it’s about delivering a solution that scales with your business, adapts to your evolving needs, and remains secure in the face of new challenges.</p>
<p>While other providers offer the basics, Phase Two combines hosting with unmatched Keycloak development expertise, enterprise-grade support, and a commitment to innovation. The result? A managed Keycloak solution that’s tailor-made for your success.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="ready-to-elevate-your-keycloak-deployment">Ready to Elevate Your Keycloak Deployment?<a href="https://phasetwo.io/blog/managed-keycloak-hosting/#ready-to-elevate-your-keycloak-deployment" class="hash-link" aria-label="Direct link to Ready to Elevate Your Keycloak Deployment?" title="Direct link to Ready to Elevate Your Keycloak Deployment?" translate="no">​</a></h3>
<p>If you’re looking for a Managed Keycloak provider that goes beyond hosting, Phase Two is here to help. Explore our Managed Keycloak Hosting or Enterprise Support to learn more.</p>
<p>Schedule a consultation today or get in touch at <a href="mailto:sales@phasetwo.io" target="_blank" rel="noopener noreferrer" class="">sales@phasetwo.io</a> to learn how we can transform your identity solution.</p>]]></content:encoded>
            <author>support@phasetwo.io (Phase Two)</author>
            <category>keycloak</category>
            <category>phase_two</category>
            <category>startup</category>
            <category>customization</category>
            <category>extension</category>
        </item>
    </channel>
</rss>