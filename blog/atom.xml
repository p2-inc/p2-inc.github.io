<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://phasetwo.io/blog</id>
    <title>Phase Two enhanced Keycloak as a Service Blog</title>
    <updated>2023-07-10T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://phasetwo.io/blog"/>
    <subtitle>Phase Two enhanced Keycloak as a Service Blog</subtitle>
    <icon>https://phasetwo.io/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[Launching Dedicated Clusters]]></title>
        <id>dedicated-launch</id>
        <link href="https://phasetwo.io/blog/dedicated-launch"/>
        <updated>2023-07-10T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We're excited today to announce the launch of our dedicated clusters offering. Our Phase Two enhanced Keycloak distribution is now available as a hosted, dedicated cluster in the region of your choice.]]></summary>
        <content type="html"><![CDATA[<p>We're excited today to announce the launch of our dedicated clusters offering. Our Phase Two enhanced Keycloak distribution is now available as a hosted, dedicated cluster in the region of your choice.</p><p>About 9 months ago, we launched our self-service, shared deployments, offering customers the ability to <a href="https://phasetwo.io/dashboard/" target="_blank" rel="noopener noreferrer">create</a> Phase Two enhanced Keycloak realms on our shared clusters. Over that period, we've provided over 700 free realms for testing and small production use cases. Many of you have reached out to us asking about an SLA, isolated resources, and ability to grow into larger use cases. Based on your requests and feedback, we built out our dedicated cluster offering.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-phase-two-again">What is Phase Two again?<a class="hash-link" href="#what-is-phase-two-again" title="Direct link to heading">​</a></h3><p>Phase Two helps SaaS builders accelerate time-to-market and enterprise adoption with powerful SSO, identity and user management features. To that end, Phase Two has created an enhanced distribution of <a href="https://www.keycloak.org/" target="_blank" rel="noopener noreferrer">Keycloak</a> that bundles several essential <a href="https://github.com/p2-inc" target="_blank" rel="noopener noreferrer">open source extensions</a> for modern SaaS use cases. We support hosted and on-prem customers for a variety of use cases.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-dedicated">Why dedicated?<a class="hash-link" href="#why-dedicated" title="Direct link to heading">​</a></h3><p>Dedicated clusters allow us to provide compute, network and storage isolation for customer workloads, and to easily deploy in the region where customer's users are. With dedicated clusters, we can guarantee an <a href="/docs/sla">SLA</a> that meets customer's needs with no resource contention from other customers.</p><p>Furthermore, it allows us to support customer-provided domain names, and access to monitoring and management capabilities not available in the shared clusters.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-did-you-do-it">How did you do it?<a class="hash-link" href="#how-did-you-do-it" title="Direct link to heading">​</a></h3><p>We built out our dedicated cluster offering using the best-of-breed open source tools and managed services.</p><p>The core consists of Kubernetes clusters in each <a href="/docs/self-service/dedicated-clusters#regions">supported AWS and GCP region</a>. New dedicated clusters are provisioned instantly using FluxCD, a continuous delivery solution that gives us the history and auditability of git. Monitoring and alerting is done using Prometheus, Grafana, and a suite of external services that give us a complete view of cluster health.</p><p>The database tier uses a managed CockroachDB service provided by <a href="https://www.cockroachlabs.com/" target="_blank" rel="noopener noreferrer">Cockroach Labs</a>. Phase Two is the only provider that is capable of hosting the current Keycloak distribution (the "legacy" store) using CockroachDB. Working with Cockroach Labs gives us the expertise and reliability from hosting thousands of customer clusters at massive scale. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="take-me-to-it">Take me to it!<a class="hash-link" href="#take-me-to-it" title="Direct link to heading">​</a></h3><p>Starting today, you'll be able to <a href="https://phasetwo.io/dashboard" target="_blank" rel="noopener noreferrer">log into the updated dashboard</a>, and create your dedicated cluster by selecting a region and setting up your billing information.</p><p><img loading="lazy" src="/assets/images/dedicated-clusters-create-a112370f035b7c7cf6c3ff68991c34c8.png" width="834" height="991" class="img_ev3q"></p><p>Following successful billing setup, you will be returned to the Dashboard while your Cluster is provisioned. Once provisioned, you'll be able to create up to 20 realms per cluster, using the same easy setup as you are used to in the shared deployment offering.</p><p><img loading="lazy" src="/assets/images/dedicated-clusters-pending-c6502bdcf66f489aff1bb473fefca1c0.png" width="1221" height="223" class="img_ev3q"></p><p>Most clusters will be provisioned within 30 minutes, but some requests may take up to 24 hours. Additionally, for payment types such as ACH or SEPA, cluster provisioning will begin following payment clearing (up to 4 days in some cases).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-much-does-it-cost">How much does it cost?<a class="hash-link" href="#how-much-does-it-cost" title="Direct link to heading">​</a></h3><p><a href="/#pricing">Plans</a> start at $499US per month when paid annually. This provides a set of compute, network and storage resources that have been tested for common use cases for up to 20 realms and 1 million users. If your use case is uncommon or you plan to scale beyond that, our system is designed to scale up with your needs. Our plans scale linearly with resource demands beyond our minimums.</p><p>We will continue to support a robust Free tier. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="whats-next-psst-global-clusters">What's next? (psst... Global clusters)<a class="hash-link" href="#whats-next-psst-global-clusters" title="Direct link to heading">​</a></h3><p>Many of our on-prem, suppport customers with large use cases asked us to build out a solution for massive-scale, fault-tolerant, multi-region use cases. One of the great parts of building support for Keycloak's existing storage system for CockroacDB is that we've been able to explore use cases that were previously impossible using the standard Keycloak distribution, or required complex, error-prone configurations. For use cases with these requirements, plus global proximity to users and regional failover, we built global clusters, backed by CockroachDB multi-region database, for which we are now in <em>beta</em>.</p><p>These clusters provide a minimum of 3 global regions, with 3 instances of Phase Two enhanced Keycloak per region. Global server load balancing provides geographic region affinity and failover to connect your users with the closest, available instances.</p><p>There will be two price tiers for global clusters, depending on your use of our shared CockroachDB clusters, or your own dedicated clusters. We expect to launch general availability of global clusters later in Q3 2023.</p><p>Please contact <a href="mailto:sales@phasetwo.io" target="_blank" rel="noopener noreferrer">sales@phasetwo.io</a> to talk to us about your global cluster use case.</p>]]></content>
        <author>
            <name>Phase Two</name>
        </author>
        <category label="release" term="release"/>
        <category label="keycloak" term="keycloak"/>
        <category label="phase_two" term="phase_two"/>
        <category label="cockroach" term="cockroach"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[How To Customize Login Pages]]></title>
        <id>customizing-login-pages</id>
        <link href="https://phasetwo.io/blog/customizing-login-pages"/>
        <updated>2023-04-21T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Brand is important to modern SaaS companies, and nowhere is that more apparent than at the front door: the login experience. Unfortunately, the default design of the Keycloak login experience has a "face only a mother could love".]]></summary>
        <content type="html"><![CDATA[<p>Brand is important to modern SaaS companies, and nowhere is that more apparent than at the front door: the login experience. Unfortunately, the default design of the Keycloak login experience has a "face only a mother could love".</p><p>In order to allow customers to customize that experience, we've extended the default Keycloak theming functionality to allow you to easily customize the login pages from the admin console. This eliminates the need to package and deploy a custom theme, and allows fast iteration without restart.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="simple-customization">Simple customization<a class="hash-link" href="#simple-customization" title="Direct link to heading">​</a></h2><p>If you're in a hurry, logo and color customization can be achieved by adding your logo's URL and three color choices. These are available in the <em>General</em> and <em>Login</em> tabs of the <strong>Styles</strong> section.</p><p><img loading="lazy" src="/assets/images/2023-04-21-styles-general-6ab47a3576167d688f2a1de9f21e1d3f.png" width="998" height="322" class="img_ev3q"></p><p><img loading="lazy" src="/assets/images/2023-04-21-styles-login-ff8e05f7f0f86b614a0bb6bb4966d5b2.png" width="995" height="316" class="img_ev3q"></p><p>In order for these setting to take effect, your <strong>Realm Settings</strong> <em>Themes</em> must also be set to <code>Attributes</code> for the <em>Login theme</em> type</p><p><img loading="lazy" src="/assets/images/2023-04-21-theme-attributes-a4aebd42e54bc09435ff0b7452a7ea0a.png" width="1060" height="338" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="full-customization-using-css">Full customization using CSS<a class="hash-link" href="#full-customization-using-css" title="Direct link to heading">​</a></h2><p>Many of you will have more stringent branding requirements. For this, you can override the styles of the default Keycloak login theme. To discover the base styles that are available using this theme, we recommend</p><p>Note that using CSS overrides will cause the colors from simple customization not to work.</p><p>In order to load your CSS, paste it into the "CSS" field in the <em>Login</em> tab of the <strong>Styles</strong> section.</p><p><img loading="lazy" src="/assets/images/2023-04-21-styles-css-44270cc1e763e821a9842899604ecdf8.png" width="1004" height="410" class="img_ev3q"></p><p>This CSS will be the last CSS loaded, overridding the styles in the default <code>keycloak</code> login theme. </p><p>References:</p><ul><li><a href="https://github.com/keycloak/keycloak/blob/main/themes/src/main/resources/theme/keycloak/login/resources/css/login.css" target="_blank" rel="noopener noreferrer">Keycloak login CSS</a> - The default CSS for the <code>keycloak</code> login theme.</li><li><a href="https://www.patternfly.org/v4/" target="_blank" rel="noopener noreferrer">Patternfly 4</a> - The styling library used by the theme.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="css-examples">CSS Examples<a class="hash-link" href="#css-examples" title="Direct link to heading">​</a></h3><p>To get you started with some ideas, we've created 3 example login themes that were done by overridding the CSS. These are free of license restriction, so feel free to download, use and customize the CSS at the links with the example images.</p><ul><li><p>Consumer - <a href="https://github.com/p2-inc/keycloak-themes/blob/main/examples/consumer/login.css" target="_blank" rel="noopener noreferrer">CSS</a>
<img loading="lazy" src="/assets/images/2023-04-21-consumer-theme-56c696babe91215d33735f965d1f4d84.png" width="1004" height="650" class="img_ev3q"></p></li><li><p>Enterprise - <a href="https://github.com/p2-inc/keycloak-themes/blob/main/examples/enterprise/login.css" target="_blank" rel="noopener noreferrer">CSS</a>
<img loading="lazy" src="/assets/images/2023-04-21-enterprise-theme-1876cb6e90ec7c1d990b4f25e2bb0994.png" width="1004" height="650" class="img_ev3q"></p></li><li><p>SaaS - <a href="https://github.com/p2-inc/keycloak-themes/blob/main/examples/saas/login.css" target="_blank" rel="noopener noreferrer">CSS</a>
<img loading="lazy" src="/assets/images/2023-04-21-saas-theme-362d9e037647842631ee14f71d28833b.png" width="1004" height="650" class="img_ev3q"></p></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="images-and-other-assets">Images and other assets<a class="hash-link" href="#images-and-other-assets" title="Direct link to heading">​</a></h4><p>You'll notice that images, icons and fonts not found in the standard Keycloak themes are used. These are referenced by URL in the CSS. For example, if you are used to loading a custom font in the <code>&lt;head&gt;</code> of your HTML, it is possible to do it in CSS using <code>@import</code>:</p><div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token atrule rule">@import</span><span class="token atrule"> </span><span class="token atrule function" style="color:rgb(130, 170, 255)">url</span><span class="token atrule punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token atrule">"</span><span class="token atrule property">https</span><span class="token atrule punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token atrule">//fonts.googleapis.com/css2?family=</span><span class="token atrule property">Inter</span><span class="token atrule punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token atrule">wght</span><span class="token atrule rule">@300</span><span class="token atrule punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token number" style="color:rgb(247, 140, 108)">400</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token number" style="color:rgb(247, 140, 108)">500</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token number" style="color:rgb(247, 140, 108)">600</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token number" style="color:rgb(247, 140, 108)">700</span><span class="token plain">&amp;family=Lexend+</span><span class="token property">Deca</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">wght</span><span class="token atrule rule">@300</span><span class="token atrule punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token number" style="color:rgb(247, 140, 108)">400</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token number" style="color:rgb(247, 140, 108)">500</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token number" style="color:rgb(247, 140, 108)">600</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token number" style="color:rgb(247, 140, 108)">700</span><span class="token plain">&amp;family=</span><span class="token property">Lexend</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">wght</span><span class="token atrule rule">@300</span><span class="token atrule punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token number" style="color:rgb(247, 140, 108)">400</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token number" style="color:rgb(247, 140, 108)">500</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token number" style="color:rgb(247, 140, 108)">600</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token number" style="color:rgb(247, 140, 108)">700</span><span class="token plain">&amp;family=Work+</span><span class="token property">Sans</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">wght</span><span class="token atrule rule">@300</span><span class="token atrule punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token number" style="color:rgb(247, 140, 108)">400</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token number" style="color:rgb(247, 140, 108)">500</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token number" style="color:rgb(247, 140, 108)">600</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token number" style="color:rgb(247, 140, 108)">700</span><span class="token plain">&amp;display=swap"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And background and other images can be referenced by their full URL using <code>url(...)</code>:</p><div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token selector class" style="color:rgb(199, 146, 234)">.login-pf</span><span class="token selector" style="color:rgb(199, 146, 234)"> body</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">background-image</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token url function" style="color:rgb(130, 170, 255)">url</span><span class="token url punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token url string url" style="color:rgb(221, 221, 221)">"https://raw.githubusercontent.com/p2-inc/keycloak-themes/main/examples/saas/assets/SaaS%20BG.webp"</span><span class="token url punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="success">Success!<a class="hash-link" href="#success" title="Direct link to heading">​</a></h2><p>As always, our success is based on the success of our customers. We hope this extension and guide has helped you update the default Keycloak login branding to match that of your needs. If you have suggestions for further improvement of this feature, please reach out on GitHub!</p>]]></content>
        <author>
            <name>Phase Two</name>
        </author>
        <category label="phase_two" term="phase_two"/>
        <category label="themes" term="themes"/>
        <category label="login" term="login"/>
        <category label="keycloak" term="keycloak"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[We're Changing Our License]]></title>
        <id>licensing-change</id>
        <link href="https://phasetwo.io/blog/licensing-change"/>
        <updated>2023-01-28T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[tl;dr]]></summary>
        <content type="html"><![CDATA[<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tldr">tl;dr<a class="hash-link" href="#tldr" title="Direct link to heading">​</a></h3><p>We’ve changed the license of our <a href="/docs/introduction/open-source#components-and-repos">core extensions</a> from the <a href="https://www.gnu.org/licenses/agpl-3.0.en.html" target="_blank" rel="noopener noreferrer">AGPL v3</a> to the <a href="https://github.com/elastic/elasticsearch/blob/main/licenses/ELASTIC-LICENSE-2.0.txt" target="_blank" rel="noopener noreferrer">Elastic License v2</a>. We wanted to share why we made this change and what it means for our customers and community.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="why">Why?<a class="hash-link" href="#why" title="Direct link to heading">​</a></h3><p>From our earliest stages, Phase Two has been built as a set of extensions to <a href="https://keycloak.org" target="_blank" rel="noopener noreferrer">Keycloak</a>. We have made a commitment that source code for our core exetensions will always be available so that our customers can migrate to their own deployment, while maintaining the extension functionality provided by Phase Two.</p><p>As our product matured and found a market fit, it became clear to us that our current license was failing to give our customers that guarantee, and failing to give our company the protection to ensure we could build a business and continue to invest in our extensions.</p><p>We've had some very deep conversations with customers and contributors about the future of licensing, and learned a lot about what other companies in our shoes have done. We truly appreciate all of the engagement and feedback, and have done our best to make a decision that is in the best interest of our company, customers and community.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="whats-allowed">What's allowed?<a class="hash-link" href="#whats-allowed" title="Direct link to heading">​</a></h3><ol><li>Hosting and using the extensions by companies as part of their own product.</li><li>Derivative works that maintain the same license.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="whats-prohibited">What's prohibited?<a class="hash-link" href="#whats-prohibited" title="Direct link to heading">​</a></h3><ol><li>Providing the extensions as a hosted or managed service. This includes bundling and distribution by companies who sell their products for on-prem and private cloud use.</li></ol><p>We believe that the Elastic License strikes a great balance, and we're excited for our next phase of growth!</p>]]></content>
        <author>
            <name>Phase Two</name>
        </author>
        <category label="oss" term="oss"/>
        <category label="license" term="license"/>
        <category label="phase_two" term="phase_two"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Setting up SSO with Phase Two]]></title>
        <id>sso-setup</id>
        <link href="https://phasetwo.io/blog/sso-setup"/>
        <updated>2022-11-23T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We've received a lot of support requests about the right way to set up SSO connections. We've published a 5 minute video showing you how to do it easily. Also, the script is included below in case you miss anything!]]></summary>
        <content type="html"><![CDATA[<p>We've received a lot of support requests about the right way to set up SSO connections. We've published a 5 minute video showing you how to do it easily. Also, the script is included below in case you miss anything!</p><iframe width="560" height="315" src="https://www.youtube.com/embed/wAeT07JGhOI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe><h3 class="anchor anchorWithStickyNavbar_LWe7" id="script">Script<a class="hash-link" href="#script" title="Direct link to heading">​</a></h3><p>Developers have been asking for concise setup instructions for SSO. You’re here for our enterprise SSO functionality. We hear you. Here’s a quick live setup to show you how easy it is.</p><p>I’m assuming you have already created a self-serve deployment. </p><ul><li>Start by opening the console. </li><li>Navigate to the <strong>Organizations</strong> tab. </li><li>Create a new organization. In this case, set a domain when creating an organization that corresponds to the email domains you want to match to their SSO provider.</li><li>Create a <strong>Portal Link</strong> by selecting it from the action menu of the organization. This is usually meant to be sent to the organization administrator, but in this case, we’ll open this link in an incognito window and configure the identity provider ourselves.</li></ul><p>We’ll use the identity provider wizard to setup a SSO connection to Azure AD. I’ve sped this up a bit, but you’ll get an idea of what is happening. Depending on your setup and target identity provider, this will be different.</p><p>Now let’s secure an application and use our new SSO connection to log in. For this purpose, we’ve got a debugging application on Github you can use to quickly see how a front end application is secured and what data is shared between Phase Two and the application.</p><ul><li>Clone our <a href="https://github.com/p2-inc/debug-app" target="_blank" rel="noopener noreferrer">debug-app</a> from github, and open up the <code>frontend</code> folder in your favorite editor or IDE.</li><li>Go back to the admin console and navigate to the <strong>Clients</strong> tab. Create a new client. Let’s call it <code>frontend</code>. This will be a public OIDC client, with localhost:3001 as the root and redirect uri.</li><li>Get the <code>keycloak.json</code> from the configuration and copy it. Paste it into <code>keycloak.json</code> to configure your <code>debug-app</code>.</li></ul><p>Before we continue, we need to configure an authentication flow that does our SSO redirect.</p><ul><li>Navigate to the <strong>Authentication</strong> tab, and duplicate the <strong>Browser</strong> flow. </li><li>Add the <strong>Home IdP Discovery</strong> authenticator and move it into the position before the user forms. Configure it to not require a verified domain nor email.</li><li>Finally, using the action menu, bind it to the browser flow.</li></ul><p>Go back to the <code>debug-app</code>, and let’s try a login using an email domain that matches the one we configured.</p><ul><li>First, run <code>npm i</code> and <code>npm start</code> to start the debug app, and navigate to http://localhost:3001 in your browser. See that it redirects to the default login.</li><li>Enter the email address in the new email only form.</li><li>We are redirected to the Azure identity provider we set up.</li><li>Log in to Azure, and then we are redirected to back to <code>debug-app</code>.</li><li>Let’s take a look at the token and see the data that came over from Azure.</li></ul><p>As a bonus, let’s map some information about the user’s organization memberships into the token in case we need to do something with that information in our application.</p><ul><li>Go back to the Admin UI and navigate to the Client we created.</li><li>Select the <strong>frontend-dedicated</strong> client scope.</li><li>Add a mapper by configuration.</li><li>Select the <strong>Organization Role</strong> mapper and configure it as shown.</li><li>Save the configuration.</li></ul><p>Now let’s go back to the <code>debug-app</code> and reload. </p><ul><li>Take a look at the token. It now contains information about the organization we created. </li><li>The user was automatically created and added as a member to the organization when we logged in through the Azure identity provider. </li></ul><p>You now have a fully working authentication and enterprise SSO setup for your application. It took about 5 minutes!</p>]]></content>
        <author>
            <name>Phase Two</name>
        </author>
        <category label="tutorial" term="tutorial"/>
        <category label="keycloak" term="keycloak"/>
        <category label="phase_two" term="phase_two"/>
        <category label="sso" term="sso"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Protecting Your Application With Keycloak]]></title>
        <id>securing-apps-with-keycloak</id>
        <link href="https://phasetwo.io/blog/securing-apps-with-keycloak"/>
        <updated>2022-10-17T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[There are a lot of guides out there, official and unofficial, for how to secure applications with Keycloak. The subject is rather broad, so it's difficult to know where to start. To begin, we'll be focusing on Keycloak's use of OpenID Connect (OIDC), and how to use that standard, along with some helpful libraries, to secure a simple but instructive application.]]></summary>
        <content type="html"><![CDATA[<p>There are a lot of guides out there, official and unofficial, for how to secure applications with Keycloak. The subject is rather broad, so it's difficult to know where to start. To begin, we'll be focusing on Keycloak's use of OpenID Connect (OIDC), and how to use that standard, along with some helpful libraries, to secure a simple but instructive application. </p><p>For the purposes of the sample, we'll actually be using two common applications, a frontend single-page application (SPA) written in JavaScript, and a backend REST API written for Node.js. The language we selected for the sample is JavaScript, but the principles apply no matter the implementation technology you choose.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-oidc">What is OIDC?<a class="hash-link" href="#what-is-oidc" title="Direct link to heading">​</a></h3><p>When learning about identity and access management technologies, you'll be confronted with an alphabet-soup of acronyms to learn. OIDC, or OpenID Connect is one of the most important ones for securing applications, be it browser-based, APIs, mobile or native. Our friend over at OneLogin does a great job of explaining <a href="https://www.onelogin.com/blog/openid-connect-explained-in-plain-english-2" target="_blank" rel="noopener noreferrer">OIDC in plain english</a> for those that are curious.</p><p>For the purpose of this guide, it is sufficient to know that OIDC is an open authentication protocol that works on top of the OAuth 2.0 framework. OIDC allows individuals to use single sign-on (SSO) to access relying party sites using OpenID Providers (OPs), such as an email provider or social network, to authenticate their identities. It provides the application or service with information about the user, the context of their authentication, and access to their profile information.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="login-flow">Login flow<a class="hash-link" href="#login-flow" title="Direct link to heading">​</a></h3><p>A "flow" in OIDC terms is a mechanism of authenticating a user, and obtaning access tokens. The flow we'll be using in this guide is called the authorization code flow. Fortunately, the internals of the flow are not necessary to understand, as Keycloak handles the details for you. </p><p>However, it is useful to see what is going on in the login process, so that you understand your user's experience.</p><p><img loading="lazy" src="/assets/images/2022-10-17-authentication-flow-ed76f7cb6dbf73f59f0941f1bac76470.png" width="764" height="507" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="setup">Setup<a class="hash-link" href="#setup" title="Direct link to heading">​</a></h3><p>We'll make an assumption for this guide that you are using a cloud deployment of Phase Two enhanced Keycloak. If you haven't already set one up, go over to the <a href="/blog/self-service">self-service launch announcement</a> for details. You may also use your own Keycloak setup, but that setup is beyond the scope of this article.</p><p>The sample applications are available in our <a href="https://github.com/p2-inc/debug-app" target="_blank" rel="noopener noreferrer">demo repo</a> on Github. Clone that repo to your local machine. You'll find the applications in the <code>frontend</code> and <code>backend</code> directory, and a set of supporting files for configuration and deployment.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">git clone https://github.com/p2-inc/debug-app.git</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd debug-app</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="client">Client<a class="hash-link" href="#client" title="Direct link to heading">​</a></h3><p>Every application that Keycloak protects is considered a <strong>Client</strong>. Log into your Keycloak realm, and click on <strong>Clients</strong> in the left navigation, and click <em>Create client</em>. </p><ol><li>Enter <code>frontend</code> as the <strong>Client ID</strong> and click <em>Next</em></li><li>In the <strong>Capability config</strong> screen, keep the defaults and click <em>Save</em></li><li>In the <strong>Access settings</strong> screen, enter the following values:<ol><li><code>http://localhost:3001/*</code> for <strong>Valid redirect URIs</strong></li><li><code>+</code> in <strong>Valid post logout redirect URIs</strong></li><li><code>+</code> in <strong>Web origins</strong></li></ol></li><li>Click <em>Save</em></li><li>In the upper right corner, open the <strong>Action</strong> menu and select <strong>Download adapter config</strong>. Click <em>Download</em> and move the file to the <code>debug-app</code> repo you cloned under the <code>frontend</code> folder.</li></ol><p><img loading="lazy" src="/assets/images/2022-10-17-client-setup-206620dc405420cabc1b0eb5e7866844.png" width="1102" height="1106" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="make-a-user">Make a user<a class="hash-link" href="#make-a-user" title="Direct link to heading">​</a></h3><p>Before we run the application, we need to create a user to log in. Click on <strong>Users</strong> in the left navigation, and click <em>Add user</em>. You only need to give the user a username and click <em>Create</em>. Find the <strong>Credentials</strong> tab and click <strong>Set password</strong> to give the user a password.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-sample-apps">Running the sample apps<a class="hash-link" href="#running-the-sample-apps" title="Direct link to heading">​</a></h3><p>Open two terminal windows and go to the directory of the repo you cloned in both. To start, run the following commands in each terminal:</p><p>Frontend:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd frontend/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">npm install</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">npm start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Backend:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd backend/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">npm install</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">KC_REALM=&lt;your-realm-name&gt; KC_URL=&lt;your-keycloak-url&gt; npm start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Be sure to replace the realm name, and the URL of your Keycloak installation (e.g. <code>https://usw2.auth.ac/auth/</code>).</p><p>This will install the necessary components using npm, and will start the servers for both applications. Note: the applications use ports 3001 and 3002 by default. If you have other applications running on these ports, you may have to temporarily shut them down.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="putting-it-all-together">Putting it all together<a class="hash-link" href="#putting-it-all-together" title="Direct link to heading">​</a></h3><p>Load <a href="http://localhost:3001/" target="_blank" rel="noopener noreferrer">http://localhost:3001/</a> in your browser. This will load the frontend application, which will be immediately redirected to the Keycloak login page. Log in with the user you created.</p><p>Once you log in, you'll see your profile, and several menu items. First click to the <strong>Access token</strong> menu item. You'll see the information from the parsed access token that was returned by Keycloak. This contains information about the user, but also claims related to the users roles and groups. This is because access tokens are meant to be read and validated by resource servers (i.e. our backend service).</p><p>Next, click <strong>ID token</strong>. You'll see similar information to what we saw in the access token, but limited to a standardized set of information that identifies the authentication state of the user. ID tokens are not meant for calling resource servers, and because of that, don't contain claims that are meant to be validated by backend services.</p><p>Clicking <strong>Service</strong> will call the backend service. You'll see a message that indicates the frontend called the backend, passing the access token, and was authorized to access a secured service. </p><p>You can also try the built-in Keycloak Account Management console by clicking <strong>Account</strong>, which gives the user a simple way to manage their information that is stored in Keycloak. It is not necessary to use this with your applications, as you may choose to build it in to your app. However, it's a good tool to have out of the box.</p><p>Finally, clicking <strong>Logout</strong> will take you back to the login page. This is actually sending you to the frontend's initial page, which is redirecting you to the login page as its default behavior.</p><iframe width="560" height="315" src="https://www.youtube.com/embed/Wi9qipIDi4w" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe><h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-just-happened">What just happened?<a class="hash-link" href="#what-just-happened" title="Direct link to heading">​</a></h3><p>There's a lot that goes into implementation of the OIDC flow we used to secure our sample applications. Part of the reason to use Keycloak is the mature implementation and client libraries that make protecting applications in a secure way almost trivial. </p><p>We encourage you to look at the source in the sample applications (specifically <code>frontend/app.js</code> and <code>backend/app.js</code>) and observe how the Keycloak client libraries are used to secure these applications. This will be a good place to start when you are working on securing your own applications.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="your-application">Your application<a class="hash-link" href="#your-application" title="Direct link to heading">​</a></h3><p>Another incredible advantage to using standards like OIDC is that you are not constrained to using Keycloak libraries. Because your applications may not be written in JavaScript also, it's easy to use other language OIDC client libraries. We maintain a <a href="/docs/securing-applications/#libraries">list of OIDC libraries</a>, and the <a href="https://openid.net/" target="_blank" rel="noopener noreferrer">OpenID Foundation</a> also maintains lists of <a href="https://openid.net/developers/certified/" target="_blank" rel="noopener noreferrer">certified</a> and <a href="https://openid.net/developers/uncertified/" target="_blank" rel="noopener noreferrer">uncertified</a> implementations</p><p>Today you saw how to quickly secure an application using Keycloak, and learned more about the underlying OIDC standards. We look forward to seeing what you build!</p>]]></content>
        <author>
            <name>Phase Two</name>
        </author>
        <category label="tutorial" term="tutorial"/>
        <category label="keycloak" term="keycloak"/>
        <category label="phase_two" term="phase_two"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Magic Links Guide, and 5 Minute Setup]]></title>
        <id>set-up-magic-links</id>
        <link href="https://phasetwo.io/blog/set-up-magic-links"/>
        <updated>2022-10-12T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Someone who is reading this article is probably very different that the average internet user when it comes to passwords. Developers and IT admins, either because of security savvy or compliance, use password managers, multi-factor authentication (MFA) mechanisms, or prefer sites that offer password-less authentication. Furthermore, they are keenly aware of the weaknesses in their personal "attack surface", and search for ways to balance convenience with risk.]]></summary>
        <content type="html"><![CDATA[<p>Someone who is reading this article is probably very different that the average internet user when it comes to passwords. Developers and IT admins, either because of security savvy or compliance, use password managers, multi-factor authentication (MFA) mechanisms, or prefer sites that offer password-less authentication. Furthermore, they are keenly aware of the weaknesses in their personal "attack surface", and search for ways to balance convenience with risk.</p><p>But you are here because you want to find a way to implement magic links quickly. First, some background.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-are-magic-links">What are magic links?<a class="hash-link" href="#what-are-magic-links" title="Direct link to heading">​</a></h3><p>Magic links are a type of password-less authentication that allow your users to log in to your application following a link that is emailed to them, rather than typing a username and password. Magic links can also be used as a part of a multi-factor authentication (MFA) strategy.</p><p>In a magic link flow, the application's authentication provider asks users for an email address rather than a password. The authentication provider generates a link with an embedded token, and sends to the user's email. There may be some other steps taken by the provider, such as verifying the provided email address matches an existing user. The user then opens the email, clicks the link, is verified by the authentication provider, and is granted access to the application</p><p><img loading="lazy" src="/assets/images/2022-10-12-set-up-magic-links-flow-b4ec250b3b1faa0bcfe403ca9ca0a7d8.png" width="768" height="466" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pros-and-cons">Pros and cons<a class="hash-link" href="#pros-and-cons" title="Direct link to heading">​</a></h3><p>Like any mechanism that tries to streamline a security process such as authentication, there are both pros and cons to the magic link approach. First in the plus column:</p><ul><li>Enhances user experience, which makes users more likely to use your application, and be satisfied with the experience. This drives user engagement.</li><li>User onboarding is accelerated, as magic links can be sent to new users as well as existing ones. Registration for your application is as easy as entering your email address.</li><li>You'll never have a password breach. When there are no passwords, there are no password breaches. A huge number of corporate data breaches are due to insufficient and compromised passwords.</li><li>No more customer support requests related to lost passwords. Over half of customer support requests are due to authentication problems, many of those are users unable to remember their passwords. This eliminates a huge portion of those.</li></ul><p>Nothing is perfect, and there are also several potential downsides to magic links:</p><ul><li>Account security and access are now tied to the security of the user's email account. If the user's computer or other device is compromised, and attacker could potentially obtain the link and impersonate the user.</li><li>If the user or email provider does not enforce encrypted network access to email, it may be possible for an attacker to perform a man-in-the-middle attack where they can obtain the link by observing network traffic.</li><li>Ability to access your application is now tied to email deliverability. If your email service or the user's email provider fails to deliver the email containing the link in a timely fashion, it could deteriorate the experience for the user.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="limiting-risk">Limiting risk<a class="hash-link" href="#limiting-risk" title="Direct link to heading">​</a></h3><p>Fortunately, there are things your application and the user can do in order to limit some of the possible downside risks of using magic links. Your application can:</p><ul><li>Make the magic links single use, or set a very short expiration time for the links.</li><li>Enforce an additional factor when using magic links.</li></ul><p>Your user can:</p><ul><li>Choose an email provider that enforces the use of encrypted connections.</li><li>Use multi-factor authentication (MFA) mechanisms to further protect their email accounts.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="setup-guide">Setup guide<a class="hash-link" href="#setup-guide" title="Direct link to heading">​</a></h3><p>Sorry for the wait! We wanted to give you an overview of magic links before diving into how to set them up with Phase Two. </p><p>If you haven't already, get an account on <a href="https://phasetwo.io/dashboard" target="_blank" rel="noopener noreferrer">Phase Two</a>. You'll notice that we use magic links in addition to social login options. As we said above, we're trying to make it as frictionless as possible to get in and start using the product.</p><p>Once you log in and create your first deployment, open the Phase Two enhanced Keycloak console. In order to email links to your users, you'll need to set up email. If you haven't already done that, head over to our <a href="/blog/set-up-email">email setup guide</a>. </p><p>After you've completed email setup, select the <strong>Authentication</strong> menu item, and then select the <strong>Magic link</strong> flow from the list.</p><p><img loading="lazy" src="/assets/images/2022-10-12-set-up-magic-links-magiclinkauth-e40ff40256c02d0f4280f41e7594016c.png" width="1427" height="816" class="img_ev3q"></p><p>Open the configuration for the <strong>Magic Link Authenticator</strong> by clicking the gear icon on the last line with the <strong>Magic Link</strong> execution. You'll notice two options:</p><ul><li><strong>Force create user</strong> creates a new user when an email is provided that does not match an existing user. This allows the use of magic links to register new users that have not been previously seen.</li><li><strong>Update profile on create</strong> adds an UPDATE_PROFILE required action if the user was created. This means that the user will need to fill out other required fields such as first/last name, etc. </li></ul><p>For the purpose of our demonstration, let's set <strong>Force create user</strong> to ON and <strong>Update profile on create</strong> to OFF (remember, low friction). Save the configuration, and go back to the flow page.</p><p>In the <strong>Action</strong> menu of the flow page, select <strong>Bind</strong>, and select <strong>Browser flow</strong>.</p><p><img loading="lazy" src="/assets/images/2022-10-12-set-up-magic-links-bind-160640f1880ba16e2771180440b26c73.png" width="1136" height="198" class="img_ev3q"></p><p>Now you're ready to test it out. If you don't have an application that is setup and protected by Keycloak, you can use the built-in account console to try it out. Navigate to the <strong>Clients</strong> menu, and open the link next to the <strong>account</strong> client in an incognito window (this will prevent conflict, as you are already logged in to the admin console as the administrator). </p><p>Click <strong>Sign In</strong> and you'll be redirected to the authentication page. Enter your email address, and you'll be sent a magic link. Click on the link in your email, and you'll see your details in the account console. </p><p><img loading="lazy" src="/assets/images/2022-10-12-set-up-magic-links-login-8e1477c5b0ce012da2fcd791e3dad4f7.png" width="530" height="376" class="img_ev3q">
<img loading="lazy" src="/assets/images/2022-10-12-set-up-magic-links-confirm-75f643520e911befbbe787e370def0f2.png" width="538" height="256" class="img_ev3q"></p><p>Go back to the admin console in the other browser window, and navigate to the <strong>Users</strong> section. You will be able to find the user that was just created.</p><p><img loading="lazy" src="/assets/images/2022-10-12-set-up-magic-links-admin-user-4355a7cb65d28f64cdd1ba146855c63b.png" width="1145" height="368" class="img_ev3q"></p><p>Magic links are a great way to streamline your user onboarding and experience to help you easily drive engagement across your application. Phase Two makes it quick and easy to integrate magic links (and social login, and enterprise SSO, and much more). Stay tuned for more guides that will help you build the authentication experience that is right for your app.</p>]]></content>
        <author>
            <name>Phase Two</name>
        </author>
        <category label="tutorial" term="tutorial"/>
        <category label="keycloak" term="keycloak"/>
        <category label="phase_two" term="phase_two"/>
        <category label="magic_links" term="magic_links"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Set Up Email in Phase Two]]></title>
        <id>set-up-email</id>
        <link href="https://phasetwo.io/blog/set-up-email"/>
        <updated>2022-10-05T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[One of the first things you will need to do when getting a Keycloak Realm ready for use is to set up your email server configuration. There are many system emails that are sent to users in the course of verifying and updating user accounts: Email address verification, magic links, password reset, account update, login failure notifications, identity provider linking, etc.]]></summary>
        <content type="html"><![CDATA[<p>One of the first things you will need to do when getting a Keycloak Realm ready for use is to set up your email server configuration. There are many system emails that are sent to users in the course of verifying and updating user accounts: Email address verification, magic links, password reset, account update, login failure notifications, identity provider linking, etc.</p><p>In order to provide your users with a positive experience, these messages need a way to get to them. Keycloak supports any internet reachable SMTP server. If you are currently testing, and don't have an email server or service that you currently use, <a href="https://sendgrid.com/" target="_blank" rel="noopener noreferrer">SendGrid</a> provides free accounts that allow you to send up to 100 emails per day forever. For debugging, you can also use a service like <a href="https://mailtrap.io/" target="_blank" rel="noopener noreferrer">MailTrap</a> to give you a catch-all for emails coming from Keycloak.</p><p>If you are using a Phase Two Deployment, log in to the self-service dashboard, and click on the <strong>Open Console</strong> link for the Deployment you wish to use. Once in the Keycloak admin console, click <strong>Realm settings</strong> in the left menu, and then click the <strong>Email</strong> tab.</p><p><img loading="lazy" src="/assets/images/2022-10-05-set-up-email-template-257d63b3adb88ec2ef3a86e1b3945b00.png" width="1065" height="407" class="img_ev3q"></p><p>In the first section, labeled <strong>Template</strong>, you will set options that will be used in the templates for the emails that are sent to your users. The only required field is the <strong>From</strong> field, which must contain the email address the user will see the email originating from. This should be an email address that your email server is expecting, and it will not block for authorization reasons.</p><p>The other fields in the <strong>Template</strong> section are not required, but will enhance how your emails look:</p><ul><li><strong>From</strong> address used to send emails (required)</li><li><strong>From display name</strong> a user-friendly name displayed along <strong>From</strong></li><li><strong>Reply to</strong> an email address that will be used by email clients when your user replies to an email</li><li><strong>Reply to display name</strong> a user-friendly name displayed along <strong>Reply to</strong></li><li><strong>Envelope from</strong> Bounce Address used for the mails that are rejected</li></ul><p><img loading="lazy" src="/assets/images/2022-10-05-set-up-email-connection-0252e5413e4380d5c8ac9767c24b0dd1.png" width="1055" height="433" class="img_ev3q"></p><p>In the <strong>Connection &amp; Authentication</strong> section, you will provide details of your SMTP server:</p><ul><li><strong>Host</strong> indicates the SMTP server hostname used for sending emails</li><li><strong>Port</strong> indicates the SMTP server port (usually 25, 465, 587, or 2525)</li><li><strong>Encryption</strong> support encryption for communication with your SMTP server</li><li><strong>Authentication</strong> if your SMTP server requires authentication, and supply the <strong>Username</strong> and <strong>Password</strong></li></ul><p><img loading="lazy" src="data:image/png;base64,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" width="357" height="67" class="img_ev3q"></p><p>Finally, before you click <strong>Save</strong>, click the <strong>Test connection</strong> button to send a test email to the email address of the currently logged in user. If you don't have that set, you might have click <strong>Save</strong> and edit your user before you come back. You'll receive a success message, or information that will help you resolve problems.</p><p>Once you do that, you'll have accomplished a significant task which enables lots of other functionality!</p><p>Also, stay tuned for another post on how to customize your email templates to match your branding and messaging.</p>]]></content>
        <author>
            <name>Phase Two</name>
        </author>
        <category label="tutorial" term="tutorial"/>
        <category label="keycloak" term="keycloak"/>
        <category label="phase_two" term="phase_two"/>
        <category label="email" term="email"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Self-service (beta) Launch]]></title>
        <id>self-service</id>
        <link href="https://phasetwo.io/blog/self-service"/>
        <updated>2022-09-16T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We've been pretty quiet over the summer. Since we released the Organizations and Magic Link extensions and open sourced them, there has been a lot of interest in using Phase Two.]]></summary>
        <content type="html"><![CDATA[<p>We've been pretty quiet over the summer. Since we released the <a href="https://github.com/p2-inc/keycloak-orgs" target="_blank" rel="noopener noreferrer">Organizations</a> and <a href="https://github.com/p2-inc/keycloak-magic-link" target="_blank" rel="noopener noreferrer">Magic Link</a> extensions and open sourced them, there has been a lot of interest in using Phase Two.</p><p>We were flattered by the inbound interest, but our small team wasn't able to keep up with demand for trial accounts. Rather than scramble against that demand, we opted to pause new accounts, and instead build a self-service tool to allow anyone to quickly provision a new deployment a try it out.</p><p>Today we're announcing the beta launch of the Phase Two Self-service deployment tool. This tool allows you to easily create new deployments of the Phase Two enhanced version of Keycloak in our secure, highly-available clusters. In the future, it will also allow you to deploy dedicated instances that use your own database.</p><p>Take a look at how easy it is to get started:</p><iframe width="560" height="315" src="https://www.youtube.com/embed/zzJPmwrEHmU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe><p>The clusters that run our deployments are available in two regions (AWS, us-west-2 and eu-central-1), and are backed by <a href="https://www.cockroachlabs.com/" target="_blank" rel="noopener noreferrer">CockroachDB</a>, giving you scale, resilience and low-latency performance. In the future, clusters and dedicated instances will be available in other regions based on demand.</p><p>We hope you find this new tool valuable, and we look forward to feedback and participation from both our customers and the wider Keycloak community.</p><p><a href="https://phasetwo.io/dashboard/" target="_blank" rel="noopener noreferrer">TRY IT NOW!</a></p>]]></content>
        <author>
            <name>Phase Two</name>
        </author>
        <category label="release" term="release"/>
        <category label="keycloak" term="keycloak"/>
        <category label="phase_two" term="phase_two"/>
        <category label="cockroach" term="cockroach"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Magic Links]]></title>
        <id>magic-link</id>
        <link href="https://phasetwo.io/blog/magic-link"/>
        <updated>2022-04-27T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Today we're making two announcements: A new, highly-requested feature, and the open sourcing of the extension at the same time. We've received a lot of requests from customers to implement "magic link" login functionality that would allow users to login to an application using a link sent to their email or over some other secure channel.]]></summary>
        <content type="html"><![CDATA[<p>Today we're making two announcements: A new, highly-requested feature, and the open sourcing of the extension at the same time. We've received a lot of requests from customers to implement "magic link" login functionality that would allow users to login to an application using a link sent to their email or over some other secure channel. </p><p>To that end, we've implemented two pathways for creating a magic link. One can be configured in the Authentication section of the admin UI by duplicating the Browser flow, and replacing the normal Username/Password/OTP forms with the Magic Link execution type
<img loading="lazy" src="https://github.com/p2-inc/keycloak-magic-link/raw/main/docs/assets/magic-authenticator.png" alt="Install Magic Link Authenticator in Browser Flow" class="img_ev3q">
This mechanism inserts a authenticator in the login flow that intercepts the email address and sends the magic link in an email to to the user.</p><p>We've also implemented a web service that allows you to create a magic link without necessarily sending an email. This will allow you to send the link through another channel. Specification for the new endpoint can be found in the <a href="/api/create-magic-link">Magic Link API Documentation</a>.</p><p>Both methods have the option of forcing the creation of a new user when an unknown email address is used. This allows a combination login/registration flow that combines an email verification. We think this really nails reducing friction in a new user flow.</p><p>We're open sourcing the Keycloak extensionsso that the broad Keycloak community can benefit right away. We are doing this in line with our committment to keeping our core extensions <a href="/docs/introduction/open-source">open source</a>. We hope you find these extensions valuable, and we look forward to feedback and participation from both our customers and the wider Keycloak community. </p><p>The extension is available on GitHub <a href="https://github.com/p2-inc/keycloak-magic-link" target="_blank" rel="noopener noreferrer">https://github.com/p2-inc/keycloak-magic-link</a></p>]]></content>
        <author>
            <name>Phase Two</name>
        </author>
        <category label="open_source" term="open_source"/>
        <category label="release" term="release"/>
        <category label="keycloak" term="keycloak"/>
        <category label="phase_two" term="phase_two"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Multi-tenant Extensions]]></title>
        <id>orgs</id>
        <link href="https://phasetwo.io/blog/orgs"/>
        <updated>2022-03-21T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Today we're open sourcing set of Keycloak extensions that are focused on solving several of the common use cases of multi-tenant, SaaS applications that Keycloak does not solve out of the box. We are doing this in line with our committment to keeping our core extensions open source. These extensions are the basis of our Organizations features, which allow Phase Two customers to model their own customers in their systems and create enterprise "team" functionality that suits their business case.]]></summary>
        <content type="html"><![CDATA[<p>Today we're open sourcing set of Keycloak extensions that are focused on solving several of the common use cases of multi-tenant, SaaS applications that Keycloak does not solve out of the box. We are doing this in line with our committment to keeping our core extensions <a href="/docs/introduction/open-source">open source</a>. These extensions are the basis of our Organizations features, which allow Phase Two customers to model their own customers in their systems and create enterprise "team" functionality that suits their business case.</p><p>A variation of this code has been built, enhanced and used in production by several customers for almost two years. It is now available as open source for members of the broader Keycloak community. We hope you find these extensions valuable, and we look forward to feedback and participation from both our customers and the wider Keycloak community. </p><p>The extension is available on GitHub <a href="https://github.com/p2-inc/keycloak-orgs" target="_blank" rel="noopener noreferrer">https://github.com/p2-inc/keycloak-orgs</a></p>]]></content>
        <author>
            <name>Phase Two</name>
        </author>
        <category label="open_source" term="open_source"/>
        <category label="release" term="release"/>
        <category label="keycloak" term="keycloak"/>
        <category label="phase_two" term="phase_two"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Introducing Phase Two Connect]]></title>
        <id>connect</id>
        <link href="https://phasetwo.io/blog/connect"/>
        <updated>2022-02-25T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Following our post about our wizard product, we received an overwhelming amount of interest in it. Many customers of our cloud offering asked for it as a portal for their organization administrators to set up their identity providers. On-prem customers said that one consistent onboarding hurdle was SSO complexity, and asked for it to be included in the bundled distribution.]]></summary>
        <content type="html"><![CDATA[<p>Following our <a href="/blog/wizard">post about our wizard product</a>, we received an overwhelming amount of interest in it. Many customers of our cloud offering asked for it as a portal for their organization administrators to set up their identity providers. On-prem customers said that one consistent onboarding hurdle was SSO complexity, and asked for it to be included in the bundled distribution.</p><p>Today we're pleased to report that we've listened to both use cases and completed embedding the "wizard" product into Phase Two. We're calling it "Connect", as it's the best way we could come up with characterizing its simplicity. It massively reduces the complexit of configuring SSO connections, and distills the process into something any member of the team can understand.</p><p>Phase Two Connect is currently available by invitation only while we work out the final kinks. <a href="mailto:sales@phasetwo.io" target="_blank" rel="noopener noreferrer">Contact sales</a> for more information.</p>]]></content>
        <author>
            <name>Phase Two</name>
        </author>
        <category label="release" term="release"/>
        <category label="phase_two" term="phase_two"/>
        <category label="connect" term="connect"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[SSO? Wave Your Magic Wand]]></title>
        <id>wizard</id>
        <link href="https://phasetwo.io/blog/wizard"/>
        <updated>2022-01-24T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Working with one of our customers, we discovered that even the most technically literate developer or ops professional could look at the configuration for an SSO connection like it was a foreign language. While our configuration interface attempts to cover all possible options, and document clearly what each option means, it can still be entirely unclear what is required during a setup.]]></summary>
        <content type="html"><![CDATA[<p>Working with one of our customers, we discovered that even the most technically literate developer or ops professional could look at the configuration for an SSO connection like it was a foreign language. While our configuration interface attempts to cover all possible options, and document clearly what each option means, it can still be entirely unclear what is required during a setup.</p><p>Furthermore, the identity provider that is being integrated can present a similarly extensive interface that may not use the same terms and language. However, after investigation into the most common identity providers, we found that most of the configuration options can simply be set by convention if the vendor is known.</p><p>Based on that observation, we've built what we call a "wizard" UI on top of our identity provider configuration to make it easy to integration the top commercial identity provider vendors. Take a look at a quick video of a setup using our most recent prototype. </p><iframe width="560" height="315" src="https://www.youtube.com/embed/9HJWdJqnE0I" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe><p>If you're interested in early access to our "wizards", please <a href="mailto:sales@phasetwo.io" target="_blank" rel="noopener noreferrer">contact us</a> today.</p>]]></content>
        <author>
            <name>Phase Two</name>
        </author>
        <category label="sso" term="sso"/>
        <category label="wizard" term="wizard"/>
        <category label="release" term="release"/>
        <category label="phase_two" term="phase_two"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Events and Audit Logging Extensions]]></title>
        <id>events</id>
        <link href="https://phasetwo.io/blog/events"/>
        <updated>2021-10-18T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Per our committment to keeping our core extensions open source, today we're releasing our Keycloak extensions to the event system. These extensions form the basis of how our Audit Log features are built.]]></summary>
        <content type="html"><![CDATA[<p>Per our committment to keeping our core extensions <a href="/docs/introduction/open-source">open source</a>, today we're releasing our Keycloak extensions to the event system. These extensions form the basis of how our <a href="/docs/audit-logs">Audit Log</a> features are built.</p><p>Additionally, we're providing several goodies that will be valuable to others building extensions on top of Keycloak, including a generic scriptable event listener, an event emitter to send events to any HTTP endpoint, a mechanism for retrieving event listener configurations from realm attributes, a mechanism for running multiple event listeners of the same type with different configurations, and a unified event model with facility for subscribing to webhooks. </p><p>We hope you find these extensions valuable, and we look forward to feedback and participation from both our customers and the wider Keycloak community. </p><p>The extension is available on GitHub <a href="https://github.com/p2-inc/keycloak-events" target="_blank" rel="noopener noreferrer">https://github.com/p2-inc/keycloak-events</a></p>]]></content>
        <author>
            <name>Phase Two</name>
        </author>
        <category label="open_source" term="open_source"/>
        <category label="release" term="release"/>
        <category label="keycloak" term="keycloak"/>
        <category label="phase_two" term="phase_two"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Free as in Beer]]></title>
        <id>free-realm</id>
        <link href="https://phasetwo.io/blog/free-realm"/>
        <updated>2021-05-31T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Since our release about basing Phase Two on the Keycloak Open Source Identity and Access Management system, an our committment to keeping our core extensions open source, we've received positive feedback from customers and interest from the the Keycloak community.]]></summary>
        <content type="html"><![CDATA[<p>Since our release about basing Phase Two on the <a href="https://www.keycloak.org/" target="_blank" rel="noopener noreferrer">Keycloak</a> Open Source Identity and Access Management system, an our committment to keeping our core extensions <a href="/docs/introduction/open-source">open source</a>, we've received positive feedback from customers and interest from the the Keycloak community.</p><p>We've noticed that support forums for Keycloak have many questions and requests around just getting started. Even though the software is mature, open source, and has a helpfu user community, just spinning up an environment and trying it out can be puzzling for first-time users. It's pretty clear that a lot of people just give up, because they can't get a server running, let alone configure their first realm<sup id="fnref-1-184b95"><a href="#fn-1-184b95" class="footnote-ref">1</a></sup>.</p><p>Because of that, we've decided to offer developers a <em>FREE</em> realm in Phase Two, so those that are interested in trying it out can get successful quickly. Free realms are limited to fewer than 1000 users and 5 SSO connections. Otherwise, there are no restrictions beyond abiding by our <a href="/docs/terms">terms of use</a>. Sound good? Please fill out the <a href="https://docs.google.com/forms/d/e/1FAIpQLScIwakLlJpd9OS3r1fCsPDX01Y9BTSvxf5Ceru_FrpAQE5hIA/viewform?usp=sf_link" target="_blank" rel="noopener noreferrer">contact form</a> with your company information, and we'll respond with access information for your realm. </p><div class="footnotes"><hr><ol><li id="fn-1-184b95">In Keycloak, a "realm" manages a set of users, credentials, roles, and groups. A user belongs to and logs into a realm. Realms are isolated from one another and can only manage and authenticate the users that they control.<a href="#fnref-1-184b95" class="footnote-backref">↩</a></li></ol></div>]]></content>
        <author>
            <name>Phase Two</name>
        </author>
        <category label="phase_two" term="phase_two"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Keycloak, and Our Commitment to Open Source]]></title>
        <id>keycloak</id>
        <link href="https://phasetwo.io/blog/keycloak"/>
        <updated>2020-12-21T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Following the initial release of Phase Two's authentication and SSO tools 3 months ago, we had a warm reception by several early- to mid- stage SaaS companies. The message was consistent. SSO was a key barrier to unlocking enterprise customers, and we had made it much easier to quickly integrate the alphabet-soup of enterprise identity providers.]]></summary>
        <content type="html"><![CDATA[<p>Following the initial release of Phase Two's authentication and SSO tools 3 months ago, we had a warm reception by several early- to mid- stage SaaS companies. The message was consistent. SSO was a key barrier to unlocking enterprise customers, and we had made it much easier to quickly integrate the alphabet-soup of enterprise identity providers.</p><p>Furthermore, many of our customers have responded well to our "one price per project" idea, citing that competitors and other enterprise authentication companies had pricing models that ramped on a per-user and per-SSO connection basis, making them economically unattractive to companies with business and pricing models that couldn't support that. </p><p>One of the other points that we heard loud and clear from our first customers, was the fear of vendor lock-in. Integrating tools like this can be a large effort, and can be difficult to unwind if the terms or service fall short. While our adoption of standards such as OpenID and SAML allayed some of those fears, we wanted to go a step further.</p><p>We built the initial verison of Phase Two as a set of extensions to the <a href="https://www.keycloak.org/" target="_blank" rel="noopener noreferrer">Keycloak</a> Open Source Identity and Access Management system, built and maintained by Red Hat. After several months of developing for it, and operating it for our customers, we've decided to continue using it. Keycloak has been battle-tested and hardened for over 6 years. It's security and reliability is depended on by organizations from small startups to Fortune 500 companies and governments.</p><p>To put to rest any future concerns about vendor lock-in, we're committing to making our core extensions to Keycloak open source. While we will endeavor to make Phase Two simple to use, operate and scale, we will maintain compatibility so that customers can migrate to their own Keycloak deployment. Updates and links to our open source extensions will be published in the <a href="/docs/introduction/open-source">Open Source</a> section of the documentation, and will be available in our <a href="https://github.com/p2-inc" target="_blank" rel="noopener noreferrer">p2-inc GitHub organization page</a>.</p><p>We have benefitted immensely from the open source communitiy, and we are excited to give back!</p>]]></content>
        <author>
            <name>Phase Two</name>
        </author>
        <category label="keycloak" term="keycloak"/>
        <category label="phase_two" term="phase_two"/>
        <category label="open_source" term="open_source"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Welcome to Phase Two]]></title>
        <id>welcome</id>
        <link href="https://phasetwo.io/blog/welcome"/>
        <updated>2020-09-28T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[After building and working for startups and technology companies for almost 25 years, I found myself having a sense of déjà-vu.]]></summary>
        <content type="html"><![CDATA[<p>After building and working for startups and technology companies for almost 25 years, I found myself having a sense of déjà-vu. </p><p>Had I really built the same features and functionality over and over?</p><p>Everyone of us who has been in the industry for any length of time probably has the same feeling. Whether or not we are fully conscious of it, we probably built a (bad) version of login, registration, user management, authorization, organizations and invitations, audit logging, etc. at least one time for every company we've worked for. </p><p>In early 2018, I joined an enterprise SaaS startup, where I built the initial team and product over 18 months. Analyzing tickets and epics in the project tracking system we used, I found that over 60% of our first 18 months was spent building features and functionality like this -- essential building blocks, but not the core competency we sought to test in the marketplace. And the result of that effort was only adequate versions of those common features, which resulted in less time spent on what we were trying to prove. I began to refer to this heavy tax a "SaaS CRUD".</p><p>Was this really what everyone else was doing? I was lucky to have a large network of engineering leaders at companies that ranged from the earliest stages to the largest public companies, so I asked them. The responses were remarkably consisitent. Early stage companies wished there was something comprehensive they could adopt, and later stage and large companies lamented not adopting external tools earlier that gave them guarantees around uptime and compliance. All were aware of or had tried to knit together a mish-mash of "feature company" products, and all expressed dissatisfaction with "model mismatch" of most of the tools in the marketplace, which demanded more integration overhead than the perceived benefit allowed. </p><p>I was lucky to find others that had observed the same thing. We joined forces and spent the next 6 months interviewing companies of a range of sizes, developing a playbook for companies building new products. Based on that playbook, today we are releasing our first version of tooling designed to help application developers avoid rebuilding "SaaS CRUD".</p><p>Phase Two is designed to help SaaS companies accelerate time-to-market. Authentication and SSO are our first targets, but we plan to expand to many other areas of pain for the growing company seeking enterprise adoption. We'd love for you to join us on this journey. For product demos and to become a beta customer, please <a href="mailto:support@phasetwo.io" target="_blank" rel="noopener noreferrer">contact us</a>!</p>]]></content>
        <author>
            <name>Phase Two</name>
        </author>
        <category label="release" term="release"/>
        <category label="phase_two" term="phase_two"/>
    </entry>
</feed>