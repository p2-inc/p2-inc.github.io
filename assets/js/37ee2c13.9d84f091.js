"use strict";(self.webpackChunkphasetwo_docs=self.webpackChunkphasetwo_docs||[]).push([[45710],{28453:(e,s,t)=>{t.d(s,{R:()=>c,x:()=>o});var n=t(96540);const i={},r=n.createContext(i);function c(e){const s=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),n.createElement(r.Provider,{value:s},e.children)}},76312:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"self-service/restrictions","title":"Cluster Restrictions (IP)","description":"Restrictions can be applied to your cluster to limit access to specific IP addresses or ranges. This is useful for enhancing security by ensuring that only traffic from known IPs can access your Keycloak instance.","source":"@site/docs/self-service/restrictions.md","sourceDirName":"self-service","slug":"/self-service/restrictions","permalink":"/docs/self-service/restrictions","draft":false,"unlisted":false,"editUrl":"https://github.com/p2-inc/phasetwo-docs/tree/main/docs/self-service/restrictions.md","tags":[],"version":"current","frontMatter":{"id":"restrictions","title":"Cluster Restrictions (IP)"},"sidebar":"docs","previous":{"title":"Cluster Resources (Themes and Extensions)","permalink":"/docs/self-service/resources"},"next":{"title":"Environment Variables","permalink":"/docs/self-service/environment-variables"}}');var i=t(74848),r=t(28453);const c={id:"restrictions",title:"Cluster Restrictions (IP)"},o=void 0,a={},l=[{value:"Types of Restrictions",id:"types-of-restrictions",level:3},{value:"Managing IP Restrictions",id:"managing-ip-restrictions",level:3}];function d(e){const s={h3:"h3",li:"li",ol:"ol",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.p,{children:"Restrictions can be applied to your cluster to limit access to specific IP addresses or ranges. This is useful for enhancing security by ensuring that only traffic from known IPs can access your Keycloak instance."}),"\n",(0,i.jsx)(s.p,{children:"Note: Premium clusters are limited to a two IP restrictions on the Admin paths only. Enterprise clusters can have multiple IP restrictions applied to both Admin and Public paths."}),"\n",(0,i.jsx)(s.h3,{id:"types-of-restrictions",children:"Types of Restrictions"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Admin Paths: These restrictions apply to the administrative interfaces of your Keycloak instance (e.g. /admin, /auth/admin). Only specified IPs can access the admin console and related endpoints. This includes Admin APIs. Admin endpoints by default allow unrestricted access from any IP."}),"\n",(0,i.jsxs)(s.li,{children:["Public Allowed Paths: Allow specific IP addresses to access public endpoints (e.g. /token).","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Note: Adding allowed IPs will restrict access to ONLY those addresses and may lock out all other access including machine-to-machine."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.li,{children:"Public Blocked Paths: Block specific IP addresses from accessing public endpoints (e.g. /token). This is the recommended approach for restricting access without affecting legitimate traffic."}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"managing-ip-restrictions",children:"Managing IP Restrictions"}),"\n",(0,i.jsx)(s.p,{children:"To add an IP restriction, follow these steps:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:'In the "IP Address / CIDR" field, enter the IP address or CIDR range you want to restrict. For the Alias, assign a recognizable name for the restriction.'}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:'Use the "Add Address" button to add additional IPs or ranges as needed.'}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:'Hit "Save" to apply changes.'}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:'Use the "-" to remove a restriction. Hit "Save" to apply changes.'}),"\n",(0,i.jsx)("img",{src:"/docs/restrictions/ip-restrictions.png",alt:"Manage restrictions",style:{width:"60%",borderRadius:"8px"}}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"After changes are saved, the Phase Two team will review and apply the restrictions to your cluster."})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);