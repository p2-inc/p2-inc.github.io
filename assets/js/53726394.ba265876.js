"use strict";(globalThis.webpackChunkphasetwo_docs=globalThis.webpackChunkphasetwo_docs||[]).push([[4738],{29766(e,t,o){o.r(t),o.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>s,metadata:()=>a,toc:()=>h});const a=JSON.parse('{"id":"security/recaptcha","title":"Keycloak reCaptcha","description":"At present, Keycloak supports reCaptcha for registration. You can use reCaptcha v2 or v3. To enable reCaptcha, the present registration Authentication flow must have the reCaptcha step set to Required. You must then also fill in the appropriate keys.","source":"@site/docs/security/recaptcha.md","sourceDirName":"security","slug":"/security/recaptcha","permalink":"/docs/security/recaptcha","draft":false,"unlisted":false,"editUrl":"https://github.com/p2-inc/phasetwo-docs/tree/main/docs/security/recaptcha.md","tags":[],"version":"current","frontMatter":{"id":"recaptcha","title":"Keycloak reCaptcha"},"sidebar":"docs","previous":{"title":"Penetration Tests","permalink":"/docs/security/penetration-tests"},"next":{"title":"Hosting","permalink":"/docs/hosting/"}}');var r=o(86070),n=o(49531);const s={id:"recaptcha",title:"Keycloak reCaptcha"},i=void 0,c={},h=[{value:"Enabling reCaptcha with Google",id:"enabling-recaptcha-with-google",level:3}];function l(e){const t={a:"a",h3:"h3",li:"li",ol:"ol",p:"p",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"At present, Keycloak supports reCaptcha for registration. You can use reCaptcha v2 or v3. To enable reCaptcha, the present registration Authentication flow must have the reCaptcha step set to Required. You must then also fill in the appropriate keys."}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsx)(t.li,{children:"Go to Authentication > Flows > registration. In the registration flow, toggle reCaptcha to Required."}),"\n",(0,r.jsx)(t.li,{children:"Then click the gear icon to bring up the configuration interface. Add the appropriate keys for the reCaptcha version you are using."}),"\n",(0,r.jsx)(t.li,{children:"To test this, you can go to the registration page and you should see the reCaptcha widget. Adjust the threshold up to 1.0 to ensure it triggers."}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"We recommend v3 as it is more user friendly, but v2 is also supported."}),"\n",(0,r.jsx)(t.p,{children:"Presently, only registration has this flow built-in. For this to be applied to the login flow, you need to create a custom authenticator. If you need this, please contact support for assistance."}),"\n",(0,r.jsx)(t.h3,{id:"enabling-recaptcha-with-google",children:"Enabling reCaptcha with Google"}),"\n",(0,r.jsxs)(t.p,{children:["This is a basic set of steps, but will require you to have a Google account and to have registered your site with Google reCaptcha. Go to ",(0,r.jsx)(t.a,{href:"https://console.cloud.google.com/security/recaptcha",children:"Google Cloud reCAPTCHA"}),". Enable the API to be used and create a new reCaptcha key. For testing purposes, leave the domain verification off."]}),"\n",(0,r.jsxs)(t.p,{children:["In addition, you will need an ",(0,r.jsx)(t.a,{href:"https://console.cloud.google.com/apis/credentials",children:"API key"})," to use the reCaptcha API."]})]})}function p(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},49531(e,t,o){o.d(t,{R:()=>s,x:()=>i});var a=o(30758);const r={},n=a.createContext(r);function s(e){const t=a.useContext(n);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),a.createElement(n.Provider,{value:t},e.children)}}}]);