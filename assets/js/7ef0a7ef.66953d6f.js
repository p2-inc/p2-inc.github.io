"use strict";(globalThis.webpackChunkphasetwo_docs=globalThis.webpackChunkphasetwo_docs||[]).push([[81256],{40159(e,n,i){i.d(n,{A:()=>s});const s=i.p+"assets/images/ciam-3349d9b64185f7f5596019b2a363f5d4.png"},49531(e,n,i){i.d(n,{R:()=>o,x:()=>a});var s=i(30758);const r={},t=s.createContext(r);function o(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(t.Provider,{value:n},e.children)}},77121(e,n,i){i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"keycloak/idp","title":"Keycloak as an Identity Provider Broker (IdP)","description":"What Is an IdP Broker?","source":"@site/docs/keycloak/idp.md","sourceDirName":"keycloak","slug":"/keycloak/idp","permalink":"/docs/keycloak/idp","draft":false,"unlisted":false,"editUrl":"https://github.com/p2-inc/phasetwo-docs/tree/main/docs/keycloak/idp.md","tags":[],"version":"current","frontMatter":{"id":"idp","title":"Keycloak as an Identity Provider Broker (IdP)"},"sidebar":"docs","previous":{"title":"Keycloak as an Identity and Access Management System (IAM)","permalink":"/docs/keycloak/iam"}}');var r=i(86070),t=i(49531);const o={id:"idp",title:"Keycloak as an Identity Provider Broker (IdP)"},a=void 0,l={},d=[{value:"What Is an IdP Broker?",id:"what-is-an-idp-broker",level:2},{value:"IdP Broker Use Cases",id:"idp-broker-use-cases",level:2},{value:"Why Keycloak for IdP Brokering?",id:"why-keycloak-for-idp-brokering",level:2},{value:"B2B Identity Federation",id:"b2b-identity-federation",level:3},{value:"Protocol Translation &amp; Normalization",id:"protocol-translation--normalization",level:3},{value:"Consistent Login Experience",id:"consistent-login-experience",level:3},{value:"Dynamic IdP Routing",id:"dynamic-idp-routing",level:3},{value:"Account Linking &amp; User Management",id:"account-linking--user-management",level:3}];function c(e){const n={a:"a",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"what-is-an-idp-broker",children:"What Is an IdP Broker?"}),"\n",(0,r.jsx)(n.p,{children:"An Identity Provider (IdP) Broker acts as an intermediary between a service provider (your application) and multiple external identity providers (such as Google, Microsoft, or enterprise SAML/OIDC providers). It standardizes the authentication experience for users, regardless of which identity provider they use."}),"\n",(0,r.jsx)(n.p,{children:"Keycloak, functioning as an IdP Broker, simplifies the integration of multiple identity sources into a unified system. It enables authentication across various identity providers while presenting a single, consistent entry point to users."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"idp-broker-use-cases",children:"IdP Broker Use Cases"}),"\n",(0,r.jsx)(n.p,{children:"IdP Brokers are especially useful in federated identity environments. Common use cases include:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Partner access"})," to shared services in a B2B environment, where each partner uses their own IdP"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Multi-organization platforms"})," (e.g., SaaS tools) where each customer has their own enterprise IdP"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Single entry point for diverse user bases"}),", such as internal employees via SAML and customers via ",(0,r.jsx)(n.a,{href:"/docs/authentication/social-login",children:"social logins"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Simplifying integration with multiple social identity providers"})," in B2C applications"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"By brokering identities, Keycloak enables users to authenticate using their preferred identity provider without the need for redundant credential management."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"CIAM",src:i(40159).A+"",width:"1220",height:"764"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"why-keycloak-for-idp-brokering",children:"Why Keycloak for IdP Brokering?"}),"\n",(0,r.jsx)(n.p,{children:"Keycloak offers a flexible and robust IdP Brokering model that supports multiple protocols and use cases."}),"\n",(0,r.jsx)(n.h3,{id:"b2b-identity-federation",children:"B2B Identity Federation"}),"\n",(0,r.jsxs)(n.p,{children:["Keycloak is well-suited for ",(0,r.jsx)(n.strong,{children:"Business-to-Business (B2B)"})," scenarios. It allows organizations to federate identities from:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Customer or partner IdPs"}),"\n",(0,r.jsx)(n.li,{children:"Other Keycloak instances (or between Keycloak realms on the same instance)"}),"\n",(0,r.jsx)(n.li,{children:"Standard-compliant IdPs using SAML or OpenID Connect"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This supports secure, scalable authentication across business boundaries."}),"\n",(0,r.jsxs)(n.p,{children:["Phase Two simplifies this process and setup with our ",(0,r.jsx)(n.a,{href:"/docs/organizations/identity-providers",children:"Organizations extension"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"protocol-translation--normalization",children:"Protocol Translation & Normalization"}),"\n",(0,r.jsx)(n.p,{children:"Keycloak acts as a bridge between various protocols, enabling:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"SAML \u2194 OIDC transformations"}),"\n",(0,r.jsx)(n.li,{children:"Standardized token issuance (e.g., JWTs for downstream services)"}),"\n",(0,r.jsx)(n.li,{children:"Role and attribute mapping between external IdPs and internal representations"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"consistent-login-experience",children:"Consistent Login Experience"}),"\n",(0,r.jsx)(n.p,{children:"Keycloak consolidates the login flow into a single user-facing entry point, regardless of the upstream identity provider. This ensures a seamless experience and enables branding, language, and flow customizations."}),"\n",(0,r.jsx)(n.h3,{id:"dynamic-idp-routing",children:"Dynamic IdP Routing"}),"\n",(0,r.jsx)(n.p,{children:"With Keycloak, you can configure:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Home realm discovery"})," based on email domains"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Pre-selected IdPs"})," via URL parameters"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Custom login flows"})," to prompt users for IdP selection"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This makes it easier to deliver tailored experiences for multi-tenant or partner-driven applications."}),"\n",(0,r.jsxs)(n.p,{children:["Phase Two simplifies this process and setup with our Organizations extension's ",(0,r.jsx)(n.a,{href:"/docs/organizations/membership",children:"home IdP discovery"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"account-linking--user-management",children:"Account Linking & User Management"}),"\n",(0,r.jsxs)(n.p,{children:["Keycloak supports automatic or manual ",(0,r.jsx)(n.strong,{children:"account linking"}),", helping reconcile identities from different IdPs to a single user record. This is essential when users have accounts in multiple systems or migrate from one IdP to another."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:"By acting as a centralized broker, Keycloak simplifies the complexity of identity federation across diverse systems. It is a critical component for any organization that wants to provide secure, seamless access across multiple identity sources\u2014without compromising user experience or security."})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);