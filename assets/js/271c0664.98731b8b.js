"use strict";(globalThis.webpackChunkphasetwo_docs=globalThis.webpackChunkphasetwo_docs||[]).push([[9718],{9625(e,n,t){t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>m,frontMatter:()=>l,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"admin-portal/index","title":"Admin Portal Docs","description":"The Phase Two Admin Portal allows you to offer self-management of User Profile and Organization features to your customers from within your application with almost no code. A portal link can be generated in your application that will take a logged in user to the Admin Portal. The appropriate configuration to activate the Admin Portal are installed by default. You can customize style and visibilty of the portal using the information in the following sections","source":"@site/docs/admin-portal/index.md","sourceDirName":"admin-portal","slug":"/admin-portal/","permalink":"/docs/admin-portal/","draft":false,"unlisted":false,"editUrl":"https://github.com/p2-inc/phasetwo-docs/tree/main/docs/admin-portal/index.md","tags":[],"version":"current","frontMatter":{"id":"index","title":"Admin Portal Docs","sidebar_label":"Admin Portal"},"sidebar":"docs","previous":{"title":"Identity Providers","permalink":"/docs/organizations/identity-providers"},"next":{"title":"Active Organization","permalink":"/docs/organizations/active-organization"}}');var r=t(86070),s=t(49531),o=t(40937),a=t(58548);const l={id:"index",title:"Admin Portal Docs",sidebar_label:"Admin Portal"},c=void 0,d={},h=[{value:"Configuration",id:"configuration",level:3},{value:"Styles",id:"styles",level:4},{value:"Access control",id:"access-control",level:3},{value:"Profile",id:"profile",level:4},{value:"Organization",id:"organization",level:4},{value:"API",id:"api",level:3},{value:"Listening for changes",id:"listening-for-changes",level:3},{value:"Component guides",id:"component-guides",level:3}];function u(e){const n={a:"a",code:"code",em:"em",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"The Phase Two Admin Portal allows you to offer self-management of User Profile and Organization features to your customers from within your application with almost no code. A portal link can be generated in your application that will take a logged in user to the Admin Portal. The appropriate configuration to activate the Admin Portal are installed by default. You can customize style and visibilty of the portal using the information in the following sections"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Phase Two Admin Portal Demo",src:t(68248).A+"",width:"600",height:"375"})}),"\n",(0,r.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsxs)(n.p,{children:["In the ",(0,r.jsx)(n.strong,{children:"Styles"}),"->",(0,r.jsx)(n.em,{children:"Portal"})," section of the admin UI, it is possible to configure user access to portions of the portal. This has the effect of limiting the self-management functionality that is available to your users. The sections that can be toggled are:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Profile"})," View and edit profile information such as first name, last name and email. View and edit credentials, linked account, and manage authenticated sessions.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Password update"})," Update password."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"2FA create/update"})," Add and remove 2FA mechanisms like OTP and WebAuthn."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Device activity"})," View and terminate active authentication sessions."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Linked accounts"})," View, create and remove links with social and other identity providers."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Organizations"})," View and (conditionally) edit details of organizations for which a user is a member.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Details"})," View and edit organization profile information."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Members"})," View and manage organization members and their roles. Invite new members."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Invitations"})," Invite new members."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Domains"})," Add and verify email domains for SSO login."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"SSO"})," Create and update SSO connections to organization identity provider."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Events"})," View events related to organization member activity."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Keycloak Phase Two Portal Style and Visibility Configuration",src:t(39360).A+"",width:"1014",height:"1251"})}),"\n",(0,r.jsx)(n.h4,{id:"styles",children:"Styles"}),"\n",(0,r.jsx)(n.p,{children:"Currently, the logo and favicon set in the general styles section will be used when rendering the portal in order to preserve your branding."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Keycloak Phase Two General Logo Configurations",src:t(35225).A+"",width:"1006",height:"823"})}),"\n",(0,r.jsxs)(n.p,{children:["Additionally, you can override three colors used in the portal, and optionally override the entire CSS. See the ",(0,r.jsx)(n.a,{href:"https://github.com/p2-inc/phasetwo-admin-portal",children:"Admin Portal source code"})," for details for overriding the stylesheet."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Keycloak Phase Two General Style Configuration",src:t(47225).A+"",width:"1012",height:"463"})}),"\n",(0,r.jsx)(n.h3,{id:"access-control",children:"Access control"}),"\n",(0,r.jsx)(n.p,{children:"Access to components in the admin portal is dictated by the User's roles, both globally and within their organization."}),"\n",(0,r.jsx)(n.h4,{id:"profile",children:"Profile"}),"\n",(0,r.jsxs)(n.p,{children:["Profile access requires the User to have the following ",(0,r.jsx)(n.code,{children:"account"})," Client roles. These are granted to all Users by default, so you don't need to change anything unless you wish to revoke these roles. These roles can be managed in the ",(0,r.jsx)(n.strong,{children:"Users"})," section of the Admin UI by selecting the User you wish to edit and navigating to their ",(0,r.jsx)(n.strong,{children:"Role mapping"})," tab."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Details - requires ",(0,r.jsx)(n.code,{children:"view-profile"})," to view, and ",(0,r.jsx)(n.code,{children:"manage-account"})," to change profile data"]}),"\n",(0,r.jsxs)(n.li,{children:["Security - requires ",(0,r.jsx)(n.code,{children:"view-profile"})," to view, ",(0,r.jsx)(n.code,{children:"manage-account"})," to change credentials, and ",(0,r.jsx)(n.code,{children:"manage-account-links"})," to add or change any social or brokered logins"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"organization",children:"Organization"}),"\n",(0,r.jsxs)(n.p,{children:["Access to each of the Organization components is controlled by the User's member roles within the organization. There are no organization default roles, so you must grant these to Users after they are created and added to the organization. Member roles can be managed in the ",(0,r.jsx)(n.strong,{children:"Organizations"})," section of the Admin UI by selecting the Organization you wish to manage, finding the User in the ",(0,r.jsx)(n.strong,{children:"Members"})," tab, and managing their roles using the context menu on the right."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Details: requires ",(0,r.jsx)(n.code,{children:"view-organization"})," to view, and ",(0,r.jsx)(n.code,{children:"manage-organization"})," to change"]}),"\n",(0,r.jsxs)(n.li,{children:["Members & Invitations: requires ",(0,r.jsx)(n.code,{children:"view-organization"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["requires ",(0,r.jsx)(n.code,{children:"view-members"})," to see members, and ",(0,r.jsx)(n.code,{children:"manage-members"})," to remove or edit them"]}),"\n",(0,r.jsxs)(n.li,{children:["requires ",(0,r.jsx)(n.code,{children:"view-roles"})," to see member roles"]}),"\n",(0,r.jsxs)(n.li,{children:["requires ",(0,r.jsx)(n.code,{children:"view-invitations"})," to see pending invitations, and ",(0,r.jsx)(n.code,{children:"manage-invitations"})," and ",(0,r.jsx)(n.code,{children:"view-roles"})," to invite new users"]}),"\n",(0,r.jsxs)(n.li,{children:["requires ",(0,r.jsx)(n.code,{children:"view-organization"}),", ",(0,r.jsx)(n.code,{children:"manage-organization"}),", ",(0,r.jsx)(n.code,{children:"view-identity-providers"})," and ",(0,r.jsx)(n.code,{children:"manage-identity-providers"})," to use the SSO setup wizards and view/remove Identity Providers"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"api",children:"API"}),"\n",(0,r.jsx)(n.p,{children:"If you choose to build functionality like the Admin Portal into your application to create a more unified experience, or to build it into native or mobile applications, you can use the APIs for User and Organization management."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/api/phase-two-admin-rest-api",children:"Organization API"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://gist.githubusercontent.com/xgp/2d77cbebc6164160faae6aa77d127a57/raw/c51a2d44ef1ce2d176a0f0c53cde0183738045ce/openapi.yaml",children:"User Account API"})," - This is a undocumented Keycloak API. We have linked to an unofficial OpenAPI spec file."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"listening-for-changes",children:"Listening for changes"}),"\n",(0,r.jsxs)(n.p,{children:["Once the user has made changes to their details, they seamlessly return to your application. You can be informed of changes by using ",(0,r.jsx)(n.a,{href:"../audit-logs/webhooks",children:"audit webhooks"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"component-guides",children:"Component guides"}),"\n","\n",(0,r.jsx)(o.A,{items:(0,a.useCurrentSidebarCategory)().items})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},20348(e,n,t){t.d(n,{Q:()=>s,b:()=>r});var i=t(35169);const r=()=>(0,i.translate)({id:"theme.tags.tagsPageTitle",message:"Tags",description:"The title of the tag list page"});function s(e){const n={};return Object.values(e).forEach(e=>{const t=function(e){return e[0].toUpperCase()}(e.label);n[t]??=[],n[t].push(e)}),Object.entries(n).sort(([e],[n])=>e.localeCompare(n)).map(([e,n])=>({letter:e,tags:n.sort((e,n)=>e.label.localeCompare(n.label))}))}},35225(e,n,t){t.d(n,{A:()=>i});const i=t.p+"assets/images/admin-portal-general-styles-10b43f7302762ee809f848d60a27d24b.png"},39360(e,n,t){t.d(n,{A:()=>i});const i=t.p+"assets/images/admin-portal-config-d7ea0612435d3678c169dfe8aff95306.png"},40937(e,n,t){t.d(n,{A:()=>w});t(30758);var i=t(13526),r=t(40549),s=t(2318),o=t(46769),a=t(88326),l=t(35169),c=t(30981);const d="cardContainer_t0x0",h="cardTitle_OhiJ",u="cardDescription_Rsr_";var m=t(86070);function g({className:e,href:n,children:t}){return(0,m.jsx)(s.default,{href:n,className:(0,i.A)("card padding--lg",d,e),children:t})}function p({className:e,href:n,icon:t,title:r,description:s}){return(0,m.jsxs)(g,{href:n,className:e,children:[(0,m.jsxs)(c.default,{as:"h2",className:(0,i.A)("text--truncate",h),title:r,children:[t," ",r]}),s&&(0,m.jsx)("p",{className:(0,i.A)("text--truncate",u),title:s,children:s})]})}function f({item:e}){const n=(0,r.Nr)(e),t=function(){const{selectMessage:e}=(0,o.W)();return n=>e(n,(0,l.translate)({message:"1 item|{count} items",id:"theme.docs.DocCard.categoryDescription.plurals",description:"The default description for a category card in the generated index about how many items this category includes"},{count:n}))}();return n?(0,m.jsx)(p,{className:e.className,href:n,icon:"\ud83d\uddc3\ufe0f",title:e.label,description:e.description??t(e.items.length)}):null}function x({item:e}){const n=(0,a.A)(e.href)?"\ud83d\udcc4\ufe0f":"\ud83d\udd17",t=(0,r.cC)(e.docId??void 0);return(0,m.jsx)(p,{className:e.className,href:e.href,icon:n,title:e.label,description:e.description??t?.description})}function j({item:e}){switch(e.type){case"link":return(0,m.jsx)(x,{item:e});case"category":return(0,m.jsx)(f,{item:e});default:throw new Error(`unknown item type ${JSON.stringify(e)}`)}}const y="docCardListItem_p5zS";function b({className:e}){const n=(0,r.a4)();return(0,m.jsx)(w,{items:n,className:e})}function v({item:e}){return(0,m.jsx)("article",{className:(0,i.A)(y,"col col--6"),children:(0,m.jsx)(j,{item:e})})}function w(e){const{items:n,className:t}=e;if(!n)return(0,m.jsx)(b,{...e});const s=(0,r.d1)(n);return(0,m.jsx)("section",{className:(0,i.A)("row",t),children:s.map((e,n)=>(0,m.jsx)(v,{item:e},n))})}},46769(e,n,t){t.d(n,{W:()=>c});var i=t(30758),r=t(59378);const s=["zero","one","two","few","many","other"];function o(e){return s.filter(n=>e.includes(n))}const a={locale:"en",pluralForms:o(["one","other"]),select:e=>1===e?"one":"other"};function l(){const{i18n:{currentLocale:e}}=(0,r.default)();return(0,i.useMemo)(()=>{try{return function(e){const n=new Intl.PluralRules(e);return{locale:e,pluralForms:o(n.resolvedOptions().pluralCategories),select:e=>n.select(e)}}(e)}catch(n){return console.error(`Failed to use Intl.PluralRules for locale "${e}".\nDocusaurus will fallback to the default (English) implementation.\nError: ${n.message}\n`),a}},[e])}function c(){const e=l();return{selectMessage:(n,t)=>function(e,n,t){const i=e.split("|");if(1===i.length)return i[0];i.length>t.pluralForms.length&&console.error(`For locale=${t.locale}, a maximum of ${t.pluralForms.length} plural forms are expected (${t.pluralForms.join(",")}), but the message contains ${i.length}: ${e}`);const r=t.select(n),s=t.pluralForms.indexOf(r);return i[Math.min(s,i.length-1)]}(t,n,e)}}},47225(e,n,t){t.d(n,{A:()=>i});const i=t.p+"assets/images/admin-portal-portal-styles-0ea03164b121b7269e2b1d8aa4623479.png"},49531(e,n,t){t.d(n,{R:()=>o,x:()=>a});var i=t(30758);const r={},s=i.createContext(r);function o(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:n},e.children)}},58548(e,n,t){t.r(n),t.d(n,{Collapsible:()=>c.N,DraftBannerMessage:()=>S.TT,DraftBannerTitle:()=>S.Yh,ErrorBoundaryError:()=>k.bq,ErrorBoundaryErrorMessageFallback:()=>k.MN,ErrorBoundaryTryAgainButton:()=>k.a2,ErrorCauseBoundary:()=>k.k2,HtmlClassNameProvider:()=>m.e3,NavbarSecondaryMenuFiller:()=>p.GX,PageMetadata:()=>m.be,ReactContextError:()=>u.dV,SkipToContentFallbackId:()=>C.j,SkipToContentLink:()=>C.K,ThemeClassNames:()=>d.G,ThemedComponent:()=>o.A,UnlistedBannerMessage:()=>S.Uh,UnlistedBannerTitle:()=>S.Rc,UnlistedMetadata:()=>S.AE,composeProviders:()=>u.fM,createStorageSlot:()=>a.Wf,duplicates:()=>w.XI,filterDocCardListItems:()=>I,groupBy:()=>w.$z,isMultiColumnFooterLinks:()=>b.C,isRegexpStringMatch:()=>v.G,listStorageKeys:()=>a.Eo,listTagsByLetters:()=>x.Q,mergeSearchParams:()=>T.TJ,mergeSearchStrings:()=>T.jy,prefersReducedMotion:()=>h.O,processAdmonitionProps:()=>P.c,translateTagsPageTitle:()=>x.b,uniq:()=>w.sb,useAnchorTargetClassName:()=>y.v,useClearQueryString:()=>T.W9,useCollapsible:()=>c.u,useColorMode:()=>g.G,useContextualSearchFilters:()=>N,useCurrentSidebarCategory:()=>z,useDocsPreferredVersion:()=>O,useEvent:()=>u._q,useHistorySelector:()=>T.Hl,usePluralForm:()=>l.W,usePrevious:()=>u.ZC,usePrismTheme:()=>A.A,useQueryString:()=>T.l,useQueryStringList:()=>T.fV,useSearchLinkCreator:()=>j.w,useSearchQueryString:()=>j.b,useStorageSlot:()=>a.Dv,useThemeConfig:()=>s.p,useWindowSize:()=>f.l});var i=t(59378),r=t(4511),s=t(53790),o=t(19820),a=t(63048),l=t(46769),c=t(27254),d=t(90495),h=t(72877),u=t(16068),m=t(45220),g=t(33221),p=t(21256),f=t(52237),x=t(20348),j=t(7751),y=t(55072),b=t(86122),v=t(40476),w=t(45130),A=t(90978),P=t(65089),T=t(21781),C=t(80972),S=t(94220),k=t(74077);function z(...e){return t(91713).useCurrentSidebarCategory(...e)}function I(...e){return t(91713).filterDocCardListItems(...e)}function O(...e){return t(91713).useDocsPreferredVersion(...e)}function N(){const{i18n:e}=(0,i.default)(),n=t(91713).useDocsContextualSearchTags(),s=[r.C,...n];return{locale:e.currentLocale,tags:s}}},65089(e,n,t){t.d(n,{c:()=>s});var i=t(30758),r=t(86070);function s(e){const{mdxAdmonitionTitle:n,rest:t}=function(e){const n=i.Children.toArray(e),t=n.find(e=>i.isValidElement(e)&&"mdxAdmonitionTitle"===e.type),s=n.filter(e=>e!==t),o=t?.props.children;return{mdxAdmonitionTitle:o,rest:s.length>0?(0,r.jsx)(r.Fragment,{children:s}):null}}(e.children),s=e.title??n;return{...e,...s&&{title:s},children:t}}},68248(e,n,t){t.d(n,{A:()=>i});const i=t.p+"assets/images/admin-portal-demo-3a5d8d4dcf889812a8ca648c3c14598a.gif"},90978(e,n,t){t.d(n,{A:()=>s});var i=t(33221),r=t(53790);function s(){const{prism:e}=(0,r.p)(),{colorMode:n}=(0,i.G)(),t=e.theme,s=e.darkTheme||t;return"dark"===n?s:t}},94220(e,n,t){t.d(n,{AE:()=>l,Rc:()=>o,TT:()=>d,Uh:()=>a,Yh:()=>c});t(30758);var i=t(35169),r=t(76932),s=t(86070);function o(){return(0,s.jsx)(i.default,{id:"theme.contentVisibility.unlistedBanner.title",description:"The unlisted content banner title",children:"Unlisted page"})}function a(){return(0,s.jsx)(i.default,{id:"theme.contentVisibility.unlistedBanner.message",description:"The unlisted content banner message",children:"This page is unlisted. Search engines will not index it, and only users having a direct link can access it."})}function l(){return(0,s.jsx)(r.A,{children:(0,s.jsx)("meta",{name:"robots",content:"noindex, nofollow"})})}function c(){return(0,s.jsx)(i.default,{id:"theme.contentVisibility.draftBanner.title",description:"The draft content banner title",children:"Draft page"})}function d(){return(0,s.jsx)(i.default,{id:"theme.contentVisibility.draftBanner.message",description:"The draft content banner message",children:"This page is a draft. It will only be visible in dev and be excluded from the production build."})}}}]);