"use strict";(self.webpackChunkphasetwo_docs=self.webpackChunkphasetwo_docs||[]).push([[4526],{3905:function(e,t,a){a.d(t,{Zo:function(){return d},kt:function(){return u}});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=p(a),u=r,g=m["".concat(s,".").concat(u)]||m[u]||c[u]||o;return a?n.createElement(g,i(i({ref:t},d),{},{components:a})):n.createElement(g,i({ref:t},d))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var p=2;p<o;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},84354:function(e,t,a){a.r(t),a.d(t,{assets:function(){return s},contentTitle:function(){return i},default:function(){return c},frontMatter:function(){return o},metadata:function(){return l},toc:function(){return p}});var n=a(83117),r=(a(67294),a(3905));const o={id:"roles",title:"Roles"},i=void 0,l={unversionedId:"organizations/roles",id:"organizations/roles",title:"Roles",description:"Members of an organization can have role assignments that are specific to that organization. These are separate from Keycloak realm and client roles, and do not inherit from them. There are a set of default roles that control access to functionality within Phase Two, and additional roles can be added for your application purposes. Role creation, management and assigment can be done in the Organizations tab of the Admin UI.",source:"@site/docs/organizations/roles.md",sourceDirName:"organizations",slug:"/organizations/roles",permalink:"/docs/organizations/roles",draft:!1,editUrl:"https://github.com/p2-inc/phasetwo-docs/tree/main/docs/organizations/roles.md",tags:[],version:"current",frontMatter:{id:"roles",title:"Roles"},sidebar:"docs",previous:{title:"Invitations",permalink:"/docs/organizations/invitations"},next:{title:"Identity providers",permalink:"/docs/organizations/identity-providers"}},s={},p=[{value:"Default roles",id:"default-roles",level:3},{value:"Custom roles",id:"custom-roles",level:3},{value:"Adding roles to the token",id:"adding-roles-to-the-token",level:3},{value:"API access",id:"api-access",level:3}],d={toc:p};function c(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,n.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Members of an organization can have role assignments that are specific to that organization. These are separate from Keycloak realm and client roles, and do not inherit from them. There are a set of default roles that control access to functionality within Phase Two, and additional roles can be added for your application purposes. Role creation, management and assigment can be done in the Organizations tab of the Admin UI."),(0,r.kt)("h3",{id:"default-roles"},"Default roles"),(0,r.kt)("p",null,"The default roles can be assigned to users to give them access to view and manage organization data."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Access"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"view-organization"),(0,r.kt)("td",{parentName:"tr",align:null},"View organization details.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"manage-organization"),(0,r.kt)("td",{parentName:"tr",align:null},"Update organization details. Delete the organization.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"view-members"),(0,r.kt)("td",{parentName:"tr",align:null},"View memberships.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"manage-members"),(0,r.kt)("td",{parentName:"tr",align:null},"Add and remove memberships.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"view-roles"),(0,r.kt)("td",{parentName:"tr",align:null},"View roles and assignements.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"manage-roles"),(0,r.kt)("td",{parentName:"tr",align:null},"Create and remove roles and assignments.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"view-invitations"),(0,r.kt)("td",{parentName:"tr",align:null},"View outstanding invitations.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"manage-invitations"),(0,r.kt)("td",{parentName:"tr",align:null},"Create and remove pending invitations.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"view-identity-providers"),(0,r.kt)("td",{parentName:"tr",align:null},"View configured identity providers for SSO.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"manage-identity-providers"),(0,r.kt)("td",{parentName:"tr",align:null},"Create, manage and remove identity providers for SSO.")))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Keycloak Phase Two Organizations Roles List",src:a(93292).Z,width:"1077",height:"683"})),(0,r.kt)("h3",{id:"custom-roles"},"Custom roles"),(0,r.kt)("p",null,"Custom roles can be created in the Roles section of each organization in the Organizations tab of the Admin UI. It is important to note that a role is created for ",(0,r.kt)("strong",{parentName:"p"},"each organization individually"),". If you wish to have the same role name for multiple organization, it is recommended that you create them programmatically on organization creation."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Keycloak Phase Two Organizations Roles Create",src:a(48519).Z,width:"837",height:"270"})),(0,r.kt)("h3",{id:"adding-roles-to-the-token"},"Adding roles to the token"),(0,r.kt)("p",null,"It is possible to map organization roles into the access token, ID token or userinfo endpoint response using the ",(0,r.kt)("strong",{parentName:"p"},"Organization Role")," token claim mapper for OIDC. If you have users that will have a large number of organization memberships or roles per organization, it is recommended that you only add the claim to the userinfo endpoint response, as it may cause large token sizes."),(0,r.kt)("h3",{id:"api-access"},"API access"),(0,r.kt)("p",null,"It is possible to ",(0,r.kt)("a",{parentName:"p",href:"/api/create-organization-role"},"create"),", ",(0,r.kt)("a",{parentName:"p",href:"/api/update-organization-role"},"update"),", ",(0,r.kt)("a",{parentName:"p",href:"/api/delete-organization-role"},"delete")," and ",(0,r.kt)("a",{parentName:"p",href:"/api/get-organization-roles"},"fetch all")," organization roles, as well as ",(0,r.kt)("a",{parentName:"p",href:"/api/grant-user-organization-role"},"grant"),", ",(0,r.kt)("a",{parentName:"p",href:"/api/revoke-user-organization-role"},"revoke"),", ",(0,r.kt)("a",{parentName:"p",href:"/api/check-user-organization-role"},"verify")," and ",(0,r.kt)("a",{parentName:"p",href:"/api/get-user-organization-roles"},"fetch all")," user assignments using the API."))}c.isMDXComponent=!0},48519:function(e,t,a){t.Z=a.p+"assets/images/organizations-roles-create-e59b82d927144700ddcdbc3b0b6b787a.png"},93292:function(e,t,a){t.Z=a.p+"assets/images/organizations-roles-list-38b0128fc397c5f28eb5595d6d201056.png"}}]);