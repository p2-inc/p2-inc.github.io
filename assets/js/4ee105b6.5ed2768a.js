"use strict";(self.webpackChunkphasetwo_docs=self.webpackChunkphasetwo_docs||[]).push([[24621],{1380:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>o,metadata:()=>t,toc:()=>h});var t=n(5877),r=n(74848),i=n(28453);const o={title:"Webauthn and Passkeys with Keycloak",slug:"webauthn-keycloak",date:new Date("2025-04-17T00:00:00.000Z"),authors:"phasetwo",tags:["phase_two","open_source","webauthn","passkeys","authentication"]},a="A Passwordless Future with Keycloak: Using Passkeys and WebAuthn",l={authorsImageUrls:[void 0]},h=[{value:"What Are Passkeys?",id:"what-are-passkeys",level:2},{value:"How Do Passkeys Work?",id:"how-do-passkeys-work",level:2},{value:"Where Are Passkeys Supported?",id:"where-are-passkeys-supported",level:2},{value:"What\u2019s the Relationship Between Passkeys and WebAuthn?",id:"whats-the-relationship-between-passkeys-and-webauthn",level:2},{value:"Adding Passkeys to Keycloak",id:"adding-passkeys-to-keycloak",level:2},{value:"Setup Steps",id:"setup-steps",level:3},{value:"Challenges and Considerations",id:"challenges-and-considerations",level:2},{value:"Device Recovery",id:"device-recovery",level:3},{value:"Cross-Platform Compatibility",id:"cross-platform-compatibility",level:3},{value:"User Education",id:"user-education",level:3},{value:"Deployment Architecture",id:"deployment-architecture",level:3},{value:"Why Phase Two?",id:"why-phase-two",level:2}];function d(e){const s={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.p,{children:["Passwords are on their way out. From phishing to password reuse, they've become one of the weakest links in modern authentication. The solution? ",(0,r.jsx)(s.strong,{children:"Passkeys"}),"\u2014a phishing-resistant, user-friendly, and increasingly supported replacement for traditional passwords."]}),"\n",(0,r.jsx)(s.p,{children:"In this post, we\u2019ll break down what passkeys are, how they work, which platforms support them, how they relate to WebAuthn, and how you can integrate them into your Keycloak authentication flows. Finally, we\u2019ll explore some of the real-world considerations and challenges."}),"\n",(0,r.jsx)(s.h2,{id:"what-are-passkeys",children:"What Are Passkeys?"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Passkeys"}),' are a modern alternative to passwords. Built on public-key cryptography, passkeys replace the traditional "something you know" (your password) with "something you have" (your device) and "something you are" (biometrics like a fingerprint or face scan).']}),"\n",(0,r.jsx)(s.p,{children:"Unlike passwords, passkeys:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Are resistant to phishing and brute-force attacks"}),"\n",(0,r.jsx)(s.li,{children:"Can\u2019t be reused across sites"}),"\n",(0,r.jsx)(s.li,{children:"Don\u2019t need to be remembered"}),"\n",(0,r.jsx)(s.li,{children:"Are stored securely on your device or in a password manager that supports syncing"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"They offer the security of hardware security keys (like YubiKey) but with the convenience of Face ID or Windows Hello."}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"how-do-passkeys-work",children:"How Do Passkeys Work?"}),"\n",(0,r.jsxs)(s.p,{children:["Passkeys use ",(0,r.jsx)(s.strong,{children:"public-private key pairs"})," (",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Public-key_cryptography",children:"link"}),"). Here\u2019s how a typical passkey login works:"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"A website (relying party) sends a challenge to the user's browser."}),"\n",(0,r.jsx)(s.li,{children:"The user\u2019s device uses a previously stored private key (protected by a biometric or PIN) to sign the challenge."}),"\n",(0,r.jsx)(s.li,{children:"The browser returns the signed challenge to the website."}),"\n",(0,r.jsx)(s.li,{children:"The website uses the stored public key to verify the response and complete authentication."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"No secrets are ever sent over the wire. This eliminates common password-based vulnerabilities."}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"where-are-passkeys-supported",children:"Where Are Passkeys Supported?"}),"\n",(0,r.jsx)(s.p,{children:"Passkeys are no longer a concept of the future\u2014they're here, and support is growing fast. To get a quick idea, here are some of the existing systems that offer support."}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Platform"}),(0,r.jsx)(s.th,{children:"Passkey Support"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Apple"})}),(0,r.jsx)(s.td,{children:"Face ID / Touch ID via iCloud Keychain (macOS, iOS)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Google"})}),(0,r.jsx)(s.td,{children:"Android and Chrome support passkeys via Google Password Manager"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Microsoft"})}),(0,r.jsx)(s.td,{children:"Windows Hello and Edge support WebAuthn-based passkeys"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Password Managers"})}),(0,r.jsx)(s.td,{children:"1Password and Dashlane have launched passkey support"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Browsers"})}),(0,r.jsx)(s.td,{children:"Chrome, Safari, Edge, and Firefox (with varying levels of polish)"})]})]})]}),"\n",(0,r.jsxs)(s.p,{children:["Cross-platform syncing is also becoming easier thanks to initiatives like ",(0,r.jsx)(s.strong,{children:"FIDO2"})," and ",(0,r.jsx)(s.strong,{children:"passkey.ro"}),"."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"whats-the-relationship-between-passkeys-and-webauthn",children:"What\u2019s the Relationship Between Passkeys and WebAuthn?"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"WebAuthn"})," (Web Authentication API) is the W3C standard that enables passwordless login in web applications. Passkeys are a ",(0,r.jsx)(s.strong,{children:"user-friendly implementation of WebAuthn credentials"}),", often synced across devices via a cloud provider (like iCloud or Google Password Manager)."]}),"\n",(0,r.jsx)(s.p,{children:"WebAuthn supports two main registration types:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Roaming authenticators"})," like hardware keys (YubiKey)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Platform authenticators"})," like biometrics on a phone or laptop (e.g., Touch ID, Windows Hello)"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Passkeys"})," use platform authenticators and often add cross-device syncing on top. So while WebAuthn is the standard, passkeys are the experience users interact with."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"adding-passkeys-to-keycloak",children:"Adding Passkeys to Keycloak"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Keycloak supports WebAuthn natively"}),", meaning you can offer passkeys as a sign-in method today\u2014no plugins or external tools required."]}),"\n",(0,r.jsx)(s.h3,{id:"setup-steps",children:"Setup Steps"}),"\n",(0,r.jsxs)(s.p,{children:["Test this next section using Phase Two's ",(0,r.jsx)(s.a,{href:"https://dash.phasetwo.io/",children:"Free Deployment"}),"."]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Enable user registration"})," in your realm settings."]}),"\n",(0,r.jsxs)(s.li,{children:["Under ",(0,r.jsx)(s.strong,{children:"Authentication \u2192 Required Actions"}),", enable:","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"WebAuthn Register"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"WebAuthn Register Passwordless"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Create a custom browser login flow:","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Duplicate the built-in browser flow."}),"\n",(0,r.jsxs)(s.li,{children:["Remove the ",(0,r.jsx)(s.code,{children:"Username Password Form"})," step. (optional if you don't want this as an option)"]}),"\n",(0,r.jsxs)(s.li,{children:["Add a ",(0,r.jsx)(s.code,{children:"Username Form"})," and the ",(0,r.jsx)(s.code,{children:"WebAuthn Passwordless Authenticator"})," step."]}),"\n",(0,r.jsxs)(s.li,{children:["Set the WebAuthn step to ",(0,r.jsx)(s.code,{children:"Required"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Bind this new flow as your realm's ",(0,r.jsx)(s.strong,{children:"browser flow"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"With this flow, users will log in using passkeys\u2014no passwords, just their fingerprint, face, or device confirmation."}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.p,{children:["\u2705 ",(0,r.jsx)(s.strong,{children:"Pro tip:"})," You can also offer passkeys as a second factor or as an upgrade path after initial password login."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"challenges-and-considerations",children:"Challenges and Considerations"}),"\n",(0,r.jsx)(s.p,{children:"Implementing passkeys is powerful, but not without complexity. A few things to keep in mind:"}),"\n",(0,r.jsx)(s.h3,{id:"device-recovery",children:"Device Recovery"}),"\n",(0,r.jsx)(s.p,{children:"If a user loses their device or wipes their phone, their passkey is lost unless it\u2019s synced to the cloud (e.g., iCloud, Google). Ensure fallback options exist\u2014like email OTP or re-registration."}),"\n",(0,r.jsx)(s.h3,{id:"cross-platform-compatibility",children:"Cross-Platform Compatibility"}),"\n",(0,r.jsx)(s.p,{children:"Passkeys behave differently across OSes and browsers. For example, Windows Hello may not sync with a MacBook\u2019s Touch ID. Testing across platforms is key."}),"\n",(0,r.jsx)(s.h3,{id:"user-education",children:"User Education"}),"\n",(0,r.jsx)(s.p,{children:"Passkeys are unfamiliar to many users. Provide clear onboarding, and consider hybrid flows that gradually move users from password-based logins to passkeys."}),"\n",(0,r.jsx)(s.h3,{id:"deployment-architecture",children:"Deployment Architecture"}),"\n",(0,r.jsx)(s.p,{children:"If your Keycloak deployment involves multiple realms or external IDPs, you'll need to ensure your WebAuthn configuration is consistent across them."}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"why-phase-two",children:"Why Phase Two?"}),"\n",(0,r.jsxs)(s.p,{children:["At ",(0,r.jsx)(s.strong,{children:"Phase Two"}),", we offer more than just Keycloak hosting\u2014we help teams ",(0,r.jsx)(s.strong,{children:"architect for modern identity"}),"."]}),"\n",(0,r.jsx)(s.p,{children:"Need help rolling out passkeys and passwordless login in your apps? We can help you:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Customize your Keycloak flows for WebAuthn"}),"\n",(0,r.jsx)(s.li,{children:"Audit your security settings and fallback options"}),"\n",(0,r.jsx)(s.li,{children:"Ensure your deployment scales with your users"}),"\n",(0,r.jsx)(s.li,{children:"Keep your Keycloak up-to-date with the latest passkey support"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Let\u2019s build a secure, passwordless future\u2014together."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\ud83d\udce9 ",(0,r.jsx)(s.a,{href:"mailto:sales@phasetwo.io",children:"Reach out to the team \u2192"})]}),"\n",(0,r.jsxs)(s.li,{children:["\ud83d\udc49 ",(0,r.jsx)(s.a,{href:"https://dash.phasetwo.io/",children:"Get Started with Free Managed Keycloak"})]}),"\n"]})]})}function c(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},5877:e=>{e.exports=JSON.parse('{"permalink":"/blog/webauthn-keycloak","source":"@site/blog/2025-04-17-webauthn-keycloak.md","title":"Webauthn and Passkeys with Keycloak","description":"Passwords are on their way out. From phishing to password reuse, they\'ve become one of the weakest links in modern authentication. The solution? Passkeys\u2014a phishing-resistant, user-friendly, and increasingly supported replacement for traditional passwords.","date":"2025-04-17T00:00:00.000Z","tags":[{"inline":true,"label":"phase_two","permalink":"/blog/tags/phase-two"},{"inline":true,"label":"open_source","permalink":"/blog/tags/open-source"},{"inline":true,"label":"webauthn","permalink":"/blog/tags/webauthn"},{"inline":true,"label":"passkeys","permalink":"/blog/tags/passkeys"},{"inline":true,"label":"authentication","permalink":"/blog/tags/authentication"}],"readingTime":4.16,"hasTruncateMarker":true,"authors":[{"name":"Phase Two","title":"Hosted Keycloak and Keycloak Support","url":"https://github.com/p2-inc","email":"support@phasetwo.io","imageURL":"https://avatars.githubusercontent.com/u/60152109?s=200&v=4","key":"phasetwo","page":null}],"frontMatter":{"title":"Webauthn and Passkeys with Keycloak","slug":"webauthn-keycloak","date":"2025-04-17T00:00:00.000Z","authors":"phasetwo","tags":["phase_two","open_source","webauthn","passkeys","authentication"]},"unlisted":false,"prevItem":{"title":"Web Application Security with Your Keycloak Deployment","permalink":"/blog/waf-keycloak"},"nextItem":{"title":"SAML, Simplified.","permalink":"/blog/introduction-to-simple-saml"}}')},28453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>a});var t=n(96540);const r={},i=t.createContext(r);function o(e){const s=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(i.Provider,{value:s},e.children)}}}]);