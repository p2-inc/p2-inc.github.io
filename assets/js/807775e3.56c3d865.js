"use strict";(self.webpackChunkphasetwo_docs=self.webpackChunkphasetwo_docs||[]).push([[3139],{3905:function(e,t,n){n.d(t,{Zo:function(){return m},kt:function(){return d}});var i=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=i.createContext({}),p=function(e){var t=i.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},m=function(e){var t=p(e.components);return i.createElement(c.Provider,{value:t},e.children)},l={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},u=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),u=p(n),d=a,h=u["".concat(c,".").concat(d)]||u[d]||l[d]||r;return n?i.createElement(h,o(o({ref:t},m),{},{components:n})):i.createElement(h,o({ref:t},m))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=u;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var p=2;p<r;p++)o[p]=n[p];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}u.displayName="MDXCreateElement"},63193:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return o},default:function(){return l},frontMatter:function(){return r},metadata:function(){return s},toc:function(){return p}});var i=n(83117),a=(n(67294),n(3905));const r={id:"membership",title:"Membership"},o=void 0,s={unversionedId:"organizations/membership",id:"organizations/membership",title:"Membership",description:"Users who are associated with an organization are considered members. The relationship of users to organizations can be managed in the Organizations tab of the Admin UI. Invitations also provide a way to allow organization administrators to invite new members to the organization. If you are associating an identity provider with an organization, all users who authenticate through an associated identity provider will automatically be added as members to the organization.",source:"@site/docs/organizations/membership.md",sourceDirName:"organizations",slug:"/organizations/membership",permalink:"/docs/organizations/membership",draft:!1,editUrl:"https://github.com/p2-inc/phasetwo-docs/tree/main/docs/organizations/membership.md",tags:[],version:"current",frontMatter:{id:"membership",title:"Membership"},sidebar:"docs",previous:{title:"Attributes",permalink:"/docs/organizations/attributes"},next:{title:"Invitations",permalink:"/docs/organizations/invitations"}},c={},p=[{value:"Anonymous organization administrator",id:"anonymous-organization-administrator",level:3},{value:"Adding organizations to the token",id:"adding-organizations-to-the-token",level:3},{value:"API access",id:"api-access",level:3}],m={toc:p};function l(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,i.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Users who are associated with an organization are considered members. The relationship of users to organizations can be managed in the Organizations tab of the Admin UI. ",(0,a.kt)("a",{parentName:"p",href:"../invitations"},"Invitations")," also provide a way to allow organization administrators to invite new members to the organization. If you are associating an identity provider with an organization, all users who authenticate through an associated identity provider will automatically be added as members to the organization."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Keycloak Phase Two Organizations Membership List",src:n(56391).Z,width:"1106",height:"434"})),(0,a.kt)("h3",{id:"anonymous-organization-administrator"},"Anonymous organization administrator"),(0,a.kt)("p",null,"When an organization is created, you will notice that a user is created with the username ",(0,a.kt)("inlineCode",{parentName:"p"},"org-admin-{org_id}"),". This is a machine user that can be used for the purpose of sending admin portal links over email to ",(0,a.kt)("em",{parentName:"p"},"known, trusted")," administrators who don't otherwise have access through the application. It is recommended that you do not edit this user or make any changes to its setup, or it could compromise the security of your application."),(0,a.kt)("h3",{id:"adding-organizations-to-the-token"},"Adding organizations to the token"),(0,a.kt)("p",null,"It is possible to map organization membership into the access token, ID token or userinfo endpoint response using the ",(0,a.kt)("strong",{parentName:"p"},"Organization Role")," token claim mapper for OIDC. It is possible to configure the mapper to exclude the roles. If you have users that will have a large number of organization memberships or roles per organization, it is recommended that you only add the claim to the userinfo endpoint response, as it may cause large token sizes."),(0,a.kt)("h3",{id:"api-access"},"API access"),(0,a.kt)("p",null,"It is possible to ",(0,a.kt)("a",{parentName:"p",href:"/api/add-organization-member"},"create"),", ",(0,a.kt)("a",{parentName:"p",href:"/api/check-organization-membership"},"verify"),", ",(0,a.kt)("a",{parentName:"p",href:"/api/remove-organization-member"},"delete")," and ",(0,a.kt)("a",{parentName:"p",href:"/api/get-organization-memberships"},"fetch all")," organization memberships using the API."))}l.isMDXComponent=!0},56391:function(e,t,n){t.Z=n.p+"assets/images/organizations-membership-list-51edc7cbaa26debb5900bffacc3779cb.png"}}]);