<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-securing-applications/springboot" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">SpringBoot | Managed Keycloak Hosting and Enterprise Keycloak Support</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://phasetwo.io/docs/securing-applications/springboot/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="keycloak, iam, sso"><meta data-rh="true" property="og:logo" content="/img/appstore.png" size="1024x1024"><meta data-rh="true" property="og:image" content="/img/og_image_app.png" size="1200x630"><meta data-rh="true" property="og:logo" content="/img/playstore.png" size="512x512"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="SpringBoot | Managed Keycloak Hosting and Enterprise Keycloak Support"><meta data-rh="true" name="description" content="Sample SpringBoot application with authentication and authorization."><meta data-rh="true" property="og:description" content="Sample SpringBoot application with authentication and authorization."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://phasetwo.io/docs/securing-applications/springboot/"><link data-rh="true" rel="alternate" href="https://phasetwo.io/docs/securing-applications/springboot/" hreflang="en"><link data-rh="true" rel="alternate" href="https://phasetwo.io/docs/securing-applications/springboot/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://W4PN7W5A70-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Securing Applications","item":"https://phasetwo.io/docs/securing-applications/"},{"@type":"ListItem","position":2,"name":"SpringBoot","item":"https://phasetwo.io/docs/securing-applications/springboot"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Managed Keycloak Hosting and Enterprise Keycloak Support RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Managed Keycloak Hosting and Enterprise Keycloak Support Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="Managed Keycloak Hosting and Enterprise Keycloak Support" href="/opensearch.xml">




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss/dist/preflight.min.css">




<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script src="https://www.termsfeed.com/public/cookie-consent/4.1.0/cookie-consent.js" charset="UTF-8" defer="defer"></script>
<script src="https://www.googletagmanager.com/gtag/js?id=UA-160183620-1" async data-cookie-consent="tracking"></script><link rel="stylesheet" href="/assets/css/styles.26326263.css">
<script src="/assets/js/runtime~main.c3260b65.js" defer="defer"></script>
<script src="/assets/js/main.6f340b15.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","light"),document.documentElement.setAttribute("data-theme-choice","light"),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent__pLf" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_IaI3" style="background-color:#3fa1e3;color:#fff" role="banner"><div class="content_jzLQ announcementBarContent_Erpu"><a href="/blog/dashboard-launch/">Announcing our new Dashboard!</a> New self-serve features for cluster/realm management (observability, configuration, and more).</div></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo_phase_slash.svg" alt="Phase Two" class="themedComponent_EyYy themedComponent--light_inVq"><img src="/img/logo_phase_slash.svg" alt="Phase Two" class="themedComponent_EyYy themedComponent--dark_RuHJ"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/hosting/">Hosting</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/support/">Support</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/support/">Enterprise Support</a></li><li><a class="dropdown__link" href="/support/migrate-to-keycloak/">Migration to Keycloak</a></li><li><a class="dropdown__link" href="/support/emergency-support/">Emergency Keycloak Assistance</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Product</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/product/onprem/">On-Premise Deployment</a></li><li><a class="dropdown__link" href="/product/sso/">SSO</a></li><li><a class="dropdown__link" href="/product/identity/">Identity</a></li><li><a class="dropdown__link" href="/product/organizations/">Organizations</a></li><li><a class="dropdown__link" href="/product/adminportal/">Admin Portal</a></li><li><a class="dropdown__link" href="/product/integrations/">Integrations</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Developers</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/introduction/">Docs</a></li><li><a class="dropdown__link" href="/api/phase-two-admin-rest-api/">API</a></li><li><a href="https://github.com/p2-inc#our-extensions-" target="_blank" rel="noopener noreferrer" class="dropdown__link">Keycloak Extensions<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_VuzC"><use href="#theme-svg-external-link"></use></svg></a></li><li><a class="dropdown__link" href="/articles/introduction/">Articles</a></li><li><a href="https://github.com/p2-inc/" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_VuzC"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/pricing/">Pricing</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/pricing/hosting/">Hosting</a></li><li><a class="dropdown__link" href="/pricing/support/">Support</a></li></ul></div><a class="navbar__item navbar__link" href="/blog/">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" buttontype="btnSecondary" href="/contact/">Contact</a><a href="https://dash.phasetwo.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" buttontype="btnPrimary" title="Login or Register">Dashboard<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_VuzC"><use href="#theme-svg-external-link"></use></svg></a><div class="navbarSearchContainer_j5x7"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_Kr8P"><div class="docsWrapper_boRX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_A6aU" type="button"></button><div class="docRoot_Ls8E"><aside class="theme-doc-sidebar-container docSidebarContainer_D07E"><div class="sidebarViewport_upxu"><div class="sidebar_LLRm"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Quyr menuWithAnnouncementBar_v7y_"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_eY4S menu__link menu__link--sublist" href="/docs/introduction/"><span title="Introduction" class="categoryLinkLabel_BOFb">Introduction</span></a><button aria-label="Expand sidebar category &#x27;Introduction&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_eY4S menu__link menu__link--sublist" href="/docs/getting-started/"><span title="Getting Started" class="categoryLinkLabel_BOFb">Getting Started</span></a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_eY4S menu__link menu__link--sublist" href="/docs/self-service/"><span title="Dashboard (self-service)" class="categoryLinkLabel_BOFb">Dashboard (self-service)</span></a><button aria-label="Expand sidebar category &#x27;Dashboard (self-service)&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_eY4S menu__link menu__link--sublist menu__link--active" href="/docs/securing-applications/"><span title="Securing Applications" class="categoryLinkLabel_BOFb">Securing Applications</span></a><button aria-label="Collapse sidebar category &#x27;Securing Applications&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/securing-applications/django/"><span title="Django" class="linkLabel_CLrn">Django</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/securing-applications/springboot/"><span title="SpringBoot" class="linkLabel_CLrn">SpringBoot</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/securing-applications/javascript/"><span title="JavaScript" class="linkLabel_CLrn">JavaScript</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/securing-applications/react/"><span title="React" class="linkLabel_CLrn">React</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/securing-applications/next/"><span title="Next.js" class="linkLabel_CLrn">Next.js</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/securing-applications/vue/"><span title="Vue.js" class="linkLabel_CLrn">Vue.js</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/securing-applications/nuxt/"><span title="Nuxt" class="linkLabel_CLrn">Nuxt</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/securing-applications/remix/"><span title="Remix" class="linkLabel_CLrn">Remix</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/securing-applications/sveltekit/"><span title="SvelteKit" class="linkLabel_CLrn">SvelteKit</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/securing-applications/angular/"><span title="Angular" class="linkLabel_CLrn">Angular</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_eY4S menu__link menu__link--sublist" href="/docs/api/"><span title="API + Access" class="categoryLinkLabel_BOFb">API + Access</span></a><button aria-label="Expand sidebar category &#x27;API + Access&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_eY4S menu__link menu__link--sublist" href="/docs/authentication/"><span title="Authentication" class="categoryLinkLabel_BOFb">Authentication</span></a><button aria-label="Expand sidebar category &#x27;Authentication&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_eY4S menu__link menu__link--sublist" href="/docs/sso/"><span title="SSO" class="categoryLinkLabel_BOFb">SSO</span></a><button aria-label="Expand sidebar category &#x27;SSO&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_eY4S menu__link menu__link--sublist" href="/docs/organizations/"><span title="Organizations" class="categoryLinkLabel_BOFb">Organizations</span></a><button aria-label="Expand sidebar category &#x27;Organizations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_eY4S menu__link menu__link--sublist" href="/docs/admin-portal/"><span title="Admin Portal" class="categoryLinkLabel_BOFb">Admin Portal</span></a><button aria-label="Expand sidebar category &#x27;Admin Portal&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_eY4S menu__link menu__link--sublist" href="/docs/audit-logs/"><span title="Audit Logs" class="categoryLinkLabel_BOFb">Audit Logs</span></a><button aria-label="Expand sidebar category &#x27;Audit Logs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_eY4S menu__link menu__link--sublist" href="/docs/user-migration/"><span title="User Migration" class="categoryLinkLabel_BOFb">User Migration</span></a><button aria-label="Expand sidebar category &#x27;User Migration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_eY4S menu__link menu__link--sublist" href="/docs/security/"><span title="Security" class="categoryLinkLabel_BOFb">Security</span></a><button aria-label="Expand sidebar category &#x27;Security&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_eY4S menu__link menu__link--sublist" href="/docs/hosting/"><span title="Hosting" class="categoryLinkLabel_BOFb">Hosting</span></a><button aria-label="Expand sidebar category &#x27;Hosting&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_eY4S menu__link menu__link--sublist" href="/docs/keycloak/"><span title="Keycloak" class="categoryLinkLabel_BOFb">Keycloak</span></a><button aria-label="Expand sidebar category &#x27;Keycloak&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_cXzb"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_adN6"><div class="docItemContainer_s3jj"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Amup" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_Y3Xn"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/securing-applications/"><span>Securing Applications</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">SpringBoot</span></li></ul></nav><div class="tocCollapsible_wXqd theme-doc-toc-mobile tocMobile_b2K6"><button type="button" class="clean-btn tocCollapsibleButton_HWR7">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>SpringBoot</h1></header><p>Sample SpringBoot application with authentication and authorization.</p>
<!-- -->
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="install-and-configure-spring-boot">Install and configure Spring Boot<a href="#install-and-configure-spring-boot" class="hash-link" aria-label="Direct link to Install and configure Spring Boot" title="Direct link to Install and configure Spring Boot" translate="no">â€‹</a></h2>
<p>Now that we&#x27;ve setup and configured Keycloak using <a href="https://dash.phasetwo.io/" target="_blank" rel="noopener noreferrer" class="">Phase Two</a> and cloned or created our Spring Boot application template, we will need to configure the project to leverage the capabilities provided by Keycloak.</p>
<ol>
<li class="">
<p>Configure application settings</p>
<p>Update your <code>application.yaml</code> configuration file with the Keycloak security configuration (it&#x27;s possible your download includes a <code>application.properties</code> file instead).</p>
<div class="language-yaml codeBlockContainer_Y_6F theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_vaQw"><pre tabindex="0" class="prism-code language-yaml codeBlock_lLLt thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_svEc"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">spring</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">application</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> spring</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">boot</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">keycloak</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">security</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">oauth2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">resourceserver</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">jwt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">issuer-uri</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> $http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">keycloak</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">url/auth/realms/$your</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">realm</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">jwk-set-uri</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">spring.security.oauth2.resourceserver.jwt.issuer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">uri</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">/protocol/openid</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">connect/certs</span><br></span></code></pre></div></div>
<p>Replace</p>
<ul>
<li class=""><code>$http-keycloak-url</code> with the Keycloak URL from the Phase Two hosted Keycloak instance.</li>
<li class=""><code>$your-realm</code> with the Keycloak realm created earlier in this tutorial.</li>
</ul>
<p>If you are using the local Keycloak instance from the cloned example, use the local address for <code>$http-keycloak-url</code>.</p>
<p>The below Java code omits any imports, reference our example for necessary imports or use your text editor to assist with populating the imports.</p>
</li>
<li class="">
<p>Configure Spring Boot resource server</p>
<p>Under <code>src.main.java.com.springbootkeycloak</code> create a new package, <code>config</code>, and create a class <code>SecurityConfig.java</code>. In this class, add the <code>HttpSecurity</code> settings:</p>
<div class="language-java codeBlockContainer_Y_6F theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_vaQw"><pre tabindex="0" class="prism-code language-java codeBlock_lLLt thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_svEc"><span class="token-line" style="color:#bfc7d5"><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@EnableWebSecurity</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@EnableMethodSecurity</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">SecurityConfig</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">final</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">JwtClaimsConverter</span><span class="token plain"> jwtAuthConverter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">SecurityConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">JwtClaimsConverter</span><span class="token plain"> jwtAuthConverter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">jwtAuthConverter </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> jwtAuthConverter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Bean</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">SecurityFilterChain</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">securityFilterChain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">HttpSecurity</span><span class="token plain"> http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">throws</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Exception</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">authorizeHttpRequests</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">authz </span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                authz</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">requestMatchers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/api/**&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">authenticated</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">oauth2ResourceServer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">oauth2ResourceServer </span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                oauth2ResourceServer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">jwt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">jwt </span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain"> jwt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">jwtAuthenticationConverter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">jwtAuthConverter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">csrf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">AbstractHttpConfigurer</span><span class="token operator" style="color:rgb(137, 221, 255)">::</span><span class="token function" style="color:rgb(130, 170, 255)">disable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">sessionManagement</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">session </span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain"> session</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">sessionCreationPolicy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">SessionCreationPolicy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">STATELESS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">build</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p>This configuration will make the Spring Boot act as an OAuth2 Resource Server&#x27;s with JWT authentication. This configuration is part of the functionality provided by the <code>spring-boot-starter-oauth2-resource-server</code> dependency. Read more about it&#x27;s configuration <a href="https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-sansboot" target="_blank" rel="noopener noreferrer" class="">here</a>.</p>
</li>
<li class="">
<p>Add JWT token convert configuration</p>
<p>In the same <code>config</code> package, create another class, <code>JwtClaimsConverter.java</code>. Add a converter for extracting the security context attributes from the <code>access_token</code> received from Keycloak.</p>
<div class="language-java codeBlockContainer_Y_6F theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_vaQw"><pre tabindex="0" class="prism-code language-java codeBlock_lLLt thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_svEc"><span class="token-line" style="color:#bfc7d5"><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Component</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">JwtClaimsConverter</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">implements</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Converter</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">Jwt</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(255, 203, 107)">AbstractAuthenticationToken</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">AbstractAuthenticationToken</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">convert</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">Jwt</span><span class="token plain"> jwt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> authorities </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">extractRealmRoles</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">jwt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">JwtAuthenticationToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">jwt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> authorities</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getPrincipalFromClaim</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">jwt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getPrincipalFromClaim</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">Jwt</span><span class="token plain"> jwt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> claimName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;preferred_username&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> jwt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getClaim</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">claimName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Collection</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">GrantedAuthority</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">extractRealmRoles</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">Jwt</span><span class="token plain"> jwt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">Map</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">String</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:rgb(255, 203, 107)">Object</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> resource </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> jwt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getClaim</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;realm_access&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">Collection</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">String</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> roles</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">resource </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token operator" style="color:rgb(137, 221, 255)">||</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">roles </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">Collection</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">String</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> resource</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;roles&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Set</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">of</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> roles</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">stream</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">role </span><span class="token operator" style="color:rgb(137, 221, 255)">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">SimpleGrantedAuthority</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ROLE_&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> role</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">collect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">Collectors</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">toSet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p>The provided example uses the <code>preferred_username</code> claim for populating the <em>principal</em> of the security context and the <code>realm_access.roles</code> to populate the <em>authorities</em>.</p>
<p>This configuration is part of the functionality provided by the <code>spring-boot-starter-oauth2-resource-server</code> dependency. Read more about it&#x27;s configuration <a href="https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-authorization-extraction" target="_blank" rel="noopener noreferrer" class="">here</a>.</p>
</li>
<li class="">
<p>Create the secured API resources:</p>
<p>In <code>src.main.java.com.springbootkeycloak</code> create a new package, <code>web</code>, and create a new class <code>TestController.java</code>.</p>
<p>To test the security integration two resource endpoints are defined:</p>
<ul>
<li class=""><code>/api/test/anonymous</code></li>
<li class=""><code>/api/test/user</code></li>
</ul>
<p>Implemented with this code:</p>
<div class="language-java codeBlockContainer_Y_6F theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_vaQw"><pre tabindex="0" class="prism-code language-java codeBlock_lLLt thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_svEc"><span class="token-line" style="color:#bfc7d5"><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@RestController</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@RequestMapping</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/api/test&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">TestController</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@RequestMapping</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">value </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/anonymous&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> method </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">RequestMethod</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">GET</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ResponseEntity</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">String</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getAnonymous</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ResponseEntity</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">ok</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Hello Anonymous&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@PreAuthorize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;hasRole(&#x27;ROLE_user&#x27;)&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(199, 146, 234)">@RequestMapping</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">value </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/user&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> method </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">RequestMethod</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">GET</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ResponseEntity</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token generics class-name" style="color:rgb(255, 203, 107)">String</span><span class="token generics punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getUser</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ResponseEntity</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">ok</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Hello Secured with user role.&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>Because both endpoints have the prefix <code>/api</code> they will require a secure context in order to access them. Furthermore, the <code>/api/test/user</code> endpoint is secured using a predefined authority <code>ROLE_user</code>. This is a Realm role that can be created and applied to your example user from earlier in this tutorial.</p>
<p>This logic can be used to extend access and authorization to any part of the application.</p>
<p>Start the application running with <code>./gradlew bootRun</code>.</p>
</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="testing-the-secured-endpoints">Testing the secured endpoints<a href="#testing-the-secured-endpoints" class="hash-link" aria-label="Direct link to Testing the secured endpoints" title="Direct link to Testing the secured endpoints" translate="no">â€‹</a></h3>
<p>The secured endpoints can be tested using <code>curl</code> with the <code>Authorization</code> header. The <code>Authorization</code> header must contain the <code>access_token</code>.</p>
<div class="language-bash codeBlockContainer_Y_6F theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_vaQw"><pre tabindex="0" class="prism-code language-bash codeBlock_lLLt thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_svEc"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl --location &#x27;http://localhost:8080/api/test/anonymous&#x27; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --header &#x27;Authorization: Bearer {{$access_token}}&#x27;</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Y_6F theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_vaQw"><pre tabindex="0" class="prism-code language-bash codeBlock_lLLt thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_svEc"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl --location &#x27;http://localhost:8080/api/test/user&#x27; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --header &#x27;Authorization: Bearer {{$access_token}}&#x27;</span><br></span></code></pre></div></div>
<p>To generate an access token, you can use the <code>openid-connect/token</code> endpoint from Keycloak.</p>
<div class="language-bash codeBlockContainer_Y_6F theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_vaQw"><pre tabindex="0" class="prism-code language-bash codeBlock_lLLt thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_svEc"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -X POST \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --location &quot;https://$http-keycloak-url/auth/realms/$keycloak-realm/protocol/openid-connect/token&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -H &#x27;Content-Type: application/x-www-form-urlencoded&#x27; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -d &#x27;username=$test-user&amp;password=$password&amp;grant_type=password&amp;client_id=$client-name&amp;client_secret=$client-secret&#x27;</span><br></span></code></pre></div></div>
<p>Substitute the values from your Keycloak instance and test user for <code>$http-keycloak-url</code>, <code>$keycloak-realm</code>, <code>$test-user</code>, <code>$password</code>, <code>$client-name</code>, and <code>$client-secret</code>.</p>
<p>In the returned HTTP response, the <code>access_token</code> will be present. Use this token to test the secured endpoints in the example curl&#x27;s above.</p>
<p>At this point, your Spring Boot application is secured with Keycloak, but there is no &quot;Frontend&quot; to the application. In the next section, we will add an Angular SPA to demonstrate sign-in with Keycloak.</p>
<h2 class="anchor anchorTargetStickyNavbar_ukyt" id="integration-with-angular">Integration with Angular<a href="#integration-with-angular" class="hash-link" aria-label="Direct link to Integration with Angular" title="Direct link to Integration with Angular" translate="no">â€‹</a></h2>
<p>In order to access the secured resources of the Spring Boot server, we will create a client application which will authenticate our users. After Authentication, that user will then have access to the secured resources via their JWT token.</p>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="generate-angular-application">Generate Angular Application<a href="#generate-angular-application" class="hash-link" aria-label="Direct link to Generate Angular Application" title="Direct link to Generate Angular Application" translate="no">â€‹</a></h3>
<p>Our <a href="https://github.com/p2-inc/examples/tree/main/frameworks/spring-boot-keycloak" target="_blank" rel="noopener noreferrer" class="">Spring Boot example</a> already has a basic Angular application setup. We will use that for the rest of this setup.</p>
<p>In the example folder, open the <code>angularclient</code> folder.</p>
<p>If you do want to start your own Application, follow the instructions below:</p>
<ul>
<li class="">Setup a new Angular application following these <a href="https://angular.io/start" target="_blank" rel="noopener noreferrer" class="">instructions</a></li>
<li class="">Use the Angular Oauth2 OIDC <a href="https://github.com/manfredsteyer/angular-oauth2-oidc" target="_blank" rel="noopener noreferrer" class="">library</a> to integrate authentication and authorization.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_ukyt" id="securing-views">Securing views<a href="#securing-views" class="hash-link" aria-label="Direct link to Securing views" title="Direct link to Securing views" translate="no">â€‹</a></h3>
<p>In the <code>/angularclient/src/app</code> folder, the <code>app.module.ts</code> file is the entry point for the Angular application. The Angular application will need to be configured in order to access user information only after authentication.</p>
<div class="language-javascript codeBlockContainer_Y_6F theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_vaQw"><pre tabindex="0" class="prism-code language-javascript codeBlock_lLLt thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_svEc"><span class="token-line" style="color:#bfc7d5"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:rgb(130, 170, 255)">NgModule</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">declarations</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">AppComponent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">MainpageComponent</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">imports</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">BrowserModule</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">AppRoutingModule</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">FormsModule</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">HttpClientModule</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">OAuthModule</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">forRoot</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">providers</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token literal-property property">provide</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">APP_INITIALIZER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token literal-property property">useFactory</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> applicationInitializerFactory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token literal-property property">deps</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token maybe-class-name">OAuthService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token literal-property property">multi</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token literal-property property">provide</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">LOCAL_STORAGE_TOKEN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">useFactory</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> localStorageFactory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token literal-property property">provide</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">OAuthStorage</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">useFactory</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> localStorageFactory</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">bootstrap</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token maybe-class-name">AppComponent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">AppModule</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p>The app is initialized with the <code>OAuthService</code> as a dependency. Tokens from the <code>OAuthService</code> are stored in the browser&#x27;s <code>localStorage</code>.</p>
<p>To configure the <code>OAuthService</code>&#x27;s <code>authorization code</code> login flow with the <code>angular-oauth2-oidc</code> library add the following configuration:</p>
<div class="language-javascript codeBlockContainer_Y_6F theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_vaQw"><pre tabindex="0" class="prism-code language-javascript codeBlock_lLLt thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_svEc"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">configure</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  oauthService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">configure</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// URL of the SPA to redirect the user to after login</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token literal-property property">redirectUri</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(191, 199, 213)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">location</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">origin</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/index.html&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// The SPA&#x27;s id. The SPA is registered with this id at the auth-server</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token literal-property property">clientId</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;$your-public-keycloak-client&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// set the scope for the permissions the client should request</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token literal-property property">scope</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;openid&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// url for  /.well-known/openid-configuration endpoint</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token literal-property property">issuer</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://$http-keycloak-url:8888/auth/realms/$your-keycloak-realm&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token literal-property property">disablePKCE</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//initialize the code flow</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token literal-property property">responseType</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;code&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token literal-property property">showDebugInformation</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p>Replace <code>http-keycloak-url</code>, <code>$your-public-keycloak-client</code>, and <code>$your-keycloak-realm</code> with your actual Keycloak configurations.</p>
<p>Start the application with <code>npm run start</code></p>
<h4 class="anchor anchorTargetStickyNavbar_ukyt" id="user-authentication">User Authentication<a href="#user-authentication" class="hash-link" aria-label="Direct link to User Authentication" title="Direct link to User Authentication" translate="no">â€‹</a></h4>
<p>In the <code>user.component.html</code> file, we authenticate the user to the logged in state and conditionally render the login and logout buttons.</p>
<div class="language-html codeBlockContainer_Y_6F theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_vaQw"><pre tabindex="0" class="prism-code language-html codeBlock_lLLt thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_svEc"><span class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">*ngIf</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">isLoggedIn</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">&lt;!-- Content for logged-in users --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">mb-2 text-p2blue-700 text-2xl</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">Authenticated</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">mb-6 text-p2blue-700 text-md</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">*ngIf</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">userInfo</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">p</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">span</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">font-bold</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">Username</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">span</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">: {{ userInfo.username }}</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">p</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">p</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">span</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">font-bold</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">Email</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">span</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">: {{ userInfo.email }}</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">p</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">p</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">span</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">font-bold</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">Roles</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">span</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">: {{ userInfo.roles }}</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">p</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">button</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">[class]</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">buttonClasses</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">(click)</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">signOut()</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">Sign Out</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">button</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">*ngIf</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">!isLoggedIn</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">mb-6 text-p2blue-700 text-2xl</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">Not authenticated.</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">button</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">[class]</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">buttonClasses</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">(click)</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">signIn()</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">Sign In</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">button</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><br></span></code></pre></div></div>
<p>the <code>isLoggedIn</code> function can be found in the <code>user.component.ts</code> file.</p>
<div class="language-javascript codeBlockContainer_Y_6F theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_vaQw"><pre tabindex="0" class="prism-code language-javascript codeBlock_lLLt thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_svEc"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">isLoggedIn</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">oauthService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">hasValidAccessToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre></div></div>
<p>Clicking the Log In or Log Out buttons will redirect to the Keycloak login page or log the user out.</p>
<h4 class="anchor anchorTargetStickyNavbar_ukyt" id="use-angular-guards-to-secure-routes">Use Angular guards to secure routes<a href="#use-angular-guards-to-secure-routes" class="hash-link" aria-label="Direct link to Use Angular guards to secure routes" title="Direct link to Use Angular guards to secure routes" translate="no">â€‹</a></h4>
<p>We can achieve route restriction by using guards. If the access token is not valid the guard will initiate the login flow. You could optionally apply this at the router level to enforce a full page login.</p>
<div class="language-javascript codeBlockContainer_Y_6F theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_vaQw"><pre tabindex="0" class="prism-code language-javascript codeBlock_lLLt thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_svEc"><span class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">AuthGuard</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">implements</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">CanActivate</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">constructor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter keyword" style="font-style:italic">private</span><span class="token parameter"> </span><span class="token parameter literal-property property">oauthService</span><span class="token parameter operator" style="color:rgb(137, 221, 255)">:</span><span class="token parameter"> </span><span class="token parameter maybe-class-name">OAuthService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">canActivate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">route</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">ActivatedRouteSnapshot</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token literal-property property">state</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">RouterStateSnapshot</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Observable</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">boolean </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token maybe-class-name">UrlTree</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">oauthService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">hasValidAccessToken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">oauthService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">initLoginFlow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">of</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_QB5G"><a href="https://github.com/p2-inc/phasetwo-docs/tree/main/docs/securing-applications/springboot.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_ZCjN" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_q67E"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/securing-applications/django/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Django</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/securing-applications/javascript/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">JavaScript</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents__TmQ thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#install-and-configure-spring-boot" class="table-of-contents__link toc-highlight">Install and configure Spring Boot</a><ul><li><a href="#testing-the-secured-endpoints" class="table-of-contents__link toc-highlight">Testing the secured endpoints</a></li></ul></li><li><a href="#integration-with-angular" class="table-of-contents__link toc-highlight">Integration with Angular</a><ul><li><a href="#generate-angular-application" class="table-of-contents__link toc-highlight">Generate Angular Application</a></li><li><a href="#securing-views" class="table-of-contents__link toc-highlight">Securing views</a></li></ul></li></ul></div></div></div></div></main></div></div><div><noscript>Free cookie consent management tool by
        <a href="https://www.termsfeed.com/">TermsFeed</a></noscript></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Phase Two</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/company/about/">About</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/company/careers/">Careers</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Product</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" activebasepath="hosting" href="/hosting/">Hosting</a></li><li class="footer__item"><a class="footer__link-item" activebasepath="product/sso" href="/product/sso/">SSO</a></li><li class="footer__item"><a class="footer__link-item" activebasepath="product/identity" href="/product/identity/">Identity</a></li><li class="footer__item"><a class="footer__link-item" activebasepath="product/organizations" href="/product/organizations/">Organizations</a></li><li class="footer__item"><a class="footer__link-item" activebasepath="product/adminportal" href="/product/adminportal/">Admin Portal</a></li><li class="footer__item"><a class="footer__link-item" activebasepath="product/onprem" href="/product/onprem/">On-Prem</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Developers</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction/">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/api/phase-two-admin-rest-api/">API</a></li><li class="footer__item"><a href="https://github.com/p2-inc" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_VuzC"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/support/migrate-to-keycloak/">Migrate to Keycloak</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Support</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/contact/">Contact</a></li><li class="footer__item"><a class="footer__link-item" href="/support/">Enterprise Support</a></li><li class="footer__item"><a href="https://github.com/p2-inc/phasetwo/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bugs &amp; Feature Requests<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_VuzC"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="mailto:support@phasetwo.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">support@phasetwo.io<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_VuzC"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://dev.to/phasetwo" target="_blank" rel="noopener noreferrer" class="footer__link-item">DEV.to<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_VuzC"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCUY2ZvxI0hxpTWO_8w7MjVw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_VuzC"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://trust.phasetwo.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Trust Center<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_VuzC"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/company/privacy/">Privacy Policy</a></li><li class="footer__item"><a class="footer__link-item" href="/company/terms/">Terms of Use</a></li><li class="footer__item"><a href="https://trust.phasetwo.io/subprocessors" target="_blank" rel="noopener noreferrer" class="footer__link-item">Subprocessors</a></li><li class="footer__item"><a class="footer__link-item" href="/company/service-agreement/">Service Agreement</a></li><li class="footer__item"><a class="footer__link-item" href="/company/sla/">SLA</a></li><li class="footer__item"><a href="#open_preferences_center" class="footer__link-item" id="open_preferences_center">Cookies Policy</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title"> </div><ul class="footer__items clean-list"><li class="footer__item">
                <img class="footer-logo" src="/img/logo_phase_slash.svg" alt="PhaseTwo" width="114" height="51">
              </li><li class="footer__item">
                <div class="flex space-x-2 mt-2">
                <img class="soc-2-footer block dark:hidden" src="/img/soc2_type2/SOC 2 T2_Black_V.png" alt="SOC 2 Type 2" width="70px" height="auto">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" viewBox="-18 -1 142 142" width="70" height="auto"><path fill="#274DD8" d="M.84 13.293c0-7.18 5.82-13 13-13h78.747c7.18 0 13 5.82 13 13v114.351c0 7.18-5.82 13-13 13H13.84c-7.18 0-13-5.82-13-13z"></path><path fill="#191F2C" d="M.84 87.496h104.747v40.148c0 7.179-5.82 13-13 13H13.84c-7.18 0-13-5.82-13-13z"></path><path fill="url(#gdpr_badge_svg__a)" d="M20.303 12.709h65.821V78.53H20.303z"></path><path fill="#fff" d="M60.795 45.62c0-1.046-.85-1.896-1.896-1.896h-.947v-2.842a4.743 4.743 0 0 0-4.738-4.738 4.743 4.743 0 0 0-4.738 4.738v2.842h-.948c-1.045 0-1.895.85-1.895 1.896v7.58c0 1.045.85 1.895 1.895 1.895H58.9c1.045 0 1.895-.85 1.895-1.895zM50.37 40.882a2.846 2.846 0 0 1 2.843-2.843 2.846 2.846 0 0 1 2.843 2.843v2.842H50.37zm-16.428 68.952q-1.584 0-2.826-.702-1.224-.702-1.908-2.07t-.684-3.33q0-1.908.72-3.276a5 5 0 0 1 2.052-2.124q1.35-.738 3.168-.738 2.034 0 3.258.738 1.242.72 1.926 2.304l-2.862 1.134q-.234-.918-.828-1.332t-1.476-.414q-1.332 0-2.07.954-.72.936-.72 2.736 0 1.908.738 2.844.738.918 2.214.918 1.026 0 1.71-.486t.684-1.494v-.18H34.32v-2.07h5.346v6.408H37.56l-.126-1.458a3.35 3.35 0 0 1-1.386 1.224q-.864.414-2.106.414m13.133-12.06q2.79 0 4.266 1.548 1.494 1.548 1.494 4.392t-1.494 4.392q-1.476 1.548-4.266 1.548h-5.04v-11.88zm-.306 9.54q1.512 0 2.196-.9.702-.918.702-2.7t-.702-2.682q-.684-.918-2.196-.918h-1.638v7.2zm13.641-9.54q2.16 0 3.365 1.044Q65 99.844 65 101.734t-1.224 2.934q-1.206 1.026-3.366 1.026h-2.358v3.96h-3.096v-11.88zm-.487 5.598q1.962 0 1.962-1.638t-1.962-1.638h-1.872v3.276zm12.726-5.598q2.124 0 3.294.99 1.188.99 1.188 2.664 0 1.332-.63 2.196-.612.846-1.764 1.242l3.096 4.788h-3.42l-2.538-4.338H70.02v4.338h-3.042v-11.88zm-.432 5.346q.9 0 1.35-.36t.45-1.152q0-1.494-1.8-1.494H70.02v3.006zM22.85 123.555q-.377 1.352-1.39 1.976-1.002.61-2.367.611-1.313 0-2.262-.52a3.6 3.6 0 0 1-1.443-1.521q-.507-.989-.507-2.379 0-1.392.507-2.379a3.5 3.5 0 0 1 1.443-1.508q.949-.533 2.25-.533 1.338 0 2.34.572 1 .571 1.325 1.794l-1.963.793q-.181-.794-.598-1.092-.402-.312-1.027-.312-.936 0-1.469.676-.52.675-.52 1.989 0 1.313.494 1.989.507.675 1.508.676.624 0 1.053-.338.442-.351.598-1.066zm5.092-6.253q1.3 0 2.236.533a3.5 3.5 0 0 1 1.456 1.508q.507.987.507 2.379 0 1.39-.507 2.379a3.6 3.6 0 0 1-1.456 1.521q-.936.52-2.236.52-1.314 0-2.262-.52a3.6 3.6 0 0 1-1.443-1.521q-.507-.989-.507-2.379 0-1.392.507-2.379a3.5 3.5 0 0 1 1.443-1.508q.948-.533 2.262-.533m0 1.755q-.936 0-1.43.676-.495.663-.494 1.989 0 1.326.494 2.002.494.663 1.43.663.922 0 1.417-.663.494-.676.494-2.002t-.494-1.989q-.495-.676-1.417-.676m15.668-1.625v8.58h-1.975v-3.939l.065-2.639h-.026l-2.12 6.578h-1.806l-2.12-6.578h-.025l.065 2.639v3.939h-1.99v-8.58h3.186l1.352 4.368.48 1.82h.027l.494-1.807 1.339-4.381zm5.84 0q1.56 0 2.43.754.885.741.885 2.106t-.884 2.119q-.87.741-2.431.741h-1.703v2.86H45.51v-8.58zm-.351 4.043q1.416 0 1.417-1.183 0-1.183-1.417-1.183h-1.352v2.366zm7.331 2.808h4.303v1.729h-6.539v-8.58h2.236zm7.82-6.851v8.58h-2.235v-8.58zm1.006 8.58 3.016-8.58h2.678l3.003 8.58h-2.3l-.586-1.937h-2.964l-.598 1.937zm3.965-5.525-.65 2.067H70.6l-.624-2.054-.377-1.352h-.026zm13.465-3.055v8.58h-2.483l-2.665-4.641-.65-1.274h-.013l.052 1.586v4.329h-1.976v-8.58h2.483l2.665 4.641.65 1.274h.013l-.052-1.586v-4.329zm9.116 0v1.729h-2.795v6.851H86.77v-6.851h-2.808v-1.729z"></path><defs><pattern id="gdpr_badge_svg__a" width="1" height="1" patternContentUnits="objectBoundingBox"><use xlink:href="#gdpr_badge_svg__b" transform="scale(.00167)"></use></pattern><image xlink:href="data:image/png;base64,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" id="gdpr_badge_svg__b" width="600" height="600"></image></defs></svg>
                </div>
              </li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2026 Phase Two, Inc.</div></div></div></footer></div>
</body>
</html>