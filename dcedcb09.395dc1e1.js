(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{153:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return o})),n.d(t,"rightToc",(function(){return s})),n.d(t,"default",(function(){return d}));var a=n(1),c=n(6),r=(n(0),n(164)),i={id:"audit-access",title:"Access"},o={id:"audit-access",isDocsHomePage:!1,title:"Access",description:"Please contact us for access.",source:"@site/docs/audit-access.md",permalink:"/docs/audit-access",editUrl:"https://github.com/p2-inc/phasetwo-docs/tree/master/docs/audit-access.md",sidebar:"docs",previous:{title:"Overview",permalink:"/docs/audit-overview"},next:{title:"Admin",permalink:"/docs/audit-admin"}},s=[{value:"Example",id:"example",children:[]},{value:"Event types",id:"event-types",children:[{value:"Login events",id:"login-events",children:[]},{value:"Account events",id:"account-events",children:[]}]}],l={rightToc:s};function d(e){var t=e.components,n=Object(c.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"Please ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"mailto:support@phasetwo.io"}),"contact us")," for access."))),Object(r.b)("p",null,"Phase Two records access event types that pertain to end users use of the Phase Two and customer systems. These are primarily registration, login and account management actions. "),Object(r.b)("h2",{id:"example"},"Example"),Object(r.b)("p",null,"The following is an example of the detail contained in an ",Object(r.b)("inlineCode",{parentName:"p"},"access.LOGIN")," event:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "uid": "8d76de08-1c12-4d9a-bb86-fd1c602b2486",\n  "time": 1588363619462,\n  "realmId": "customer.app",\n  "type": "access.LOGIN",\n  "authDetails": {\n    "realmId": "customer.app",\n    "clientId": "web-app",\n    "userId": "f7cd3491-7c6c-480c-bc5c-b2b3b0fb048c",\n    "ipAddress": "78.195.109.209",\n    "username": "johndoe",\n    "sessionId": "70c446c9-ed9a-4c9e-9a72-d26363bb4000"\n  },\n  "details": {\n    "auth_method": "openid-connect",\n    "redirect_uri": "https://customer.com/dashboard",\n    "consent": "no_consent_required",\n    "code_id": "70c446c9-ed9a-4c9e-9a72-d26363bb4000",\n    "username": "johndoe"\n  }\n}\n')),Object(r.b)("p",null,"Field definitions can be viewed in the ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"audit-api"}),"API documentation"),"."),Object(r.b)("h2",{id:"event-types"},"Event types"),Object(r.b)("p",null,"All access event types are indicated in the ",Object(r.b)("inlineCode",{parentName:"p"},"type")," field of the json event with the ",Object(r.b)("inlineCode",{parentName:"p"},"access.")," prefix. "),Object(r.b)("h3",{id:"login-events"},"Login events"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"LOGIN - A user has logged in."),Object(r.b)("li",{parentName:"ul"},"REGISTER - A user has registered."),Object(r.b)("li",{parentName:"ul"},"LOGOUT - A user has logged out."),Object(r.b)("li",{parentName:"ul"},"CODE_TO_TOKEN - An application/client has exchanged a code for a token."),Object(r.b)("li",{parentName:"ul"},"REFRESH_TOKEN - An application/client has refreshed a token.")),Object(r.b)("h3",{id:"account-events"},"Account events"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"SOCIAL_LINK - An account has been linked to a social provider."),Object(r.b)("li",{parentName:"ul"},"REMOVE_SOCIAL_LINK - A social provider has been removed from an account."),Object(r.b)("li",{parentName:"ul"},"UPDATE_EMAIL - The email address for an account has changed."),Object(r.b)("li",{parentName:"ul"},"UPDATE_PROFILE - The profile for an account has changed."),Object(r.b)("li",{parentName:"ul"},"SEND_RESET_PASSWORD - A password reset email has been sent."),Object(r.b)("li",{parentName:"ul"},"UPDATE_PASSWORD - The password for an account has changed."),Object(r.b)("li",{parentName:"ul"},"UPDATE_TOTP - The TOTP settings for an account have changed."),Object(r.b)("li",{parentName:"ul"},"REMOVE_TOTP - TOTP has been removed from an account."),Object(r.b)("li",{parentName:"ul"},"SEND_VERIFY_EMAIL - An email verification email has been sent."),Object(r.b)("li",{parentName:"ul"},"VERIFY_EMAIL - The email address for an account has been verified.")),Object(r.b)("p",null,"For all events, there is a corresponding error event, suffixed with ",Object(r.b)("inlineCode",{parentName:"p"},"_ERROR"),", which indicates a problem when performing the indicated action."))}d.isMDXComponent=!0},164:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var a=n(0),c=n.n(a);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var l=c.a.createContext({}),d=function(e){var t=c.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o({},t,{},e)),n},p=function(e){var t=d(e.components);return c.a.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return c.a.createElement(c.a.Fragment,{},t)}},u=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,i=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),p=d(n),u=a,m=p["".concat(i,".").concat(u)]||p[u]||b[u]||r;return n?c.a.createElement(m,o({ref:t},l,{components:n})):c.a.createElement(m,o({ref:t},l))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=u;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:a,i[1]=o;for(var l=2;l<r;l++)i[l]=n[l];return c.a.createElement.apply(null,i)}return c.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"}}]);